<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">One post tagged with &quot;Tellus&quot; | 工程屍 FlyPie 的異想世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://flyskypie.github.io/blog/tags/tellus"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:locale" content="zh_tw"><meta data-rh="true" property="og:title" content="One post tagged with &quot;Tellus&quot; | 工程屍 FlyPie 的異想世界"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/blog/2024-03-24_tellus-voxel-test/img/02_crystal-lattice-structure-formation.webp"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flyskypie.github.io/blog/tags/tellus"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/blog/tags/tellus" hreflang="en"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/blog/tags/tellus" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="工程屍 FlyPie 的異想世界 JSON Feed">




<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4a9022c6.css">
<script src="/assets/js/runtime~main.3317b423.js" defer="defer"></script>
<script src="/assets/js/main.942ebeec.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_LBgp" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--light_RyNI"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--dark_ntqO"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/the-key-of-huanche/">專案文件</a><a class="navbar__item navbar__link" href="/blogs">數位手記</a><a class="navbar__item navbar__link" href="/posts">廢文雜談</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_s2nU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_DonJ colorModeToggle_KBLq"><button class="clean-btn toggleButton_qwn5 toggleButtonDisabled_tRn_" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bYdl"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_D9Q4"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Cbrq"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_GUBX"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_UgN6 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_PkUw margin-bottom--md">Recent posts</div><ul class="sidebarItemList_HFnO clean-list"><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/blog/2025-07-05_harbor">OCI Image 本地鏡像站遷移之旅</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/blog/2025-04-23_my-homelab">我的 Homelab</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/blog/2025-03-15_opensource-3d-workflow">一種開源工具鏈嘗試，以最近幫風機製作角座為例</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/blog/2024-11-04_blender-anatomy">從 Blender 開始的解剖學筆記 - 骨骼篇 - 啟程</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/blog/2024-08-31_polis-dev-log">Polis 專案研究進度</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>One post tagged with &quot;Tellus&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="前情提要"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/blog/2024-03-24_24_tellus-voxel-test">一種包含旋轉資訊的 Voxel 資料格式 | Tellus Dev Log</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2024-03-24T00:00:00.000Z" itemprop="datePublished">March 24, 2024</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="前情提要">前情提要<a href="#前情提要" class="hash-link" aria-label="Direct link to 前情提要" title="Direct link to 前情提要">​</a></h2>
<ul>
<li><a href="https://flyskypie.github.io/sideprojects-wiki/#Project%3ATellus" target="_blank" rel="noopener noreferrer">Tellus</a> 是<a href="https://flyskypie.github.io/sideprojects-wiki/#Project%3A%E7%92%B0%E9%A9%85%E4%B9%8B%E9%91%B0" target="_blank" rel="noopener noreferrer">環驅之鑰</a>下的子專案，專案目的為「建立儲存 Voxel 世界資料的系統」。</li>
<li>2021 年的時候，我受到 MBTiles 的啟發寫了一個基於 SQLite 檔案的 Voxel 儲存格式<sup><a href="#user-content-fn-voxtt-spec-bbcb5d" id="user-content-fnref-voxtt-spec-bbcb5d" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="背景">背景<a href="#背景" class="hash-link" aria-label="Direct link to 背景" title="Direct link to 背景">​</a></h2>
<p>最近 （2024 二月）買了 <a href="https://store.steampowered.com/app/285920/TerraTech/" target="_blank" rel="noopener noreferrer">TerraTech</a> ，玩著玩著、在遊戲內轉著方塊，突然靈光一閃，想要處理旋轉方向的資料格式問題。</p>
<p>原本（2021 年寫的那份格式）我打算採取儲存 Voxel 的格式是用任意無損壓縮的點陣圖檔來儲存，舉例來說一個 16×16×16 Chunk 的資料會長得像這樣：</p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,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" width="299" height="460" class="img_RpFt"></p>
<p>也就是一個 Pixel 等於一個 Voxel，但是這種方式單純是把一個 Voxel 當成一個像素點紀錄，無法支援像 Minecraft 那樣方塊有方向性的情況。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="儲存的哲學">儲存的哲學<a href="#儲存的哲學" class="hash-link" aria-label="Direct link to 儲存的哲學" title="Direct link to 儲存的哲學">​</a></h2>
<p>我無意針對儲存 Voxel 資料去創造一個二進制文件的定義，而是使用一般的點陣圖檔，其原因源自於 Unix 哲學<sup><a href="#user-content-fn-unix_philosophy-bbcb5d" id="user-content-fnref-unix_philosophy-bbcb5d" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>：</p>
<blockquote>
<p>Store data in flat text files.</p>
</blockquote>
<p>二維點陣圖檔是一種常見且十分普及的資料格式，不論是透過圖形化界面的軟體還是函式庫，對其進行讀寫都是一件簡單的事情，我認為在這個意義上它與「純文字檔案」無異，而且具有更好的資料密度（壓縮率）。</p>
<p>在這個基礎上，我打算拿 8 個 Pixels 來描述一個 Block，令其中夾帶「方塊方向」的資訊，就結果而言可能過於浪費記憶體，不過作為一個（預計）遊戲的開發者，資料儲存的效率不是我當下最在意的事情，況且不少點陣圖片的檔案格式就有各自的無損壓縮演算法了，這個想法的基礎同樣來自  Unix 哲學<sup><a href="#user-content-fn-unix_philosophy-bbcb5d" id="user-content-fnref-unix_philosophy-bbcb5d-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>：</p>
<blockquote>
<p>Make each program do one thing well.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="單位晶胞">單位晶胞<a href="#單位晶胞" class="hash-link" aria-label="Direct link to 單位晶胞" title="Direct link to 單位晶胞">​</a></h2>
<p>單位晶胞 (Unit cell) 是固態物理 學使用的一種概念，與之相對的是另外一個名為晶格 (Crystal Lattice) 的概念：</p>
<p><img decoding="async" loading="lazy" alt="https://www.expii.com/t/crystal-lattice-structure-formation-7999" src="/assets/images/02_crystal-lattice-structure-formation-142cadd0a0ec153b29c6ec9d4de70b12.webp" width="1341" height="1041" class="img_RpFt"></p>
<p>晶格是討論的結晶材料時候的最小單位，因為我們可以從它的結構與方向去探討這些參數如何影響宏觀特性，但是當我們把它切得更小會得到一個可以透過旋轉而構成晶格的最小不重複單元，那就是單位晶胞。</p>
<p>於是我把原本設計的資料格式再往下切割，用 8 個 Voxels 去構成一個 Block：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/03_unit-voxel-31590ba83d8bd4fe3fde41e00c0a2fef.webp" width="674" height="502" class="img_RpFt"></p>
<p>透過解析 8 個 Pixels 的排列模式就能定義出一個 Block 不同的旋轉方向。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="次生-voxel">次生 Voxel<a href="#次生-voxel" class="hash-link" aria-label="Direct link to 次生 Voxel" title="Direct link to 次生 Voxel">​</a></h2>
<p>接下來我會明確的區分這三個用語：</p>
<ul>
<li>Pixel<!-- -->
<ul>
<li>二維空間的色點。</li>
</ul>
</li>
<li>Voxel<!-- -->
<ul>
<li>三圍空間的色點，沒有方向性。</li>
</ul>
</li>
<li>Block<!-- -->
<ul>
<li>由 8 個 Voxel 構成的方塊，有方向性。</li>
</ul>
</li>
</ul>
<p>對於一個 3 Bytes 的像素空間而言（RGB 三個頻道個佔 1 個 Byte），能夠表達的 Voxel 種類其實足夠可觀了，即便拿 8 個排列組合來描述一種 Block 也綽綽有餘：</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><msup><mn>2</mn><mn>8</mn></msup><mo>×</mo><msup><mn>2</mn><mn>8</mn></msup><mo>×</mo><msup><mn>2</mn><mn>8</mn></msup></mrow><mn>8</mn></mfrac><mo>=</mo><mfrac><mrow><mn>256</mn><mo>×</mo><mn>256</mn><mo>×</mo><mn>256</mn></mrow><mn>8</mn></mfrac><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>097</mn><mo separator="true">,</mo><mn>152</mn></mrow><annotation encoding="application/x-tex">\frac{2^8 \times 2^8 \times 2^8 }{8} =
\frac{256 \times 256 \times 256}{8} =
2,097,152</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1771em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">256</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">097</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord">152</span></span></span></span></span>
<p>假定一個 Block 的基礎 Voxel 值為 <code>#000000</code>，為了描述其方向而衍生的 7 個 Voxel 則為次生 Voxel：</p>
<ul>
<li><code>#000001</code></li>
<li><code>#000002</code></li>
<li><code>#000003</code></li>
<li><code>#000004</code></li>
<li><code>#000005</code></li>
<li><code>#000006</code></li>
<li><code>#000007</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="旋轉模式">旋轉模式<a href="#旋轉模式" class="hash-link" aria-label="Direct link to 旋轉模式" title="Direct link to 旋轉模式">​</a></h2>
<p>不同旋轉模式所需要的次生 Voxel 數量並不相同，目前我定義了幾種模式：</p>
<ul>
<li>固體 (Solid)</li>
<li>Y 軸對稱 (XZ-Reflection / Y-Symmetric)</li>
<li>Y 軸旋轉</li>
<li>Y 軸旋轉對稱 (Y-Symmetric-Rotation)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="固體-solid">固體 (Solid)<a href="#固體-solid" class="hash-link" aria-label="Direct link to 固體 (Solid)" title="Direct link to 固體 (Solid)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/04_solid-b455afdad234117465c15b787338dc3d.webp" width="757" height="507" class="img_RpFt"></p>
<p>只需要 1 個次生 Voxel，只有 1 種排列組合（方向性），類似 Minecraft 的<a href="https://minecraft.fandom.com/wiki/Stone" target="_blank" rel="noopener noreferrer">石頭 (Stone)</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="y-軸對稱-xz-reflection--y-symmetric">Y 軸對稱 (XZ-Reflection / Y-Symmetric)<a href="#y-軸對稱-xz-reflection--y-symmetric" class="hash-link" aria-label="Direct link to Y 軸對稱 (XZ-Reflection / Y-Symmetric)" title="Direct link to Y 軸對稱 (XZ-Reflection / Y-Symmetric)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/05_y-symmetric-d32773202f1f2f0766b13d2edc3ecd23.webp" width="792" height="524" class="img_RpFt"></p>
<p>我不確定稱它為「 Y 軸對稱」還是「XZ 平面對稱」比較精確。需要 2 個次生 Voxel，有 2 種排列組合（上與下），類似 Minecraft 的<a href="https://minecraft.fandom.com/wiki/Slab" target="_blank" rel="noopener noreferrer">半磚 (Slab)</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="y-軸旋轉">Y 軸旋轉<a href="#y-軸旋轉" class="hash-link" aria-label="Direct link to Y 軸旋轉" title="Direct link to Y 軸旋轉">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/06_y-rotation-8111f75a3418aa764a4f54531897b93a.webp" width="784" height="496" class="img_RpFt"></p>
<p>需要 4 個次生 Voxel，有 4 種排列組合（東南西北），類似 Minecraft 的<a href="https://minecraft.fandom.com/wiki/Chest" target="_blank" rel="noopener noreferrer">儲物箱 (Chest)</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="y-軸旋轉對稱-y-symmetric-rotation">Y 軸旋轉對稱 (Y-Symmetric-Rotation)<a href="#y-軸旋轉對稱-y-symmetric-rotation" class="hash-link" aria-label="Direct link to Y 軸旋轉對稱 (Y-Symmetric-Rotation)" title="Direct link to Y 軸旋轉對稱 (Y-Symmetric-Rotation)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/03_unit-voxel-31590ba83d8bd4fe3fde41e00c0a2fef.webp" width="674" height="502" class="img_RpFt"></p>
<p>需要 8 個次生 Voxel，有 16 種排列組合（東南西北×上下），類似 Minecraft 的<a href="https://minecraft.fandom.com/wiki/Stairs" target="_blank" rel="noopener noreferrer">階梯角 (Corner Stairs)</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="demo">Demo<a href="#demo" class="hash-link" aria-label="Direct link to Demo" title="Direct link to Demo">​</a></h2>
<p>為了呈現這個概念，我寫了一個編輯器，因為只是演示作用，不保證可靠性：</p>
<ul>
<li><a href="https://flyskypie.github.io/tellus-voxel-test/" target="_blank" rel="noopener noreferrer">Live Demo</a></li>
<li><a href="https://github.com/FlySkyPie/tellus-voxel-test" target="_blank" rel="noopener noreferrer">程式碼</a></li>
</ul>
<p>另外，在這個 Demo 中我試著嘗試了幾個之前沒用過得東西：</p>
<ul>
<li>Tailwind<!-- -->
<ul>
<li>因為有幾個同事很喜歡用，所以我想試試看這東西建構 Prototype 的速度如何。</li>
</ul>
</li>
<li>PrimeReact<!-- -->
<ul>
<li>MUI 用習慣了，試試其他 Component 庫建構 Prototype 的速度如何。</li>
</ul>
</li>
<li>React Hook Form<!-- -->
<ul>
<li>之前寫了一份 React 問卷，發現我沒有用過表單管理套件，趁著這個專案摸摸看。</li>
</ul>
</li>
<li>Dexie.js (React Hook)<!-- -->
<ul>
<li>因為前一陣子研究 TiddlyWiki 的時候得知 PouchDB 這類東西，對前端儲存方案有些興趣就趁著這個專案摸摸看了。</li>
</ul>
</li>
<li><a href="https://github.com/egoist/presite" target="_blank" rel="noopener noreferrer">Presite</a>
<ul>
<li>久違的想試試看預渲染 (pre-render)，不過 react-snap 貌似壞掉了（不支援 React 18），就找了個類似的替代品。</li>
</ul>
</li>
</ul>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-voxtt-spec-bbcb5d">
<p>Voxel Terrain Tiles Specification. (FlyPie).  Retrieved 2024-03-24, from <a href="https://github.com/FlySkyPie/voxtt-spec" target="_blank" rel="noopener noreferrer">https://github.com/FlySkyPie/voxtt-spec</a>. <a href="#user-content-fnref-voxtt-spec-bbcb5d" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-unix_philosophy-bbcb5d">
<p>Mike Gancarz: The UNIX Philosophy. (n.d.). Retrieved 2024-03-24, from <a href="https://en.wikipedia.org/wiki/Unix_philosophy#Mike_Gancarz:_The_UNIX_Philosophy" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Unix_philosophy#Mike_Gancarz:_The_UNIX_Philosophy</a> <a href="#user-content-fnref-unix_philosophy-bbcb5d" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-unix_philosophy-bbcb5d-2" data-footnote-backref="" aria-label="Back to reference 2-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/blog/tags/tellus">Tellus</a></li><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/blog/tags/hakoniwa">Hakoniwa</a></li><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/blog/tags/the-key-of-huanche">The Key of Huanche</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 FlyPie (Wei Ji)</div></div></div></footer></div>
</body>
</html>