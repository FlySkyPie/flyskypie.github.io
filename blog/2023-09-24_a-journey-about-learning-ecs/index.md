---
slug: 2023-09-24_a-journey-about-learning-ecs
authors: [weiji,]
tags: [learning note, ECS, Miniplex ]
--- 

# ECS å­¸ç¿’èˆ‡ aimAndShoot é‡æ§‹ä¹‹æ—…

<head>
  <meta property="og:image" content="https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/blog/2023-09-24_a-journey-about-learning-ecs/img/00_hero.webp" />
</head>

![](./img/00_hero.webp)

## å‰æƒ…æè¦

éš¨è‘— Polis å°ˆæ¡ˆçš„ä¸²æµåŠŸèƒ½å®Œæˆï¼Œé–‹ç™¼é–‹å§‹å¾€ä¸‹ä¸€å€‹éšæ®µç™¼å±•ï¼ŒPoC é‚„å‰©ä¸‹å…©å€‹åŠŸèƒ½éœ€è¦å¯¦ä½œï¼š
- åŸºæœ¬éŠæˆ²ç³»çµ±
- P2P é€£ç·š

å› ç‚º P2P é€£ç·šé‚„éœ€è¦è§£æ±ºéŠæˆ²ç‹€æ…‹åŒæ­¥çš„å•é¡Œï¼Œå› æ­¤å®ƒåœ¨æŸç¨®ç¨‹åº¦ä¸Šä»°è³´éŠæˆ²ç³»çµ±ï¼Œæ‰€ä»¥éŠæˆ²ç³»çµ±çš„å¯¦ä½œå°±æ˜¯æˆ‘ä¸‹ä¸€å€‹éšæ®µè¦è™•ç†çš„äº‹æƒ…ã€‚è€ŒéŠæˆ²ç³»çµ±é è¨ˆè¦ä½¿ç”¨ ECS (Entity Component System) å¯¦ä½œå‰‡æ˜¯å¾ˆæ—©å°±æ±ºå®šçš„äº‹ã€‚

### ECS (Entity Component System)

é—œæ–¼ ECS çš„å…·é«”ç´°ç¯€æœ¬æ–‡å°±ä¸å†è´…è¿°ï¼Œç°¡è¨€ä¹‹å°±æ˜¯ä½¿ç”¨ ECS æ¶æ§‹çš„éŠæˆ²åœ¨åšè·è²¬åˆ†é›¢çš„æ™‚å€™æœƒè·Ÿç‰©ä»¶å°å‘ (OOP) ä¸­æŠ½è±¡åŒ–çš„æ€è€ƒæ–¹å¼ä¸ç›¸åŒï¼Œé€™å°æˆ‘è€Œè¨€æ˜¯ä¸€å€‹æŒ‘æˆ°ï¼Œå› ç‚ºæˆ‘æ²’æœ‰çœŸæ­£ç”¨ ECS æ¶æ§‹å»å¯«éŠæˆ²éã€‚

æœ€æ—©æœƒæ¥è§¸ ECS é€™å€‹æ–°é®®ç©æ„å…’æ˜¯å› ç‚ºå·¥ä½œçš„é—œä¿‚æ¥è§¸äº† [React Game Engine](https://github.com/bberak/react-game-engine) ä½†æ˜¯å®ƒåªæ˜¯ ECS çš„å¼±å¯¦ç¾ (loose implementation)ï¼Œå› æ­¤èˆ‡å¯¦éš› ECS çš„æ€è€ƒæ–¹å¼ä¹‹é–“é‚„æ˜¯å­˜åœ¨è½å·®ï¼ŒåŠ ä¸ŠåŒäº‹å…¶å¯¦è·Ÿæˆ‘æéæˆ‘çš„å¯«æ³•å¾ˆå¤§ç¨‹åº¦é‚„æ˜¯ä¸€èˆ¬çš„ React ç¨‹å¼ï¼Œä¸¦æ²’æœ‰ç™¼æ® ECS çš„ç‰¹æ€§ã€‚

å¦å¤–ä¸€å€‹å›°æ“¾æˆ‘çš„é»æ˜¯ï¼Œéƒ¨åˆ† Javascript/Typescript å¯¦ä½œçš„ ECS å‡½å¼åº«è‘—é‡æ–¼ ECS ä¸­ã€Œè³‡æ–™ç·Šæ¹Šã€çš„ç‰¹æ€§ï¼Œå®ƒå€‘ä½¿ç”¨ TypedArray å®šç¾©çš„åŸºæœ¬å‹æ…‹ä¾†å„²å­˜è³‡æ–™ï¼Œé€™ä½¿å¾—å®ƒå€‘çš„åŸå§‹è¨­è¨ˆèˆ‡ Three.js æˆ– Rapier é€™ç¨®æœ‰è‡ªå·±å®šç¾© class çš„å‡½å¼åº«ä¹‹é–“ä¸å¥½å”èª¿ã€‚

å› æ­¤æˆ‘èªç‚ºåœ¨æ­£å¼å¼•å…¥ ECS é€™å€‹æŠ€è¡“æ£§ (Tech Stack) åˆ° Polis ä»¥å‰æ‡‰è©²å…ˆå¯«ä¸€å€‹çŸ­æœŸå°ˆæ¡ˆå°é¸å®šå‡½å¼åº«çš„å¯è¡Œæ€§åšé©—è­‰ï¼Œä»¥åŠç´¯ç©è¶³å¤ çš„ã€ŒECS æ€ç¶­ã€ã€‚

### aimAndShoot

[aimAndShoot](https://github.com/victorqribeiro/aimAndShoot) ä¾¿æ˜¯æˆ‘çš„å¯¦é©—å°è±¡ã€‚åœ¨ã€Œ[åº•ç«çš„èŠ¬èŠ³ - å°ˆæ¡ˆèµ·æº](/blog/2023-01-04_origin-of-gear-redolence/)ã€ä¸€æ–‡ä¸­æœ‰æåˆ°éé€™å€‹ repositoryï¼Œå®ƒæ˜¯ä¸€å€‹æœ‰é»åƒ `diep.io` çš„ç°¡å–®å°éŠæˆ²ï¼Œä½œç‚ºé‡æ§‹æ”¹å¯«çš„å°è±¡æ˜¯å†é©åˆä¸éäº†ã€‚

### Miniplex

![](./img/01_ecs-libs.webp)

Javascript/Typescript ä¸­æœ‰ä¸å°‘ [ECS å¥—ä»¶](https://npmtrends.com/@javelin/ecs-vs-ape-ecs-vs-bitecs-vs-ecs-lib-vs-ecsy-vs-miniplex-vs-yagl-ecs)ï¼Œé›–ç„¶è·Ÿä¸€èˆ¬çš„ç†±é–€å¥—ä»¶ç›¸è¼ƒä¹‹ä¸‹éƒ½ç®—æ˜¯å†·é–€å¥—ä»¶ã€‚

æ­£å¦‚æˆ‘æéå¾—ï¼Œå®ƒå€‘ä¹‹ä¸­çš„å¤§éƒ¨åˆ†è‘—é‡æ–¼è³‡æ–™ç·Šæ¹Šçš„è¨­è¨ˆï¼Œæˆ–æ˜¯æœ‰è‘—ä¸æ”¯æ´/ä¸å‹å–„ Typescript çš„å•é¡Œï¼Œå¦å¤–ä¸€é»å‰‡æ˜¯ä¸€äº›å¥—ä»¶æ›´é è¨­äº†ä¸€å¥—æ¡†æ¶ï¼Œé–‹ç™¼è€…å¿…é ˆåœ¨é€™å€‹æ¶æ§‹ä¸‹é–‹ç™¼ã€‚

ç›¸è¼ƒä¹‹ä¸‹ [Miniplex](https://github.com/hmans/miniplex) æ›´æ·±åˆ»çš„é«”ç¾äº†ã€Œä¸€æ¬¡åšå¥½ä¸€ä»¶äº‹ã€çš„å“²å­¸ï¼Œè®“æˆ‘å€‘ä¾†çœ‹çœ‹å®ƒçš„ä»‹ç´¹ï¼š
> A ğŸ‘©â€ğŸ’» developer-friendly entity management system for ğŸ•¹ games and similarly demanding applications, based on ğŸ›  ECS architecture. 

æ˜¯çš„ï¼Œå®ƒåªæŠŠè‡ªå·±å®šä½åœ¨ã€ŒEntity Managementã€çš„éƒ¨ä»½ï¼Œæ—¢ä¸ç®¡è³‡æ–™ç·Šä¸åƒ…æ¹Šï¼Œä¹Ÿä¸ç®¡é–‹ç™¼è€…æƒ³æ€éº¼å¯¦ä½œ Systemï¼Œå³ä¾¿çœ‹è‘—ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œæˆ‘ä¹Ÿä¸æœƒæµ®ç¾ã€Œé€™ç©æ„å…’åˆ°åº•è¦æ€éº¼è·Ÿ Three.js æˆ– Rapier æ•´åˆï¼Ÿã€çš„å•é¡Œï¼Œæˆ‘åªéœ€è¦ç…©æƒ±å¦‚ä½•æŠŠå•é¡Œä½¿ç”¨ ECS çš„æ¶æ§‹å»å¯¦ç¾å°±å¥½ã€‚

## é‡æ§‹

å¾ˆå¿«å°±å®Œæˆäº†å¾ Javascript è½‰æ›æˆ Typescript çš„é‡æ§‹ (2023-09-13~2023-09-15)ï¼Œé€™å€‹éƒ¨ä»½æ‡‰è©²ç®—æ˜¯æ•´å€‹é‡æ§‹ä¸­æœ€ç°¡å–®çš„ï¼Œç•¢ç«Ÿé·ç§» Legacy Code æˆ‘ä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡å¹¹äº†ï¼Œæœ‰ä¸€äº›å·¥å…·å¯ä»¥å”åŠ©å®Œæˆé€™ç¨®äº‹ï¼š
- AMD to es6
  - https://github.com/jonbretman/amd-to-as6
- Prototype to Class
  - https://github.com/lebab/lebab
- Javascript to Typescript
  - https://github.com/gregjacobs/js-to-ts-converter

### Web Component (Custom Element) åˆé«”é©—

å¾®å‰ç«¯ (Micro frontends) å…¶å¯¦ä¹Ÿä¸æ˜¯ä»€éº¼æ–°é®®çš„ç©æ„äº†ï¼Œä¸éä¸€ç›´æ²’æœ‰æ©Ÿæœƒæˆ–å‹•æ©Ÿå»ä½¿ç”¨å®ƒã€‚ç¬¬ä¸€æ¬¡çŸ¥é“é€™å€‹æ±è¥¿æ˜¯ç‚ºäº†è§£æ±ºå®¢æˆ¶çš„ï¼ˆç›¸å°ï¼‰å¤§å‹å°ˆæ¡ˆè€ŒæŸ¥è³‡æ–™æŸ¥åˆ°çš„ï¼Œåªæ˜¯å®¢æˆ¶æ–¹é¢çš„æŠ€è¡“ç›¸å°è½å¾Œï¼ˆæ²’æœ‰ CI/CDã€æ•´åˆä»°è³´å®¢æˆ¶çš„å·¥ç¨‹å¸«æ‰‹å‹•è¤‡è£½ç¨‹å¼ç¢¼ã€é è¨ˆä½¿ç”¨ iframe ä½œç‚ºå¤§å‹å°ˆæ¡ˆçš„ solution...ï¼‰ï¼Œè€Œå…¬å¸ä½œç‚ºä»£å·¥æ–¹ä¸¦æ²’æœ‰æŠ€è¡“æ±ºç­–çš„æ¬Šé™ï¼Œè‡ªå·±æœ¬èº«ä¹Ÿæ²’æœ‰ side project æœ‰é¢è‡¨é¡ä¼¼çš„å•é¡Œã€‚

ä½œç‚ºä¸€å€‹ç¶²é å‰ç«¯å·¥ç¨‹å¸«ï¼ŒUI ä¹‹é¡çš„å•é¡Œæˆ‘ä¸€å¾‹æƒ³ç”¨ React è§£æ±ºï¼Œåœ¨ Canvas ä¸Šåˆ» UI æ ¹æœ¬æµªè²»æ™‚é–“æ•ˆæœåˆå·®ã€‚ä½†æ˜¯é€™å€‹ ECS çš„ç·´ç¿’æˆ‘ä¸¦ä¸æƒ³ç›´æ¥è®“å®ƒè·Ÿ React App è€¦åˆï¼Œç™¼ç¾é€™ä¼¼ä¹æ˜¯ä½¿ç”¨ Web Component é€™å€‹ [Web API](https://developer.mozilla.org/en-US/docs/Web/API/Web_components) çš„å¥½æ™‚æ©Ÿã€‚

æ–¼æ˜¯ä¸€é–‹å§‹ (2023-09-16) æˆ‘å…ˆæ ¹æ“šæˆ‘é æƒ³çš„æ’ç‰ˆç”¨ React å¯¦ä½œï¼Œå†æŠŠå®ƒåŒ…è£æˆ [Custom Element](https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_custom_elements)ï¼Œé€éä¸€å€‹ callback (EventListener) ç•¶ Canvas è¢«æ›ä¸Š DOM ä¹‹å¾Œå›å‚³ `HTMLCanvasElement` ï¼Œå†ç”¨éŠæˆ²çš„å¯¦ä¾‹å»æ¥æ”¶å®ƒä¾†ç¹ªè£½éŠæˆ²å…§å®¹ã€‚

ç•¶æˆ‘æŠŠéŠæˆ²é‚è¼¯å¯¦ä½œçš„å·®ä¸å¤šä¹‹å¾Œ (2023-09-20)ï¼Œç™¼ç¾æ‡‰è©²åéä¾†æ“ä½œï¼š
> æŠŠéŠæˆ²å°è£æˆ Custom Element çµ¦ React ä½¿

å› ç‚ºæ•´å€‹éŠæˆ²å…¶å¯¦åªä»°è³´ä¸€å¡Š Canvas ä½œç‚º I/Oï¼Œåªè¦èƒ½å¤ æ°ç•¶çš„å®Œæˆåˆå§‹åŒ–è·Ÿé‡‹æ”¾è³‡æºï¼Œå°±èƒ½è¢«å°è£åˆ° React çš„ Cycle life å…§æ‰å°ã€‚

å¦ä¸€æ–¹é¢ä¹Ÿæ˜¯å› ç‚ºæˆ‘å·²ç¶“åœ¨ React å…§å¯«éè«¸å¦‚ Three.js å’Œ MapBox GL JS çš„æ±è¥¿ï¼Œå°æ–¼é€™ç¨®ã€Œé React åŸç”Ÿçš„å¥—ä»¶å¦‚ä½•æ•´åˆé€² React App å…§ã€å·²ç¶“å¾ˆç›´è¦ºçš„çŸ¥é“æ€éº¼åšäº†ï¼šç”¨ `ref` å–å¾—å¯¦ä¾‹ä¸¦æ­é… `useEffect` ä¾†æŠŠäº‹ä»¶æ›ä¸Šå»è·Ÿé‡‹æ”¾ callbackã€‚

### ECS

Miniplex çš„ Typescript å‹å–„ç¨‹åº¦ç®—æ˜¯æ¯”æˆ‘é æœŸçš„çš„é‚„å¥½ï¼Œé—œæ–¼ Entity çš„å‹åˆ¥å¦‚ä½•è²æ˜ï¼ŒGithub ä¸Šé¢æœ‰ä¸€å‰‡è¨è«–ç®—æ˜¯çµ¦å‡ºäº†è »æ˜ç¢ºçš„æ–¹å‘[^miniplex-entity-type]ï¼š

```typescript
type IPosition {
  position: Vector3
}

type IHealth {
  health: { current: number, max: number }
}

type Entity = Partial<IPosition & IHealth & ...>
```

æˆ‘å€‹äººæ˜¯ä½¿ç”¨é¡ä¼¼ä½†æ˜¯æœ‰ä¸€é»å·®ç•°çš„æ–¹å¼ï¼š

```typescript
export type AgentEntity = {
  id: string;
  particle: ParticleComponent;
  health: HealthComponent;
  projectileEmitter: ProjectileEmitterComponent;
  warrior: WarriorMiscComponent;
  brain?: DejavuComponent;
  statistics: WarriorStatisticsComponent;
};

export type BulletEntity = {
  particle: ParticleComponent;
  attackEffect: AttackEffectComponent;
};

export type Entity = Partial<
  TimeEntity & EventEntity & AgentEntity & BulletEntity
>;
```

ä»¥ ECS çš„æ€è€ƒæ¨¡å¼ï¼Œå…¶å¯¦ä¸¦ä¸åœ¨ä¹ Entity è¦å¤šå…·é«”ï¼Œè€Œæ˜¯ä»¥ Component ç‚ºæ“ä½œå–®å…ƒï¼Œè€Œ Component åœ¨ä¸­ Miniplex å¯¦è³ªç­‰æ–¼ Entity çš„ propertiesï¼Œå› æ­¤å¦‚æœæ€è€ƒæ–¹å¼ä¾ç„¶å—åˆ° OOP å½±éŸ¿ï¼Œè‡³å°‘å¯ä»¥ç”¨é€™ç¨®æ–¹å¼è¼”åŠ©ç”¢ç”Ÿä¸€ç¨®ä»‹æ–¼ã€Œä¾ç…§ç‰©ä»¶è¨­è¨ˆé‚è¼¯çš„åˆ‡å‰²æ–¹å¼ã€èˆ‡ã€Œä¾ç…§ Component é‚è¼¯çš„åˆ‡å‰²æ–¹ä¹‹ã€ä¹‹é–“çš„éæ¸¡ç‹€æ…‹ã€‚

å¦å¤–å› ç‚ºæˆ‘æ˜¯å¾ä¸€å€‹æ—¢å­˜å°ˆæ¡ˆåšé‡æ§‹ï¼Œå› æ­¤æˆ‘æ‡¶å¾—é‡æ–°ç”¨ã€ŒThe Component Wayã€çš„æ€è€ƒæ¨¡å¼å»é‡æ–°è¨­è¨ˆè³‡æ–™çµæ§‹ï¼Œæ‰€ä»¥æˆ‘æŠŠç‰©ä»¶çš„å±¬æ€§éš¨ä¾¿åŒ…æˆ Component ä¸Ÿé€²å»ã€‚

[^miniplex-entity-type]: Does Entity need to know all possible components?. Retrieved 2023-09-24, from https://github.com/hmans/miniplex/discussions/295

### Joy UI åˆé«”é©—

å·¥ä½œä¸Šå¾ˆå¸¸è¦å¯«ä¸€äº› B2B çš„å¾Œå° (Dashboard)ï¼Œ[Material UI](https://mui.com/material-ui/) ç®—æ˜¯æˆ‘æœ€å¸¸ä½¿ç”¨çš„ React å¥—ä»¶ä¹‹ä¸€ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºå‡ºæœ‰æ¨¡æœ‰æ¨£çš„ç¶²é ï¼Œä½œç”¨è·Ÿ [Bootstrap](https://getbootstrap.com/docs/5.2/getting-started/introduction/) å…¶å¯¦å·®ä¸å¤šã€‚åªæ˜¯å®ƒå…§ç½®äº†ä¸€å¥—è¨­è¨ˆç³»çµ± (Design System)ï¼Œå°æ–¼æ²’æœ‰å¼•å…¥ Design System çš„å°ˆæ¡ˆä¾†èªªï¼Œåè€Œè¦ç‚ºäº†é‚£äº›ç¼ºä¹ä¸€è‡´æ€§çš„å®¢è£½åŒ– style å»è¦†è“‹æ‰åŸæœ¬çš„è¨­è¨ˆè€ŒèŠ±è²»å¾ˆå¤šå¿ƒåŠ›ã€‚ä¸¦ä¸”å°æ–¼å€‹äººä½¿ç”¨çš„å°å°ˆæ¡ˆä¾†èªªåˆç¨å«Œç¬¨é‡äº†ä¸€é»ã€‚

ç›´åˆ°å‰ä¸€é™£å­æ³¨æ„åˆ°é€™å€‹å¥—ä»¶å‡ºäº†ä¸€å€‹è¡ç”Ÿå¥—ä»¶ [Joy UI](https://mui.com/joy-ui/getting-started/)ï¼Œå®ƒçš„æ‰€æœ‰çµ„ä»¶èˆ‡ Material UI å¹¾ä¹æ˜¯ä¸€å°ä¸€å°æ‡‰çš„ï¼Œåªæ˜¯å°‘äº† [Material Design](https://en.wikipedia.org/wiki/Material_Design) çš„éƒ¨ä»½ã€‚çœ‹ä¸Šå»ä¹Ÿé‚„ç®—é †çœ¼ï¼Œæ–¼æ˜¯ä¾¿è¶è‘—é€™å€‹æ©Ÿæœƒä¾†ç”¨ç”¨çœ‹ã€‚

æ–¼æ˜¯åœ¨å®Œæˆäº†éŠæˆ²æœ¬é«”ä¹‹å¾Œï¼Œä¾¿ç”¨é€™å€‹å¥—ä»¶æ–°å¢äº†ä¸€äº› UIï¼ŒåŒ…å«ï¼šç©å®¶åˆ—è¡¨ã€è¨˜åˆ†æ¿ã€‚

### å°æ’æ›²

å› ç‚ºè¦é‡æ§‹æˆ ECS æ¶æ§‹çš„é—œä¿‚ï¼Œæ‰€æœ‰çš„å¯¦ä½œæˆ‘éƒ½å¿…é ˆé€è¡Œé–±è®€äº†è§£å…¶æ„ç¾©ä¹‹å¾Œæ‰èƒ½å°‡é‚è¼¯å¾ class å…§æŠ½å‡ºç„¶å¾Œä¸Ÿåˆ°ç‰¹å®šçš„ System å»ï¼Œä¹Ÿå› æ­¤è®“æˆ‘æœ‰äº†æ„å¤–æ”¶ç©«ã€‚

å¹¾å¹´å‰ (2020)ï¼Œæˆ‘æ›¾ç¶“æ”¹å¯«äº†åŒä¸€å€‹å°ˆæ¡ˆï¼Œç§»é™¤äº†ç©å®¶ã€è®“ Bot åˆ†æˆå…©éšŠäº’æ¯†ï¼Œä½†æ˜¯æˆæ•ˆä¸ä½³ï¼Œè·‘äº† 300 å¤šä»£ä¾ç„¶è ¢è ¢çš„ã€‚

é‡æ§‹çš„éç¨‹æˆ‘ç™¼ç¾äº†æœ‰é€™éº¼ä¸€æ®µç¨‹å¼ï¼š

```typescript
  private selectParent(queries: IQueries) {
    let total = 0;

    for (const bot of queries.botPlayer) {
      total += bot.statistics.fitness;
    }

    let prob = Math.random() * total;

    for (const bot of queries.botPlayer) {
      if (prob < bot.statistics.fitness) {
        return bot;
      }

      prob -= bot.statistics.fitness;
    }

    return null;
  }
```

åŸä½œè€…æƒ³ç”¨åŠ æ¬ŠæŠ½ç±¤çš„æ–¹å¼æŠ½å‡º AI é€²è¡Œç¹æ®–ï¼Œå…¶ä¸­çš„ `fitness` æ˜¯åˆ†æ•¸çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯é€™è£¡çš„æ¬Šé‡å€¼ã€‚ç„¶è€Œé€™å€‹å¯¦ä½œæœƒé€ æˆä¸€å€‹ AI åªè¦æœ‰ä¸€å›åˆè¡¨ç¾ä¸å¥½æ‹¿äº† 0 åˆ†ï¼Œå®ƒè¢«åˆ·æ‰æ©Ÿç‡æœƒé”åˆ° 100%ã€‚ä¸¦ä¸”åªè¦æœ‰ä¸€å›åˆå¤§å®¶é‹æ°£ä¸å¥½éƒ½æ‹¿äº† 0 åˆ†ï¼Œå°±æœƒæ•´ä»£è¢«åˆ·æ‰ï¼Œæ¼”ç®—æ³•æœƒç›´æ¥ Random ä¸€çµ„ 0 ç¶“é©—çš„é¡ç¥ç¶“ç¶²è·¯ä¾†ç¹æ®–ã€‚

å› æ­¤åœ¨ä¸è€ƒæ…®è©•åˆ†æ¨™æº–çš„æ•¸å­¸æ¨¡å‹åˆ°åº•åˆç†ä¸åˆç†çš„å‰æä¸‹ï¼ŒAI è¢«é‡ç½®çš„æ©Ÿç‡å…¶å¯¦å¾ˆé«˜ï¼Œé€™ä¹Ÿè§£é‡‹äº†ç‚ºä»€éº¼æˆ‘ä¹‹å‰è·‘äº† 300 å¤šä»£ Bot ä¾ç„¶è ¢è ¢çš„åŸå› ã€‚

### æ”¶å®˜ (Yose, ãƒ¨ã‚»)

é‡æ§‹éç¨‹å…¶å¯¦è®“æˆ‘å°é€™å€‹å°ˆæ¡ˆç”¢ç”Ÿäº†ä¸å°‘é¡å¤–çš„æƒ³åƒï¼Œæ¯”å¦‚èªªï¼šåˆ©ç”¨ ECS çš„ç‰¹æ€§ï¼Œæˆ‘å…¶å¯¦å¯ä»¥æŠŠç•¶å‰éŠæˆ²å¹€çš„æ‰€æœ‰è³‡æ–™ dump å‡ºä¾†ï¼Œä¹‹å¾Œé‡é–‹ç¶²é å†æŠŠè³‡æ–™å€’å›å»ç†è«–ä¸Šå¯ä»¥å¾ˆè¼•æ˜“çš„å¯¦ç¾ã€ŒéŠæˆ²è®€æ“‹ã€çš„åŠŸèƒ½ï¼Œç•¢ç«Ÿé—œæ–¼éŠæˆ²çš„æ‰€æœ‰ç‹€æ…‹éƒ½å¡åœ¨ä¸€å€‹ç”± Entity å¡«å……çš„ Array è£¡é¢ï¼›åˆæˆ–æ˜¯å¯«ä¸€å€‹è¦–è¦ºåŒ–çš„çµ„ä»¶å‘ˆç¾ AI ç•¶å‰é¡ç¥ç¶“ç¶²è·¯çš„æ¿€ç™¼ç‹€æ…‹ï¼›ç”šè‡³æ˜¯è£½ä½œå¦ä¸€å€‹æ¨¡å¼å¯¦ç¾æˆ‘æ›¾ç¶“å¯¦ç¾éå¾— Zero-player gameï¼Œç†è«–ä¸Šåªè¦ç½®æ› System å°±èƒ½è¼•æ˜“å¯¦ç¾ã€‚

ç„¶è€Œæˆ‘å…¶å¯¦å°é€™å€‹å°ˆæ¡ˆçš„å®šä½æœ‰ç«‹ä¸‹ä¸€å€‹æ˜ç¢ºçš„ç›®æ¨™ï¼š
> ä»¥ ECS å¯¦ç¾åŸå°ˆæ¡ˆçš„æ‰€æœ‰æˆ–å¤§éƒ¨ä»½æ©Ÿèƒ½ï¼Œè—‰æ­¤ç´¯ç©ä½¿ç”¨ Miniplex çš„ç¶“é©—

ç›®çš„å·²ç¶“é”æˆï¼Œè©²æ”¶å®˜äº†ï¼Œæ–¼æ˜¯æˆ‘è—‰è‘—é€™å€‹æ˜ŸæœŸå…­ (2023-09-23) é€²è¡Œæœ€å¾Œæ‰“ç£¨ï¼Œè®“å®ƒè‡³å°‘çœ‹èµ·ä¾†æœ‰æ¨¡æœ‰æ¨£ï¼Œç„¶å¾ŒæŠŠåŸæœ¬åˆ†æ•£åœ¨å…©å€‹ repo çš„ commit ç”¨ subtree å’Œ rebase æ•´ç†åˆ° fork çš„ repo å»ã€‚

## çµè«–

- Demo
  - https://flyskypie.github.io/aimAndShoot/
- Source Code
  - https://github.com/FlySkyPie/aimAndShoot
