"use strict";(self.webpackChunkflyskypie_github_io=self.webpackChunkflyskypie_github_io||[]).push([[8652],{87202:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var t=n(11527),i=n(88717);const o={slug:"2025-12-24_biomes",authors:["weiji"],tags:["Biomes"]},r="Biomes \u7814\u7a76\u7b46\u8a18 7",l={permalink:"/posts/2025-12-24_biomes",source:"@site/post/2025-12-24_biomes/index.md",title:"Biomes \u7814\u7a76\u7b46\u8a18 7",description:"Assets",date:"2025-12-24T00:00:00.000Z",formattedDate:"December 24, 2025",tags:[{label:"Biomes",permalink:"/posts/tags/biomes"}],hasTruncateMarker:!1,authors:[{name:"Wei Ji",title:"\u9583\u4eae\u75c7\u5019\u7fa4\u5de5\u7a0b\u5c4d",url:"https://github.com/FlySkyPie",imageURL:"https://avatars.githubusercontent.com/u/9475660",key:"weiji"}],frontMatter:{slug:"2025-12-24_biomes",authors:["weiji"],tags:["Biomes"]},unlisted:!1,prevItem:{title:"\u77e5\u8b58\u908a\u754c\u8207\u6211\u7684\u5c08\u984c\u5f0f\u81ea\u5b78\u6cd5",permalink:"/posts/2025-12-26_knowledge-boundary-and-project-based-learning"},nextItem:{title:"Voxel \u6a94\u6848\u683c\u5f0f\u7b46\u8a18",permalink:"/posts/2025-12-24_voxel-format"}},c={authorsImageUrls:[void 0]},d=[{value:"Assets",id:"assets",level:2},{value:"Cayley.js",id:"cayleyjs",level:2},{value:"Zod",id:"zod",level:2},{value:"Shared",id:"shared",level:2}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",ul:"ul",...(0,i.a)(),...e.components},{Head:o}=s;return o||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{children:(0,t.jsx)("meta",{property:"og:image",content:"https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/post/2025-12-24_biomes/00_cover.webp"})}),"\n",(0,t.jsx)(s.h2,{id:"assets",children:"Assets"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:n(34050).Z+"",width:"978",height:"420"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/FlySkyPie/biomes-assets",children:"https://github.com/FlySkyPie/biomes-assets"})}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["\u9019\u500b\u90e8\u4efd\u7b97\u662f",(0,t.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2025-12-14_biomes/",children:"\u4e0a\u4e00\u6b21\u7684\u7814\u7a76\u7b46\u8a18"}),"\u6f0f\u6389\u4e86\uff0c\u9019\u500b\u6a21\u7d44\u6c92\u4ec0\u9ebc\u7279\u5225\u7684\uff0c\u5c31\u662f\u4e00\u5806\u653e\u5728 Git LFS \u7684\u6a94\u6848\uff0c\u53ea\u662f\u6211\u62bd\u51fa\u4f86\u55ae\u7368\u653e\u5728\u4e00\u500b repository \u5167\u3002"]}),"\n",(0,t.jsx)(s.p,{children:"\u505a\u9019\u4ef6\u4e8b\u7684\u6642\u5019\uff0c\u9806\u4fbf\u53c3\u8003\u4e86\u5e7e\u500b\u958b\u6e90\u904a\u6232\uff0c\u770b\u770b\u5b83\u5011\u8655\u7406\u904a\u6232\u7d20\u6750\u7684\uff1a"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["0 .A.D.","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u4f7f\u7528 ",(0,t.jsx)(s.a,{href:"https://svn.wildfiregames.com/nightly-build/trunk/",children:"SVN"}),"\uff0c \u56e0\u6b64\u4e0d\u5728 Git \u8a0e\u8ad6\u7bc4\u7587\u5167\u3002"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Luanti (Minetest)","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/luanti-org/luanti",children:"https://github.com/luanti-org/luanti"})}),"\n",(0,t.jsx)(s.li,{children:"\u770b\u8d77\u4f86\u662f\u76f4\u63a5\u653e\u5728\u4e00\u500b repo \u5167\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["BAR (Beyond All Reason)","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/beyond-all-reason/Beyond-All-Reason",children:"https://github.com/beyond-all-reason/Beyond-All-Reason"})}),"\n",(0,t.jsx)(s.li,{children:"\u770b\u8d77\u4f86\u662f\u76f4\u63a5\u653e\u5728\u4e00\u500b repo \u5167\u3002"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["Warzone 2100","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u4e0d\u540c\u6027\u8cea\u7684\u7d20\u6750\u662f\u5206\u5225\u653e\u5728\u7368\u7acb\u7684 repo \u5167\uff0c\u518d\u7528 Git \u7684 Submodule \u653e\u5230\u4e3b\u8981\u7684 repo \u5167\uff0c\u4f8b\u5982\uff1a","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/Warzone2100/data-music-opus",children:"https://github.com/Warzone2100/data-music-opus"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/Warzone2100/data-fonts",children:"https://github.com/Warzone2100/data-fonts"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/Warzone2100/data-texpages/",children:"https://github.com/Warzone2100/data-texpages/"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"cayleyjs",children:"Cayley.js"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:n(69750).Z+"",width:"1549",height:"392"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/FlySkyPie/biomes-cayley-js",children:"https://github.com/FlySkyPie/biomes-cayley-js"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Cayley.js \u662f\u4e00\u500b Cayley WASM \u7684\u518d\u5c01\u88dd\uff0c\u9664\u4e86\u5be6\u505a\u4e86\u4e00\u4e9b\u6771\u897f\u4ee5\u5916\uff0c\u9084\u63d0\u4f9b\u4e00\u4e9b\u55ae\u5143\u6e2c\u8a66\u8ddf Benchmark \u6e2c\u8a66\u3002"}),"\n",(0,t.jsx)(s.p,{children:"\u8655\u7406\u5b83\u7684\u6642\u5019\u7b97\u662f\u8e29\u4e86 Javascript \u751f\u614b\u7cfb\u4e00\u500b\u5f88\u7d93\u5178\u7684\u5c0f\u5751\uff0c\u539f\u672c\u6211\u6253\u7b97\u7528 Vitest \u53d6\u4ee3\u539f\u672c\u7684 AVA \u55ae\u5143\u6e2c\u8a66\u6846\u67b6\uff0c\u4f46\u662f\u6211\u5fd8\u8a18\u4e86 Vite \u5de5\u5177\u93c8\u662f ESM \u672c\u4f4d\u4e3b\u7fa9\uff0c\u56e0\u6b64\u55ae\u5143\u6e2c\u8a66\u6703 import Web \u7248\u672c\u7684 WASM \u8f09\u5165\u5668\u3002"}),"\n",(0,t.jsxs)(s.p,{children:["\u7136\u800c Web \u8207 Node.js \u662f\u5c6c\u65bc\u5169\u500b\u4e0d\u540c\u7684 Javascript Runtime\uff0c\u5c0d\u65bc\u300c\u5982\u4f55\u8f09\u5165 WASM\u300d\u7684\u65b9\u5f0f\u4e5f\u4e0d\u540c\uff1bWeb \u662f\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"fetch"})," ",(0,t.jsx)(s.strong,{children:"\u5f9e\u7db2\u8def\u4e0b\u8f09"})," WASM\uff1bNode.js \u5247\u662f\u4f7f\u7528 ",(0,t.jsx)(s.code,{children:"fs"})," ",(0,t.jsx)(s.strong,{children:"\u5f9e\u6a94\u6848\u7cfb\u7d71\u8b80\u53d6"})," WASM\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["\u4f7f\u7528 Vitest \u547c\u53eb ",(0,t.jsx)(s.code,{children:"fetch"}),' \u6703\u89f8\u767c "Not implemented yet" \u4e4b\u985e\u7684\u932f\u8aa4\u8a0a\u606f\u3002\u6700\u5f8c\u662f\u4f7f\u7528 Jest \u53d6\u4ee3 AVA\uff0c\u6176\u5e78\u7684\u662f\u5df2\u7d93\u6709\u4eba\u5beb\u4e86\u9077\u79fb\u6307\u5357',(0,t.jsx)(s.sup,{children:(0,t.jsx)(s.a,{href:"#user-content-fn-ava-to-jest-f6f5a5",id:"user-content-fnref-ava-to-jest-f6f5a5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),"\uff0c\u7167\u8457\u505a\u5c31\u5b8c\u6210\u4e86\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["Benchmark \u90a3\u908a\u5247\u662f\u7528 ",(0,t.jsx)(s.code,{children:"tsx"})," \u53d6\u4ee3 ",(0,t.jsx)(s.code,{children:"ts-node"}),"\u3002"]}),"\n",(0,t.jsx)(s.h2,{id:"zod",children:"Zod"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/FlySkyPie/biomes-zod",children:"https://github.com/FlySkyPie/biomes-zod"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://www.npmjs.com/package/@flyskypie/biomes-zod",children:"https://www.npmjs.com/package/@flyskypie/biomes-zod"})}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/ill-inc/zod",children:"https://github.com/ill-inc/zod"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Biomes \u5c08\u6848\u81ea\u5df1\u7684 Fork"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Zod \u662f\u4e00\u500b\u65b9\u4fbf\u958b\u767c\u8005\u5728 Runtime \u5c0d JSON \u8cc7\u6599\u9032\u884c Schema \u9a57\u8b49\u7684\u51fd\u5f0f\u5eab\uff0c\u6211\u5176\u5be6\u4e0d\u78ba\u5b9a Biomes \u70ba\u4ec0\u9ebc\u8981\u523b\u610f fork \u51fa\u4e00\u500b\u7248\u672c\uff0c\u6700\u660e\u986f\u7684\u5dee\u7570\u662f Biomes \u7684\u7248\u672c\u591a\u4e86\u9019\u500b\u65b9\u6cd5\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:'z.object().annotate(Symbol.for("some"), true)\n'})}),"\n",(0,t.jsx)(s.p,{children:"\u4e26\u4e14 Symbol \u4e26\u4e0d\u5728 Zod \u7684\u652f\u63f4\u8def\u7dda\u4e0a\uff1a"}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["Symbols aren't considered literal values, nor can they be simply compared with ",(0,t.jsx)(s.code,{children:"==="}),". This was an oversight in Zod 3.",(0,t.jsx)(s.sup,{children:(0,t.jsx)(s.a,{href:"#user-content-fn-zod-f6f5a5",id:"user-content-fnref-zod-f6f5a5","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"\u8003\u616e\u5230\u9019\u4e26\u4e0d\u5c6c\u65bc JSON \u89e3\u6790\u7684\u7bc4\u7587\uff0c\u60f3\u60f3\u4e5f\u5408\u7406\uff0c\u4e0d\u904e Biomes \u5c08\u6848\u672c\u8eab\u5df2\u7d93\u7528\u4e0b\u53bb\u4e86\uff0c\u6211\u4e5f\u4e0d\u80fd\u5728\u4e0d\u719f\u6089\u7684\u5c08\u6848\u7684\u60c5\u6cc1\u4e0b\u8cbf\u7136\u79fb\u9664\u9019\u500b\u5ba2\u88fd\u5316 Zod \u8f49\u800c\u4f7f\u7528\u539f\u672c\u7684\u3002Biomes \u539f\u672c\u662f\u76f4\u63a5\u5f9e GitHub \u5b89\u88dd\uff0c\u6211 fork \u4e4b\u5f8c\u505a\u4e86\u5169\u4ef6\u4e8b\uff1a"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u5c07\u539f\u672c\u61c9\u8a72\u88ab gitignore \u7684\u767c\u5e03\u8def\u5f91 (",(0,t.jsx)(s.code,{children:"/lib"}),") \u5f9e Git \u7d00\u9304\u4e2d\u6e05\u9664\u3002"]}),"\n",(0,t.jsx)(s.li,{children:"\u5c07\u6253\u5305\u7d50\u679c\u767c\u5e03\u5230 NPM\u3002"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"shared",children:"Shared"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:n(35130).Z+"",width:"2291",height:"1121"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"ecs"})," \u548c ",(0,t.jsx)(s.code,{children:"shared"})," \u4e4b\u9593\u6709\u5f88\u56b4\u91cd\u7684\u5faa\u74b0\u4ef0\u8cf4\uff0c\u7121\u5948\u4e4b\u4e0b\u53ea\u597d\u7528 PNPM \u7684 workspace \u8655\u7406\u3002",(0,t.jsx)(s.code,{children:"ecs"})," \u5c0d ",(0,t.jsx)(s.code,{children:"server"})," \u6709\u8f15\u5fae\u7684\u4ef0\u8cf4\uff0c\u6211\u76f4\u63a5\u8907\u88fd\u90a3\u90e8\u4efd\u7684\u7a0b\u5f0f\u78bc\u9032\u5165 ",(0,t.jsx)(s.code,{children:"ecs"}),"\uff0c\u5728\u6211\u770b\u4f86\u9019\u88e1\u89e3\u5076\u7684\u6548\u76ca\u9060\u6bd4 DRY \u9084\u91cd\u8981\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"shared"})," \u5247\u662f\u6e2c\u8a66\u7684\u90e8\u4efd\u5c0d ",(0,t.jsx)(s.code,{children:"server"})," \u4ef0\u8cf4\uff0c\u4ef0\u8cf4\u4e86 Voxeloo WASM loader \u7684\u90e8\u4efd\uff0c\u9019\u4e00\u9ede\u6211\u6253\u7b97\u66ab\u6642\u5ffd\u7565\uff0c\u4e4b\u5f8c\u518d\u4f86\u8655\u7406\uff0c\u7562\u7adf\u9019\u500b\u90e8\u4efd\u53ef\u4ee5\u53c3\u8003 Cayley \u7684\u8655\u7406\u65b9\u5f0f\u3002"]}),"\n",(0,t.jsxs)(s.p,{children:["\u9019\u662f\u6211\u5728 ",(0,t.jsx)(s.code,{children:"shared"})," \u4e0a\u9762\u81e8\u53e6\u5916\u4e00\u500b\u6bd4\u8f03\u9ebb\u7169\u7684\u554f\u984c\uff1a"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{src:n(72914).Z+"",width:"1421",height:"776"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"shared"})," \u4f7f\u7528 Zod \u5927\u91cf\u5b9a\u7fa9 Schema\uff0c\u800c\u4e00\u4e9b\u8907\u96dc\u7684 Schema \u5728\u7de8\u8b6f Typescript \u578b\u5225\u6a94 (",(0,t.jsx)(s.code,{children:".d.ts"}),") \u6642\uff0c\u7121\u6cd5\u6b63\u5e38\u63a8\u8ad6\uff0c\u56e0\u6b64\u5fc5\u9808\u900f\u904e\u624b\u52d5\u8072\u660e\u7684\u65b9\u5f0f\u4f86\u89e3\u6c7a\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:'export const zChallengeCompleteMessage: z.ZodObject<{\n    kind: z.ZodLiteral<"challenge_complete">;\n    challengeId: typeof zBiomesId;\n}> = z.object({\n    kind: z.literal("challenge_complete"),\n    challengeId: zBiomesId,\n});\n'})}),"\n",(0,t.jsx)(s.p,{children:"\u800c\u4e14\u770b\u8d77\u4f86\u8ddf\u524d\u9762\u63d0\u5230\u7684 Symbol \u6709\u95dc...F**k..."}),"\n",(0,t.jsxs)(s.section,{"data-footnotes":!0,className:"footnotes",children:[(0,t.jsx)(s.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{id:"user-content-fn-ava-to-jest-f6f5a5",children:["\n",(0,t.jsxs)(s.p,{children:["Switching from Ava to Jest for TypeScript | by Gant Laborde | Red Shift. Retrieved 2025-12-24, from ",(0,t.jsx)(s.a,{href:"https://shift.infinite.red/a6dac7d1712f",children:"https://shift.infinite.red/a6dac7d1712f"})," ",(0,t.jsx)(s.a,{href:"#user-content-fnref-ava-to-jest-f6f5a5","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{id:"user-content-fn-zod-f6f5a5",children:["\n",(0,t.jsxs)(s.p,{children:["Migration guide | Zod. Retrieved 2025-12-24, from ",(0,t.jsx)(s.a,{href:"https://zod.dev/v4/changelog#drops-symbol-support",children:"https://zod.dev/v4/changelog#drops-symbol-support"})," ",(0,t.jsx)(s.a,{href:"#user-content-fnref-zod-f6f5a5","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},34050:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/01_assets-ffed5e017faaedd7e581476b43d1eea9.webp"},69750:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/02_cayley-ed677b3fbd414a18fd232be8245e6773.webp"},35130:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/03_shared-17f866e240d1a1e66c421e5f7e810c89.webp"},72914:(e,s,n)=>{n.d(s,{Z:()=>t});const t=n.p+"assets/images/04_shared-build-errors-502be1013e64f362bd01b74967d4b8e6.webp"},88717:(e,s,n)=>{n.d(s,{Z:()=>l,a:()=>r});var t=n(50959);const i={},o=t.createContext(i);function r(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);