"use strict";(self.webpackChunkflyskypie_github_io=self.webpackChunkflyskypie_github_io||[]).push([[90404],{30786:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var o=r(11527),s=r(88717);const t={slug:"2026-01-22_tensorzero",authors:["weiji"],tags:["LLM Observability","LLM Gateway"]},i="TensorZero \u7b46\u8a18",c={permalink:"/posts/2026-01-22_tensorzero",source:"@site/post/2026-01-22_tensorzero/index.md",title:"TensorZero \u7b46\u8a18",description:"\u524d\u60c5\u63d0\u8981",date:"2026-01-22T00:00:00.000Z",formattedDate:"January 22, 2026",tags:[{label:"LLM Observability",permalink:"/posts/tags/llm-observability"},{label:"LLM Gateway",permalink:"/posts/tags/llm-gateway"}],hasTruncateMarker:!1,authors:[{name:"Wei Ji",title:"\u9583\u4eae\u75c7\u5019\u7fa4\u5de5\u7a0b\u5c4d",url:"https://github.com/FlySkyPie",imageURL:"https://avatars.githubusercontent.com/u/9475660",key:"weiji"}],frontMatter:{slug:"2026-01-22_tensorzero",authors:["weiji"],tags:["LLM Observability","LLM Gateway"]},unlisted:!1,nextItem:{title:"Bifrost \u63a1\u5751\u7b46\u8a18",permalink:"/posts/2026-01-18_bifrost"}},a={authorsImageUrls:[void 0]},l=[{value:"\u524d\u60c5\u63d0\u8981",id:"\u524d\u60c5\u63d0\u8981",level:2},{value:"TensorZero",id:"tensorzero",level:2},{value:"ClickHouse",id:"clickhouse",level:2},{value:"\u57fa\u672c\u4f7f\u7528",id:"\u57fa\u672c\u4f7f\u7528",level:2},{value:"\u7f3a\u4e4f Reasoning",id:"\u7f3a\u4e4f-reasoning",level:2},{value:"\u9032\u968e\u4f7f\u7528",id:"\u9032\u968e\u4f7f\u7528",level:2},{value:"\u81ea\u5b9a\u7fa9\u6a21\u578b",id:"\u81ea\u5b9a\u7fa9\u6a21\u578b",level:3},{value:"\u81ea\u5b9a\u7fa9\u51fd\u6578",id:"\u81ea\u5b9a\u7fa9\u51fd\u6578",level:3}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components},{Details:t,Head:i}=n;return t||_("Details",!0),i||_("Head",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i,{children:(0,o.jsx)("meta",{property:"og:image",content:"https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/post/2026-01-22_tensorzero/00_cover.webp"})}),"\n",(0,o.jsx)(n.h2,{id:"\u524d\u60c5\u63d0\u8981",children:"\u524d\u60c5\u63d0\u8981"}),"\n",(0,o.jsx)(n.p,{children:"\u5617\u8a66\u904e LiteLLM \u548c Langfuse \u7684\u7d44\u5408\uff0cLiteLLM \u672c\u8eab\u88ab\u6211\u9047\u5230\u932f\u8aa4\u5be6\u4f5c\u7684\u52a0\u5bc6\u9020\u6210\u6c92\u8fa6\u6cd5\u8a2d\u5b9a Langfuse Callback \u7684\u554f\u984c\uff0cLangfuse \u5247\u662f\u4ef0\u8cf4\u7684 ClickHouse \u5728\u7f3a\u4e4f\u8a2d\u5b9a\u7684\u60c5\u6cc1\u4e0b\u5728\u4f4e\u7aef\u8a2d\u5099\u904b\u4f5c\u4e0d\u592a\u7a69\u5b9a\uff0c\u4e0d\u53ea\u9020\u6210 CPU Lock\uff0c\u66f4\u5728\u7576\u6a5f\u4e4b\u5f8c\u7522\u751f\u8cc7\u6599\u5eab\u640d\u6bc0\u7121\u6cd5\u6b63\u5e38\u904b\u4f5c\u7684\u60c5\u6cc1\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u5f8c\u4f86\u4f7f\u7528  Maxim AI \u7684 Bifrost\uff0c\u78ba\u6709\u5f88\u9ad8\u7684\u4ee3\u7406\u5931\u6557\u7387\uff08~6%\uff09\uff0c\u6211\u7528 Local Deep Research \u8dd1\u4e00\u6b21\u641c\u5c0b\u8981 4 \u6b21 LLM \u8acb\u6c42\uff0c\u5931\u6557\u4e00\u6b21\u5c31\u6703\u9020\u6210\u6574\u500b\u7814\u7a76\u5931\u6557\uff0c\u63db\u53e5\u8a71\u8aaa\u6709 22% \u7684\u6a5f\u7387\u6703\u7814\u7a76\u5931\u6557\uff0c\u9019\u883b\u60f1\u4eba\u7684\u3002"}),"\n",(0,o.jsx)(n.p,{children:"Bifrost \u53e6\u5916\u4e00\u500b\u5c0f\u554f\u984c\u662f\u88e1\u9762\u57cb\u4e86\u5f88\u591a\u4ed8\u8cbb\u529f\u80fd\uff0c\u4e3b\u8981\u662f\u591a\u79df\u6236/\u591a\u4f7f\u7528\u8005\u7ba1\u7406\u4e00\u985e\u7684\uff0c\u96d6\u7136\u81ea\u67b6\u7528\u4e0d\u592a\u5230\u4f46\u662f\u770b\u8457 UI \u63d0\u9192\u4f60\u8981\u8cb7\u6388\u6b0a\u9084\u662f\u633a\u7919\u773c\u7684\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u6700\u5f8c\u6c7a\u5b9a\u518d\u63db\u4e00\u500b LLM \u53ef\u89c0\u6e2c\u65b9\u6848\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"tensorzero",children:"TensorZero"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://github.com/tensorzero/tensorzero",children:"https://github.com/tensorzero/tensorzero"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"10.8k \u2b50"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5b83\u4f7f\u7528\u524d\u5f8c\u7aef\u5206\u96e2\u7684\u67b6\u69cb\uff0c\u6709 ",(0,o.jsx)(n.code,{children:"gateway"})," \u672c\u9ad4\u5c31\u80fd\u9032\u884c LLM Gateway \u4e86\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u53ef\u89c0\u6e2c (LLM Observability) \u7684\u90e8\u4efd\u5247\u5fc5\u9808\u8a2d\u5b9a ClickHouse\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'services:\n  gateway:\n    image: docker.io/tensorzero/gateway:2026.1.2\n    command: --config-file /app/config/tensorzero.toml --log-format json\n    environment:\n      - OPENROUTER_API_KEY=\n      # - TENSORZERO_CLICKHOUSE_URL=http://clickhouse:clickhouse@clickhouse:8123/tensorzero\n    configs:\n      - source: gateway-config\n        target: /app/config/tensorzero.toml\n    ports:\n      - "3000:3000"\n    restart: always\n    \n  ui:\n    image: docker.io/tensorzero/ui:2026.1.2\n    environment:\n      - TENSORZERO_GATEWAY_URL=http://gateway:3000\n    ports:\n      - "4000:4000"\n    restart: always\n'})}),"\n",(0,o.jsx)(n.h2,{id:"clickhouse",children:"ClickHouse"}),"\n",(0,o.jsx)(n.p,{children:"TensorZero \u4f9d\u7136\u4ef0\u8cf4 ClickHouse \u4f5c\u70ba\u53ef\u89c0\u6e2c\u8cc7\u6599\u5eab\uff0c\u4e0d\u904e\u65e2\u7136\u6709\u4e86\u524d\u8eca\u4e4b\u9452\uff0c\u9019\u6b21\u7a0d\u5fae\u5728\u8a2d\u5b9a\u4e0a\u505a\u9ede\u529f\u8ab2\u3002"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["As an example, when using M-type CPUs, we recommend provisioning 100GB of memory per 25 CPU cores. ",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-clickhouse-hardware-604dec",id:"user-content-fnref-clickhouse-hardware-604dec","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Fortune 500 B2B SaaS"})," ",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-clickhouse-hardware-604dec",id:"user-content-fnref-clickhouse-hardware-604dec-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})})]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Storage"})})}),(0,o.jsx)(n.th,{})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Monthly new data volume"})}),(0,o.jsx)(n.td,{children:"30TB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Total Storage (compressed)"})}),(0,o.jsx)(n.td,{children:"540TB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Data retention"})}),(0,o.jsx)(n.td,{children:"18 months"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Disk per node"})}),(0,o.jsx)(n.td,{children:"25TB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"CPU"})})}),(0,o.jsx)(n.td,{})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Concurrency"})}),(0,o.jsx)(n.td,{children:"200+ concurrent queries"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"# of replicas (including HA pair)"})}),(0,o.jsx)(n.td,{children:"44"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"vCPU per node"})}),(0,o.jsx)(n.td,{children:"62"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Total vCPU"})}),(0,o.jsx)(n.td,{children:"2700"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:"Memory"})})}),(0,o.jsx)(n.td,{})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Total RAM"})}),(0,o.jsx)(n.td,{children:"11TB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"RAM per replica"})}),(0,o.jsx)(n.td,{children:"256GB"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"RAM-to-vCPU ratio"})}),(0,o.jsx)(n.td,{children:"4 GB:1"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"RAM-to-disk ratio"})}),(0,o.jsx)(n.td,{children:"1:50"})]})]})]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["For small amounts of data (up to ~200 GB compressed), it is best to use as much memory as the volume of data.",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-clickhouse-tips-604dec",id:"user-content-fnref-clickhouse-tips-604dec","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["The recommended amount of RAM is 32 GB or more.",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-clickhouse-tips-604dec",id:"user-content-fnref-clickhouse-tips-604dec-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})})]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u7a2e\u7a2e\u8de1\u8c61\u90fd\u986f\u793a ClickHouse \u662f\u70ba\u4e86\u5927\u578b\u696d\u52d9\u9700\u6c42\u8a2d\u8a08\u7684\uff0c\u5c0d\u65bc Homelab \u9019\u7a2e\u5c0f\u578b\u4f7f\u7528\u8005\u78ba\u5be6\u9700\u8981\u984d\u5916\u7684\u8a2d\u5b9a\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u65bc\u662f\u6211\u76f4\u63a5\u5f9e\u7db2\u8def\u4e0a\u6aa2\u4e86\u5225\u4eba\u7684\u8a2d\u5b9a\u4f86\u7528",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-clickhouse-low-604dec",id:"user-content-fnref-clickhouse-low-604dec","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"3"})}),"\uff1a"]}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsxs)("summary",{children:[(0,o.jsx)(n.code,{children:"config.xml"})," \u548c ",(0,o.jsx)(n.code,{children:"users.xml"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'\x3c!-- config.xml --\x3e\n\x3c!-- These settinsg should allow to run clickhouse in nodes with 4GB/8GB RAM --\x3e\n<clickhouse>\n  \x3c!-- disable some optional components/tables --\x3e\n  <mysql_port remove="1" />\n  <postgresql_port remove="1" />  \n  <query_thread_log remove="1" />\n  <opentelemetry_span_log remove="1" />\n  <processors_profile_log remove="1" />   \n\n  \x3c!-- disable mlock, allowing binary pages to be unloaded from RAM, relying on Linux defaults --\x3e\n  <mlock_executable>false</mlock_executable> \n\n  \x3c!-- decrease the cache sizes --\x3e\n  <mark_cache_size>268435456</mark_cache_size> \x3c!-- 256 MB --\x3e\n  <index_mark_cache_size>67108864</index_mark_cache_size> \x3c!-- 64 MB --\x3e\n  <uncompressed_cache_size>16777216</uncompressed_cache_size> \x3c!-- 16 MB --\x3e\n\n  \x3c!-- control the concurrency --\x3e\n  <max_thread_pool_size>2000</max_thread_pool_size>\n  <max_connections>64</max_connections>\n  <max_concurrent_queries>8</max_concurrent_queries>\n  <max_server_memory_usage_to_ram_ratio>0.75</max_server_memory_usage_to_ram_ratio> \x3c!-- 75% of the RAM, leave more for the system --\x3e\n  <max_server_memory_usage>0</max_server_memory_usage> \x3c!-- We leave the overcommiter to manage available ram for queries--\x3e\n\n  \x3c!-- reconfigure the main pool to limit the merges (those can create problems if the insert pressure is high) --\x3e\n  <background_pool_size>2</background_pool_size>\n  <background_merges_mutations_concurrency_ratio>2</background_merges_mutations_concurrency_ratio>\n  <merge_tree>\n    <merge_max_block_size>1024</merge_max_block_size>\n    <max_bytes_to_merge_at_max_space_in_pool>1073741824</max_bytes_to_merge_at_max_space_in_pool> \x3c!-- 1 GB max part--\x3e\n    <number_of_free_entries_in_pool_to_lower_max_size_of_merge>2</number_of_free_entries_in_pool_to_lower_max_size_of_merge>\n    <number_of_free_entries_in_pool_to_execute_mutation>2</number_of_free_entries_in_pool_to_execute_mutation>\n    <number_of_free_entries_in_pool_to_execute_optimize_entire_partition>2</number_of_free_entries_in_pool_to_execute_optimize_entire_partition>\n    \x3c!-- Reduces memory usage during merges in system.metric_log table (enabled by default) by setting min_bytes_for_wide_part and vertical_merge_algorithm_min_bytes_to_activate to 128MB --\x3e\n    <min_bytes_for_wide_part>134217728</min_bytes_for_wide_part>\n    <vertical_merge_algorithm_min_bytes_to_activate>134217728</vertical_merge_algorithm_min_bytes_to_activate>\n  </merge_tree>\n\n  \x3c!-- shrink all pools to minimum--\x3e\n  <background_buffer_flush_schedule_pool_size>1</background_buffer_flush_schedule_pool_size>\n  <background_merges_mutations_scheduling_policy>round_robin</background_merges_mutations_scheduling_policy>\n  <background_move_pool_size>1</background_move_pool_size>\n  <background_fetches_pool_size>1</background_fetches_pool_size>\n  <background_common_pool_size>2</background_common_pool_size>\n  <background_schedule_pool_size>8</background_schedule_pool_size>\n  <background_message_broker_schedule_pool_size>1</background_message_broker_schedule_pool_size>\n  <background_distributed_schedule_pool_size>1</background_distributed_schedule_pool_size>\n  <tables_loader_foreground_pool_size>0</tables_loader_foreground_pool_size>\n  <tables_loader_background_pool_size>0</tables_loader_background_pool_size>   \n</clickhouse>\n'})}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"\x3c!-- users.xml --\x3e\n<clickhouse>\n  <profiles>\n    <default>\n      <max_threads>2</max_threads>\n      <max_block_size>8192</max_block_size>\n      <queue_max_wait_ms>1000</queue_max_wait_ms>\n      <max_execution_time>600</max_execution_time>\n      <input_format_parallel_parsing>0</input_format_parallel_parsing>\n      <output_format_parallel_formatting>0</output_format_parallel_formatting>\n      <max_bytes_before_external_group_by>3221225472</max_bytes_before_external_group_by> \x3c!-- 3 GB --\x3e\n      <max_bytes_before_external_sort>3221225472</max_bytes_before_external_sort> \x3c!-- 3 GB --\x3e\n    </default>\n  </profiles>\n</clickhouse>\n"})})]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u904e ",(0,o.jsx)(n.code,{children:"max_concurrent_queries"})," \u8a2d\u6210 8 \u5728\u6211\u7684\u7528\u4f8b\u6709\u9ede\u592a\u5c11\u4e86\uff0cTensorZero \u90a3\u908a\u6703\u5674\u932f\u8aa4\uff0c\u6240\u4ee5\u6211\u7a0d\u5fae\u8abf\u9ad8\u5230 100\u3002\uff08\u9810\u8a2d\u503c\u662f 0\uff0c\u6c92\u6709\u9650\u5236\uff09"]}),"\n",(0,o.jsx)(n.h2,{id:"\u57fa\u672c\u4f7f\u7528",children:"\u57fa\u672c\u4f7f\u7528"}),"\n",(0,o.jsx)(n.p,{children:"TensorZero \u6bd4\u8f03\u8a0e\u53ad\u7684\u662f\u5b83\u7684\u5b98\u65b9\u6587\u4ef6\u6703\u4e00\u76f4\u627e\u6a5f\u6703\u63a8\u92b7\u81ea\u5df1\u8a2d\u8a08\u7684 API\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:'curl -X POST "http://localhost:3000/inference" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "function_name": "generate_haiku",\n    "input": {\n      "messages": [\n        {\n          "role": "user",\n          "content": "Write a haiku about TensorZero."\n        }\n      ]\n    }\n  }\'\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0d\u7136\u5c31\u662f\u4f7f\u7528\u81ea\u5df1\u7279\u6b8a\u7684 ",(0,o.jsx)(n.code,{children:"function_name"})," \u8a2d\u8a08\uff08\u7b49\u7b49\u6703\u89e3\u91cb\u9019\u500b\u6771\u897f\uff09\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'import OpenAI from "openai";\n\nconst client = new OpenAI({\n  baseURL: "http://localhost:3000/openai/v1",\n});\n\nconst response = await client.chat.completions.create({\n  model: "tensorzero::function_name::generate_haiku",\n  messages: [\n    {\n      role: "user",\n      content: "Write a haiku about TensorZero.",\n    },\n  ],\n});\n\nconsole.log(JSON.stringify(response, null, 2));\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u4f46\u662f TensorZero \u672c\u8eab\u662f OpenAI API \u517c\u5bb9\u7684\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'const url = "http://awesome-tensorzero-service:8123/openai/v1/chat/completions"\nconst headers = {\n   "Authorization": `Bearer ANY`,\n  "Content-Type": "application/json"\n}\nconst payload = {\n  "model": "tensorzero::model_name::openrouter::openai/gpt-oss-20b",\n  "messages": [\n    { "role": "system", "content": "You are a helpful assistant." },\n    { "role": "user", "content": "Hi" },\n  ],\n  "modalities": ["text"],\n}\n\nconst response = await fetch(url, {\n  method: "POST",\n  headers,\n  body: JSON.stringify(payload),\n});\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u53ea\u8981\u5728\u74b0\u5883\u8b8a\u6578\u91dd\u5c0d\u7279\u5b9a\u7684\u4f9b\u61c9\u5546 (Provider) \u8a2d\u5b9a\u597d API key \uff08\u4f8b\u5982\uff1a",(0,o.jsx)(n.code,{children:"OPENROUTER_API_KEY"}),"\uff09\uff0c\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f\u5c31\u53ef\u4ee5\u76f4\u63a5\u8abf\u7528\u5c0d\u61c9\u7684\u6a21\u578b\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-plaintext",children:"tensorzero::model_name::<PROVIDER>::<MODEL_NAME>\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"PROVIDER"})," \u662f TensorZero \u6709\u5be6\u4f5c\u652f\u63f4\u7684\u90e8\u4efd\uff0c\u5177\u9ad4\u6e05\u55ae\u8acb\u898b\u5b98\u65b9\u6587\u4ef6",(0,o.jsx)(n.sup,{children:(0,o.jsx)(n.a,{href:"#user-content-fn-provider-604dec",id:"user-content-fnref-provider-604dec","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"4"})}),"\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u7f3a\u4e4f-reasoning",children:"\u7f3a\u4e4f Reasoning"}),"\n",(0,o.jsx)(n.p,{children:"\u4f7f\u7528\u4e00\u9663\u5b50\u4e4b\u5f8c\u7b2c\u4e00\u500b\u89c0\u5bdf\u5230\u7684\u554f\u984c\u662f\u7f3a\u5c11 Reasoning\uff0c\u4e0d\u8ad6\u662f\u53ef\u89c0\u6e2c\u7d00\u9304\u672c\u8eab\uff0c\u6216\u662f client \u7684 request \u6709\u5e36\u4e0a Reasoning \u7684\u53c3\u6578\uff0c\u90fd\u6c92\u8fa6\u6cd5\u7372\u5f97\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u767c\u73fe\u554f\u984c\u7684\u7576\u4e0b\uff0c\u525b\u597d\u88ab\u958b\u767c\u4eba\u54e1\u6a19\u8a18\u6c92\u591a\u4e45\uff1a"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://github.com/tensorzero/tensorzero/issues/5703",children:"Add reasoning support to OpenRouter model provider \xb7 Issue #5703 \xb7 tensorzero/tensorzero"})}),"\n",(0,o.jsx)(n.p,{children:"\u5e7e\u5929\u5f8c\u64b0\u5beb\u672c\u6587\u7684\u6642\u5019(2026-01-22)\uff0c\u518d\u6b21\u67e5\u770b\u4f3c\u4e4e\u5df2\u7d93\u88ab\u89e3\u6c7a\u4e86\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"\u9032\u968e\u4f7f\u7528",children:"\u9032\u968e\u4f7f\u7528"}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"\u9664\u4e86\u57fa\u672c\u4f7f\u7528\uff0c\u5176\u4ed6\u529f\u80fd\u6211\u4e26\u6c92\u6709\u89aa\u81ea\u5be6\u6e2c\uff08\u4f7f\u7528\uff09\uff0c\u55ae\u7d14\u662f\u6839\u64da\u6211\u95b1\u8b80\u6587\u4ef6\u7684\u7406\u89e3\u6574\u7406\u7684\u3002"})}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"\u4ee5\u4e0b\u7686\u4ee5 OpenAI API \u8209\u4f8b\uff0c\u7562\u7adf\u5df2\u7d93\u662f\u5be6\u8cea\u7522\u696d\u6a19\u6e96\u4e86\u3002TensorZero \u81ea\u5df1\u7684 API \u683c\u5f0f\u6211\u5b8c\u5168\u6c92\u8208\u8da3\u7814\u7a76\u3002"})}),"\n",(0,o.jsx)(n.p,{children:"\u7b2c\u4e00\u7a2e\u662f\u525b\u525b\u63d0\u904e\u5f97\uff0c\u4f7f\u7528\u5167\u5efa\u7684 Provider \u76f4\u63a5\u547c\u53eb\u6a21\u578b\uff1a"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(4396).Z+"",width:"674",height:"530"})}),"\n",(0,o.jsx)(n.h3,{id:"\u81ea\u5b9a\u7fa9\u6a21\u578b",children:"\u81ea\u5b9a\u7fa9\u6a21\u578b"}),"\n",(0,o.jsx)(n.p,{children:"\u7b2c\u4e8c\u7a2e\u662f\u5728\u7d44\u614b\u6a94\u88e1\u914d\u7f6e\u81ea\u5b9a\u7fa9\u7684\u6a21\u578b\uff1a"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(57051).Z+"",width:"657",height:"701"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e00\u500b\u81ea\u8a02\u6a21\u578b\u53ef\u4ee5\u6709\u591a\u500b Provider/Routing\uff0c\u7528\u4f86\u7576\u4f5c\u5099\u63f4 (Fallbacks)\uff0c\u7576\u4e00\u500b Provider \u5931\u6557\u6703\u81ea\u52d5\u4f7f\u7528\u5176\u4ed6\u8a2d\u5b9a\u7684 Routing\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[models.my_gpt_5]\nrouting = ["my_openai_provider", "my_azure_provider"]\n\n[models.my_gpt_5.providers.my_openai_provider]\ntype = "openai"\nmodel_name = "gpt-5"\n\n[models.my_gpt_5.providers.my_azure_provider]\ntype = "azure"\ndeployment_id = "gpt-5"\nendpoint = "https://your-resource.openai.azure.com"\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u81ea\u5b9a\u7fa9\u51fd\u6578",children:"\u81ea\u5b9a\u7fa9\u51fd\u6578"}),"\n",(0,o.jsx)(n.p,{children:"\u7b2c\u4e09\u7a2e\u662f\u5728\u7d44\u614b\u6a94\u88e1\u914d\u7f6e\u81ea\u5b9a\u7fa9\u7684\u51fd\u6578\uff1a"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(50538).Z+"",width:"726",height:"646"})}),"\n",(0,o.jsx)(n.p,{children:"\u53ef\u4ee5\u4f7f\u7528\u6a19\u6e96\u7684 Provider \u548c Model\uff1b\u6216\u662f\u524d\u4e00\u7a2e\u81ea\u5b9a\u7fa9\u6a21\u578b\u3002\u53e6\u5916\u9664\u4e86\u5099\u63f4\u4e4b\u5916\uff0c\u51fd\u6578\u53ef\u4ee5\u7528\u4f86\u5efa\u7acb\u5be6\u9a57 (Experimentation) \u4f86\u9032\u884c A/B \u6e2c\u8a66\u3002"}),"\n",(0,o.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,o.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{id:"user-content-fn-clickhouse-hardware-604dec",children:["\n",(0,o.jsxs)(n.p,{children:["Sizing and hardware recommendations | ClickHouse Docs. Retrieved 2026-01-22, from ",(0,o.jsx)(n.a,{href:"https://clickhouse.com/docs/guides/sizing-and-hardware-recommendations",children:"https://clickhouse.com/docs/guides/sizing-and-hardware-recommendations"})," ",(0,o.jsx)(n.a,{href:"#user-content-fnref-clickhouse-hardware-604dec","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})," ",(0,o.jsxs)(n.a,{href:"#user-content-fnref-clickhouse-hardware-604dec-2","data-footnote-backref":"","aria-label":"Back to reference 1-2",className:"data-footnote-backref",children:["\u21a9",(0,o.jsx)(n.sup,{children:"2"})]})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{id:"user-content-fn-clickhouse-tips-604dec",children:["\n",(0,o.jsxs)(n.p,{children:["OSS usage recommendations | ClickHouse Docs. Retrieved 2026-01-22, from ",(0,o.jsx)(n.a,{href:"https://clickhouse.com/docs/operations/tips",children:"https://clickhouse.com/docs/operations/tips"})," ",(0,o.jsx)(n.a,{href:"#user-content-fnref-clickhouse-tips-604dec","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})," ",(0,o.jsxs)(n.a,{href:"#user-content-fnref-clickhouse-tips-604dec-2","data-footnote-backref":"","aria-label":"Back to reference 2-2",className:"data-footnote-backref",children:["\u21a9",(0,o.jsx)(n.sup,{children:"2"})]})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{id:"user-content-fn-clickhouse-low-604dec",children:["\n",(0,o.jsxs)(n.p,{children:["Configure ClickHouse\xae for low memory environments | Altinity\xae Knowledge Base for ClickHouse\xae. Retrieved 2026-01-22, from ",(0,o.jsx)(n.a,{href:"https://kb.altinity.com/altinity-kb-setup-and-maintenance/configure_clickhouse_for_low_mem_envs/",children:"https://kb.altinity.com/altinity-kb-setup-and-maintenance/configure_clickhouse_for_low_mem_envs/"})," ",(0,o.jsx)(n.a,{href:"#user-content-fnref-clickhouse-low-604dec","data-footnote-backref":"","aria-label":"Back to reference 3",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{id:"user-content-fn-provider-604dec",children:["\n",(0,o.jsxs)(n.p,{children:["Overview - TensorZero Docs. Retrieved 2026-01-22, from  ",(0,o.jsx)(n.a,{href:"https://www.tensorzero.com/docs/integrations/model-providers",children:"https://www.tensorzero.com/docs/integrations/model-providers"})," ",(0,o.jsx)(n.a,{href:"#user-content-fnref-provider-604dec","data-footnote-backref":"","aria-label":"Back to reference 4",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function _(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4396:(e,n,r)=>{r.d(n,{Z:()=>o});const o=r.p+"assets/images/01_tensorzero-eb290cd113bc05dd8508735fda6ba853.webp"},57051:(e,n,r)=>{r.d(n,{Z:()=>o});const o=r.p+"assets/images/02_tensorzero-64e1bb4be1f8f283f4910b4a4e542f12.webp"},50538:(e,n,r)=>{r.d(n,{Z:()=>o});const o=r.p+"assets/images/03_tensorzero-8e41d13eb9e9f5048809ae33bec79aa1.webp"},88717:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>i});var o=r(50959);const s={},t=o.createContext(s);function i(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);