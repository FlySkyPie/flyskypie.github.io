"use strict";(self.webpackChunkflyskypie_github_io=self.webpackChunkflyskypie_github_io||[]).push([[93719],{4996:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var n=i(11527),r=i(88717);const t={slug:"2026-01-07_observability-outage",authors:["weiji"],tags:[]},l="Homelab \u53ef\u89c0\u6e2c\u91cd\u5efa\u9032\u5ea6",o={permalink:"/posts/2026-01-07_observability-outage",source:"@site/post/2026-01-07_observability-outage/index.md",title:"Homelab \u53ef\u89c0\u6e2c\u91cd\u5efa\u9032\u5ea6",description:"\u524d\u60c5\u63d0\u8981",date:"2026-01-07T00:00:00.000Z",formattedDate:"January 7, 2026",tags:[],hasTruncateMarker:!1,authors:[{name:"Wei Ji",title:"\u9583\u4eae\u75c7\u5019\u7fa4\u5de5\u7a0b\u5c4d",url:"https://github.com/FlySkyPie",imageURL:"https://avatars.githubusercontent.com/u/9475660",key:"weiji"}],frontMatter:{slug:"2026-01-07_observability-outage",authors:["weiji"],tags:[]},unlisted:!1,prevItem:{title:"\u5de5\u4f5c\u54f2\u5b78 - \u5df2\u8b80 Emoji",permalink:"/posts/2026-01-07_emoji"},nextItem:{title:"K8s \u5b78\u7fd2\u7b46\u8a18 - K8s \u53ea\u662f\u6846\u67b6",permalink:"/posts/2026-01-05_k8s-is-framework"}},a={authorsImageUrls:[void 0]},c=[{value:"\u524d\u60c5\u63d0\u8981",id:"\u524d\u60c5\u63d0\u8981",level:2},{value:"\u4ef0\u8cf4\u93c8",id:"\u4ef0\u8cf4\u93c8",level:2},{value:"Observability \u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",id:"observability-\u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",level:2},{value:"Prometheus \u5b89\u88dd\u7b46\u8a18",id:"prometheus-\u5b89\u88dd\u7b46\u8a18",level:2},{value:"LLM Observability \u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",id:"llm-observability-\u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components},{Head:t}=s;return t||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t,{children:(0,n.jsx)("meta",{property:"og:image",content:"https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/post/2026-01-07_observability-outage/03_migration.webp"})}),"\n",(0,n.jsx)(s.h2,{id:"\u524d\u60c5\u63d0\u8981",children:"\u524d\u60c5\u63d0\u8981"}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.p,{children:"\u65e5\u671f\u662f\u6839\u64da Git Commit \u7d00\u9304\u8ddf\u87a2\u5e55\u622a\u5716\u6642\u9593\u63a8\u8ad6\u7684\uff0c\u4f46\u662f\u4e0d\u662f\u771f\u6b63\u7cbe\u6e96\u7684\u6642\u9593\uff0c\u56e0\u70ba Git Commit \u53ef\u80fd\u5ef6\u5f8c\u4e00\u6bb5\u6642\u9593\u624d\u63a8\u9001\uff0c\u622a\u5716\u7684\u554f\u984c\u5247\u662f\u4e0d\u662f\u6bcf\u4e00\u500b\u7576\u4e0b\u90fd\u6709\u622a\u5716\u3002"})}),"\n",(0,n.jsx)(s.p,{children:"2025-10-04 \u5de6\u53f3\uff1a LiteLLM \u548c Langfuse \u4e0a\u7dda\u3002\n2025-10-11 \u5de6\u53f3\uff1a Local Deep Research \u4e0a\u7dda\u3002"}),"\n",(0,n.jsx)(s.p,{children:"2025-10-14 \u5de6\u53f3\uff1a \u958b\u59cb\u6bd4\u8f03\u983b\u7e41\u4f7f\u7528 Local Deep Research\u3002"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(84243).Z+"",width:"1440",height:"832"})}),"\n",(0,n.jsx)(s.p,{children:"2025-10-22 \u5de6\u53f3\uff1aHomelab \u958b\u59cb\u51fa\u73fe\u7576\u6a5f\u7570\u5e38\u3002"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"\u5716\u8868\u7684\u65b7\u5c64\u5c31\u662f\u4f3a\u670d\u5668\u5b8c\u5168\u7576\u6a5f\u8b93\u8cc7\u6599\u63a1\u96c6\u7684\u6a5f\u80fd\u7671\u7613\u9020\u6210\u7684\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u53ef\u4ee5\u89c0\u5bdf\u5230 CPU \u8ddf RAM \u7570\u5e38\u4f7f\u7528\u662f Langfuse \u670d\u52d9\u7c07\u7684 ClickHouse \u9020\u6210\u7684\u3002"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(36890).Z+"",width:"1440",height:"833"})}),"\n",(0,n.jsx)(s.p,{children:"2025-10-23 \u7684\u7d00\u9304\uff1a"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(67163).Z+"",width:"1440",height:"831"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(72621).Z+"",width:"1440",height:"836"})}),"\n",(0,n.jsx)(s.p,{children:"2025-11-01 \u5de6\u53f3\uff1a\u9023\u5e36 Grafana \u670d\u52d9\u7c07\u4e5f\u5931\u6548\uff0c\u5931\u6548\u5f8c\u5c31\u628a Langfuse \u95dc\u6389\u7136\u5f8c\u6c92\u6709\u4fee\u5fa9\u5b83\u4e86\uff0c\u76f4\u5230\u6700\u8fd1 (2026-01) \u4f48\u7f72 K8s \u624d\u6e96\u5099\u628a\u670d\u52d9\u9077\u79fb\u904e\u53bb\u3002"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(15858).Z+"",width:"1440",height:"830"})}),"\n",(0,n.jsx)(s.p,{children:"Grafana \u5931\u6548\u524d\u6211\u6709\u95dc\u67e5\u5230 Docker \u5728\u91cd\u65b0\u62c9\u53d6 image\uff0c\u63a8\u6e2c\u662f\u56e0\u70ba\u6211\u5fd8\u8a18\u9396\u5b9a image \u7248\u672c\u9020\u6210\u7684\u3002"}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.p,{children:"\u6574\u500b\u904e\u7a0b\u4e2d\u51fa\u73fe\u904e\u5e7e\u7a2e\u4e0d\u540c\u7684\u60c5\u6cc1\uff1a"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"\u96fb\u6e90\u9375\u5f37\u5236\u95dc\u6a5f\u5f8c\u6062\u5fa9\u6b63\u5e38\u3002"}),"\n",(0,n.jsxs)(s.li,{children:["\u96fb\u6e90\u9375\u5f37\u5236\u95dc\u6a5f\u5f8c LiteLLM \u7570\u5e38\u3002","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Stack \u522a\u6389\u5f8c\u91cd\u65b0\u4f48\u7f72\u5f8c\u6062\u5fa9\u6b63\u5e38\u3002"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\u96fb\u6e90\u9375\u5f37\u5236\u95dc\u6a5f\u5f8c Langfuse \u7570\u5e38\u3002","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"\u6839\u64da clickhouse log \u627e\u5230\u6709\u554f\u984c\u7684 block\uff0c\u522a\u9664\u5f8c\u91cd\u65b0\u4f48\u7f72\u6062\u5fa9\u6b63\u5e38\uff08\u5982\u4e0b\uff09\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"2025.11.01 11:00:20.208590 [ 652 ] {c14fc20e-f2b0-45cb-939c-0fe47de9811c::202510_16681_17212_76} <Error> virtual bool DB::MergePlainMergeTreeTask::executeStep(): Exception is in merge_task.: Code: 40. DB::Exception: Checksum doesn't match: corrupted data. Reference: 52f594fc9d7f3ee0495f8f089d3882cf. Actual: c92bc03d0da25742da61b67ce5764aac. Size of compressed block: 3640. The mismatch is caused by single bit flip in data block at byte 2581, bit 2. This is most likely due to hardware failure. If you receive broken data over network and the error does not repeat every time, this can be caused by bad RAM on network interface controller or bad controller itself or bad RAM on network switches or bad CPU on network switches (look at the logs on related network switches; note that TCP checksums don't help) or bad RAM on host (look at dmesg or kern.log for enormous amount of EDAC errors, ECC-related reports, Machine Check Exceptions, mcelog; note that ECC memory can fail if the number of errors is huge) or bad CPU on host. If you read data from disk, this can be caused by disk bit rot. This exception protects ClickHouse from data corruption due to hardware failures: While reading or decompressing /var/lib/clickhouse/store/c14/c14fc20e-f2b0-45cb-939c-0fe47de9811c/202510_16681_17060_75/data.bin (position: 824782, typename: DB::ReadBufferFromFilePReadWithDescriptorsCache, compressed data header: <uninitialized>): (while reading column ProfileEvent_ReadBufferFromFileDescriptorRead): (while reading from part /var/lib/clickhouse/store/c14/c14fc20e-f2b0-45cb-939c-0fe47de9811c/202510_16681_17060_75/ in table system.metric_log (c14fc20e-f2b0-45cb-939c-0fe47de9811c) located on disk default of type local, from mark 2 with max_rows_to_read = 916, offset = 0): While executing MergeTreeSequentialSource. (CHECKSUM_DOESNT_MATCH), Stack trace (when copying this message, always include the lines below):\n"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"\u96fb\u6e90\u9375\u5f37\u5236\u95dc\u6a5f\u5f8c Langfuse \u7570\u5e38\u3002"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"\u6839\u64da clickhouse log \u627e\u5230\u6709\u554f\u984c\u7684 block\uff0c\u522a\u9664\u5f8c\u91cd\u65b0\u4f48\u7f72\u4f9d\u7136\u7121\u6cd5\u6062\u5fa9\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u628a clickhouse \u5efa\u7acb\u5168\u65b0\u7684 Volume \u5f8c\u6062\u5fa9\u6b63\u5e38\u3002"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"\u6709\u5e7e\u6b21\u4f3a\u670d\u5668\u662f\u5b8c\u5168\u6c92\u87a2\u5e55\u53cd\u61c9\uff0c\u6709\u53cd\u61c9\u7684\u5e7e\u6b21\u53ef\u4ee5\u5728\u7d42\u7aef\u89c0\u5bdf\u5230 CPU Lock\uff1a"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"watchdog: BUG: soft lockup - CPU#* stuck for **s!\n"})}),"\n",(0,n.jsx)(s.h2,{id:"\u4ef0\u8cf4\u93c8",children:"\u4ef0\u8cf4\u93c8"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(21528).Z+"",width:"1072",height:"638"})}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsx)(s.li,{children:"Biomes \u91cd\u69cb\u7684\u9032\u5c55\u76ee\u524d\u9762\u81e8\u5927\u91cf\u7684 Schema \u578b\u5225\u4fee\u5fa9\u5de5\u4f5c\uff0c\u6211\u9700\u8981\u501f\u52a9 LLM \u4e4b\u529b\u4f86\u89e3\u6c7a\u3002"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(12853).Z+"",width:"1421",height:"776"})}),"\n",(0,n.jsxs)(s.ol,{start:"2",children:["\n",(0,n.jsx)(s.li,{children:"\u6211\u62d2\u7d55\u4f7f\u7528\u57fa\u65bc\u804a\u5929\u6216 IDE Agent \u7684 LLM \u65b9\u6848\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u6211\u60f3\u4f7f\u7528 ComfyUI \u4f86\u69cb\u9020\u5c08\u9580\u7528\u4f86\u8655\u7406 Schema \u4fee\u5fa9\u554f\u984c\u7684 pipeline\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u6211\u5728\u672c\u5730\u4f7f\u7528 LLM \u5de5\u5177\u6211\u8981\u6c42\u5fc5\u9808\u5728\u6709 LLM Observability \u7684\u524d\u63d0\u4e0b\u4f7f\u7528\uff0c\u6240\u4ee5\u6211\u5fc5\u9808\u5148\u4fee\u5fa9\u6211\u7684 LLM Observability\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u5728\u6709\u4f3a\u670d\u5668\u5d29\u6f70\u7684\u524d\u8eca\u4e4b\u9451\uff0c\u6211\u8981\u6c42\u5fc5\u9808\u5728\u6709 Observability \u7684\u524d\u63d0\u4e0b\u4f48\u7f72 LLM Observability\uff0c\u6240\u4ee5\u6211\u5fc5\u9808\u5148\u4fee\u5fa9\u6211\u7684 Observability\u3002"}),"\n",(0,n.jsx)(s.li,{children:"\u4f46\u662f\u6211\u4e0d\u60f3\u5728\u73fe\u6709\u7684\u7bc0\u9ede\u4e0a\u4fee\u5fa9 Observability\uff0c\u800c\u662f\u5728\u65b0\u7684\u7bc0\u9ede\u4f7f\u7528 K8s \u4e26\u4f48\u7f72 Observability\uff0c\u56e0\u6b64\u6211\u8981\u5148\u5b78\u7fd2\u4f7f\u7528 K8s\u3002"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"observability-\u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",children:"Observability \u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b"}),"\n",(0,n.jsx)(s.p,{children:"\u5230\u6628\u5929 (2026-01-06) \u70ba\u6b62\uff0c\u6211\u5df2\u7d93\uff1a"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\u8a2d\u5b9a\u65b0\u7684\u7bc0\u9ede\uff0c\u5b89\u88dd K3s\u3002(2025-12-24)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-03_laptop-homelab/",children:"\u7b46\u8a18\u578b Homelab \u98fc\u990a\u6ce8\u610f\u4e8b\u9805"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-02_learn-k8s/",children:"\u5b89\u88dd K3s \u8207\u9060\u7aef\u9023\u7dda"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\u6574\u7406\u4e4b\u524d\u8ddf K8s \u6709\u95dc\u7684\u77e5\u8b58\u9ede\u3002(2025-12-28~2026-01-02)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2025-12-28_learn-k8s/",children:"\u6559\u7df4\u6211\u60f3\u5b78 K8s"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2025-12-29_systemd-ish/",children:"\u5f9e Docker \u958b\u59cb\u7684 Systemd \u5c0f\u5b87\u5b99"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2025-12-31_learn-k8s/",children:"K8s \u5b78\u7fd2\u7b46\u8a18 - Cluster \u548c\u5b83\u5feb\u6a02\u7684\u5c0f\u5925\u4f34\u5011"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-01_learn-k8s/",children:"K8s \u5b78\u7fd2\u7b46\u8a18 - Pod \u548c\u5b83\u5feb\u6a02\u7684\u5c0f\u5925\u4f34\u5011"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\u91d0\u6e05 Ingress/Load Balancer \u7684\u6982\u5ff5\u3002(~2026-01-05)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-05_k8s-is-framework/",children:"K8s \u5b78\u7fd2\u7b46\u8a18 - K8s \u53ea\u662f\u6846\u67b6"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"\u91d0\u6e05 PV/PVC \u7684\u6982\u5ff5\u3002(~2026-01-05)"}),"\n",(0,n.jsxs)(s.li,{children:["\u7528 Helm \u5b89\u88dd Longhorn\u3002(2026-01-05)","\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-05_k8s-longhorn-intro/",children:"K8s \u5b78\u7fd2\u7b46\u8a18 - Longhorn \u7c21\u4ecb"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://flyskypie.github.io/posts/2026-01-05_k8s-longhorn-install-and-helm/",children:"K8s \u5b78\u7fd2\u7b46\u8a18 - Longhorn \u5b89\u88dd\u8207 Helm"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.li,{children:"\u7528 Helm \u5b89\u88dd Kube-Prometheus-Stack\u3002(2026-01-06)"}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(38464).Z+"",width:"1578",height:"772"})}),"\n",(0,n.jsx)(s.p,{children:"\u7528 K8s \u5167\u7684 Prometheus \u548c Grafana \u5be6\u4f8b\u53d6\u4ee3\u539f\u672c\u7684\uff0c\u539f\u672c\u7684\u5169\u5f35 Dashboard \u5247\u662f\u672c\u4f86\u5c31\u6709 JSON \u6a94\u76f4\u63a5\u79fb\u904e\u53bb\u3002\u539f\u672c\u7684\u4f3a\u670d\u5668\u6307\u4fdd\u7559 Cadvisor \u4f9b\u65b0\u7684 Prometheus \u63a1\u96c6\u8cc7\u6599\u3002"}),"\n",(0,n.jsx)(s.p,{children:"\u76ee\u524d\u95dc\u65bc\u5bb9\u5668\u7684 Dashboard \u662f\u8655\u65bc\u5169\u500b\u7bc0\u9ede\u8cc7\u6599\u6df7\u5728\u4e00\u8d77\u7684\u72c0\u614b\uff0c\u66ab\u6642\u5148\u4e0d\u8655\u7406 Query \u9700\u8981\u66f4\u65b0\u7684\u554f\u984c\uff1a"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(69321).Z+"",width:"1440",height:"836"})}),"\n",(0,n.jsx)(s.p,{children:"Node Dashboard \u5247\u662f\u76f4\u63a5\u63a5\u8ecc\u65b0\u7684 Node Exporter \u7684\u8cc7\u6599\uff0c\u66ab\u6642\u4e5f\u5148\u4e0d\u8655\u7406\u820a\u7bc0\u9ede\u7684\u8cc7\u6599\uff1a"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:i(78642).Z+"",width:"1440",height:"831"})}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.p,{children:"Kube-Prometheus-Stack \u5176\u5be6\u6709\u63d0\u4f9b\u4e0d\u5c11 Dashboard \u7528\u4f86\u89c0\u5bdf\u65b0\u7bc0\u9ede\uff0c\u6211\u5c31\u4e0d\u5728\u9019\u908a\u4e00\u4e00\u5217\u8209\u4e86\u3002"})}),"\n",(0,n.jsx)(s.h2,{id:"prometheus-\u5b89\u88dd\u7b46\u8a18",children:"Prometheus \u5b89\u88dd\u7b46\u8a18"}),"\n",(0,n.jsx)(s.p,{children:"\u8ddf Longhorn \u4e00\u6a23\u76f4\u63a5\u4f7f\u7528 Helm \u5b89\u88dd\uff1a"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell",children:"helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\n\nhelm repo update\n\nhelm show values prometheus-community/kube-prometheus-stack --version 51.6.0 >values.yaml\n\nhelm install prometheus-stack prometheus-community/kube-prometheus-stack \\\n    -f values.yaml \\\n    -n prometheus-stack \\\n    --create-namespace \\\n    --version 51.6.0\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"values.yaml"})," \u5012\u662f\u6709\u505a\u4e00\u4e9b\u8abf\u6574\uff1a"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"\u6642\u5340"}),"\n",(0,n.jsx)(s.li,{children:"\u9069\u61c9\u7576\u524d K8s (K3s) \u7684 Ingress \u70ba Traefik"}),"\n",(0,n.jsx)(s.li,{children:"\u5c0d\u5167\u7db2 DNS \u66b4\u9732 Grafana"}),"\n",(0,n.jsx)(s.li,{children:"\u9069\u61c9\u7576\u524d K8s \u6301\u4e45\u5316\u5be6\u4f8b\u70ba Longhorn"}),"\n",(0,n.jsx)(s.li,{children:"\u5f9e\u820a Node \u7684 Cadvisor \u63a1\u96c6\u8cc7\u6599"}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-yaml",children:'grafana:\n  defaultDashboardsTimezone: Asia/Taipei\n  ingress:\n    ingressClassName: traefik\n    hosts:\n      - grafana.observable.gas.arachne\n\nprometheus:\n  prometheusSpec:\n    storageSpec:\n      volumeClaimTemplate:\n        spec:\n          storageClassName: longhorn\n          accessModes: ["ReadWriteOnce"]\n          resources:\n            requests:\n              storage: 50Gi\n    additionalScrapeConfigs: |\n      - job_name: beta-cadvisor\n        static_configs:\n          - targets:\n            - web.cadvisor.arachne\n'})}),"\n",(0,n.jsx)(s.h2,{id:"llm-observability-\u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b",children:"LLM Observability \u91cd\u5efa\u7684\u7576\u524d\u72c0\u614b"}),"\n",(0,n.jsx)(s.p,{children:"LiteLLM \u96d6\u7136\u5728 OpenRouter \u6392\u884c\u699c\u87ec\u806f\u524d\u5e7e\u540d\uff0c\u4f46\u662f\u5be6\u969b\u4f7f\u7528\u4e0b\u4f86\u7d66\u6211\u7684\u611f\u89ba\u4e0d\u592a\u7a69\u5b9a\uff08\u7d93\u6b77\u904e\u52a0\u5bc6 Bug\u3001\u7576\u6a5f\u5f8c\u7121\u6cd5\u6b63\u5e38\u5fa9\u4f4d\uff09\u3002"}),"\n",(0,n.jsx)(s.p,{children:"\u53e6\u4e00\u65b9\u9762\uff0cLangfuse \u7d66\u6211\u7684\u611f\u89ba\u5247\u662f\u76f8\u5c0d\u80a5\u5927\uff08\u670d\u52d9\u7c07\u9700\u8981\u540c\u6642\u914d\u7f6e ClickHouse\u3001MinIO\u3001Redis\u3001PostgresSQL\uff09\uff0c\u4f46\u662f\u6211\u53c8\u6c92\u6709\u4f7f\u7528\u5230\u88e1\u9762\u7684\u6bcf\u4e00\u500b\u529f\u80fd\u3002\u66f4\u5225\u63d0 ClickHouse \u5c31\u662f\u8868\u9762\u4e0a\u9019\u6b21\u4e8b\u6545\u7684\u4e3b\u56e0\u3002"}),"\n",(0,n.jsxs)(s.p,{children:["\u56e0\u6b64\u6211\u6253\u7b97\u8a55\u4f30\u5176\u4ed6 LLM Gateway/Observability \u65b9\u6848\uff0c\u76ee\u524d\u770b\u4e0a ",(0,n.jsx)(s.a,{href:"https://github.com/maximhq/bifrost",children:"Bifrost"}),"\uff0c\u8a66\u7528\u4e86\u4e00\u4e0b\u611f\u89ba\u4e0d\u932f\uff0c\u5c31\u662f\u5b83\u7684\u8cc7\u6599\u5eab\u914d\u7f6e\u7a0d\u5fae\u6709\u9ede\u9ebb\u7169\uff0c\u9019\u500b\u90e8\u4efd\u53ef\u80fd\u4e4b\u5f8c\u518d\u63d0\u3002"]})]})}function d(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},12853:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/01_shared-build-errors-502be1013e64f362bd01b74967d4b8e6.webp"},21528:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/02_dependencies-d48e34f6da96e43bd203ab5d2780b64d.webp"},38464:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/03_migration-b30fe59a52f586312ec687216542c11b.webp"},84243:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2025-10-14-191907-c54806eb5a9f2f27c973dac770ffed24.webp"},36890:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2025-10-22-153923-070d3dfe4225019fee6cc35f5bf10da4.webp"},67163:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2025-10-23-092053-f2a15f06adb99d31dca02af023e74401.webp"},72621:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2025-10-23-092111-0bd35fe2f3c3b8d0692b25ac204ddb45.webp"},15858:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2025-11-01-201633-9c9e7938cab3d2f3ec6377040c98742f.webp"},69321:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2026-01-07-110633-75db9d2164912febd853c6d9d896dc67.webp"},78642:(e,s,i)=>{i.d(s,{Z:()=>n});const n=i.p+"assets/images/2026-01-07-125235-b3a4c6e35bbcb101d9d265977d9db27e.webp"},88717:(e,s,i)=>{i.d(s,{Z:()=>o,a:()=>l});var n=i(50959);const r={},t=n.createContext(r);function l(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);