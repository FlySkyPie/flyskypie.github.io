<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-post" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">廢文雜談 | 工程屍 FlyPie 的異想世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://flyskypie.github.io/posts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:locale" content="zh_tw"><meta data-rh="true" property="og:title" content="廢文雜談 | 工程屍 FlyPie 的異想世界"><meta data-rh="true" name="description" content="Random post just like FB or Twitter."><meta data-rh="true" property="og:description" content="Random post just like FB or Twitter."><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/post/2026-01-22_tensorzero/00_cover.webp"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flyskypie.github.io/posts"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/posts" hreflang="en"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/posts" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="工程屍 FlyPie 的異想世界 JSON Feed">




<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4a9022c6.css">
<script src="/assets/js/runtime~main.82d4a870.js" defer="defer"></script>
<script src="/assets/js/main.422eb01f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_LBgp" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--light_RyNI"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--dark_ntqO"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/the-key-of-huanche/">專案文件</a><a class="navbar__item navbar__link" href="/blogs">數位手記</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/posts">廢文雜談</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_s2nU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_DonJ colorModeToggle_KBLq"><button class="clean-btn toggleButton_qwn5 toggleButtonDisabled_tRn_" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bYdl"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_D9Q4"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Cbrq"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_GUBX"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_UgN6 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_PkUw margin-bottom--md">Recent posts</div><ul class="sidebarItemList_HFnO clean-list"><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-02-26_storage-levels">儲存等級</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-02-25_anatomy-foot">解剖學 - 人體骨骼 - 學習筆記 - 足部</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-02-25_homelabe-status">Homelab 遷移近況</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-02-25_s3-migration">S3 遷移筆記</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-02-23_superman">不對稱的紀律</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="最近在整理腦中對於儲存的觀念，試著用「如果儲存是 RPG 等級制」的概念寫了一段虛構的過程，不完全嚴謹，但是應該有助於初學者建立觀念。"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-26_storage-levels">儲存等級</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-26T00:00:00.000Z" itemprop="datePublished">February 26, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p>最近在整理腦中對於儲存的觀念，試著用「如果儲存是 RPG 等級制」的概念寫了一段虛構的過程，不完全嚴謹，但是應該有助於初學者建立觀念。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-1">Level 1<a href="#level-1" class="hash-link" aria-label="Direct link to Level 1" title="Direct link to Level 1">​</a></h2>
<p>你安裝了 Linux 作業系統，在安裝過程把硬碟格式化成 ext4 並切割了磁區：</p>
<ul>
<li><code>/boot/efi</code>: fat32</li>
<li><code>/boot</code>: ext4</li>
<li><code>/home</code>: ext4</li>
<li>剩下的給 <code>/</code>: ext4</li>
</ul>
<p>安裝給系統的檔案會到 <code>/</code>，使用者各自囤積的檔案則會儲存在 <code>/home</code>。</p>
<p>但是用著用著，你發現 <code>/home</code> 快滿了但是 <code>/</code> 還很空。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-2">Level 2<a href="#level-2" class="hash-link" aria-label="Direct link to Level 2" title="Direct link to Level 2">​</a></h2>
<p>你安裝了 Linux 作業系統，這次你在安裝過程先對硬碟建立 LVM(Logical Volume Manager)：</p>
<ul>
<li><code>/boot/efi</code>: fat32</li>
<li><code>/boot</code>: ext4</li>
<li>VG (Volume Group)<!-- -->
<ul>
<li><code>/home</code> LV (Logical Volume): ext4</li>
<li>剩下的給 <code>/</code> LV: ext4</li>
</ul>
</li>
</ul>
<p>但是用著用著，你發現 <code>/home</code> 快滿了但是 <code>/</code> 還很空，於是你利用 LVM 的特性修改 <code>/home</code> 和 <code>/</code> 這兩個 LV 的大小。</p>
<p>但是用著用著，你發現硬碟滿了，於是你買了另外一個硬碟接上電腦，卻發現現在你有 <code>sda</code> 和 <code>sdb</code> 兩顆硬碟了，資料夾的安排變得很不方便。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-3">Level 3<a href="#level-3" class="hash-link" aria-label="Direct link to Level 3" title="Direct link to Level 3">​</a></h2>
<p>你安裝了 Linux 作業系統，這次你在安裝過程先對硬碟建立 LVM(Logical Volume Manager)：</p>
<ul>
<li><code>/boot/efi</code>: fat32</li>
<li><code>/boot</code>: ext4</li>
<li>VG (硬碟A + 硬碟B)<!-- -->
<ul>
<li><code>/home</code> LV (Logical Volume): ext4</li>
<li>剩下的給 <code>/</code> LV: ext4</li>
</ul>
</li>
</ul>
<p>你把多個硬碟當成一個硬碟使用，用得很愉快，但是好景不常，外面發生了警匪槍戰，一顆子彈剛好打在你的其中一顆硬碟上，現在你所有的資料都沒辦法讀取了。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-4">Level 4<a href="#level-4" class="hash-link" aria-label="Direct link to Level 4" title="Direct link to Level 4">​</a></h2>
<p>你根據教學 (<a href="https://std.rocks/gnulinux_mdadm_uefi.html" target="_blank" rel="noopener noreferrer">https://std.rocks/gnulinux_mdadm_uefi.html</a>) 折騰了一番，</p>
<ol>
<li>先在每一個硬碟切出 EFI 和普通磁區</li>
<li>再用 mdadm 將磁區建立 raid 1 （或是 raid 1/0 或是 raid 5）</li>
<li>再把 mdadm 陣列格式化成 LVM</li>
<li>把 LVM 切成 <code>/</code> 和 <code>/home</code> 要用的邏輯磁區</li>
<li>最後再把 Linux 安裝進 <code>/</code></li>
</ol>
<p>用著用著，外面又發生了槍戰，你的其中一個硬碟又被打壞了，這次你有恃無恐的更換掉一顆硬碟。</p>
<p>但是重建速度太慢，重建完成之前第二顆硬碟又被子彈打中了，現在你的所有資料又丟失了。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-5">Level 5<a href="#level-5" class="hash-link" aria-label="Direct link to Level 5" title="Direct link to Level 5">​</a></h2>
<p>你買了一張硬碟陣列卡，這次你直接在一張 SSD 安裝系統，陣列卡模擬的硬碟直接掛在 <code>/home</code> 下，你心想系統壞了就直接重灌就是了。</p>
<p>用著用著，外面又發生了槍戰，你的其中一個硬碟又被打壞了，這次你有恃無恐的更換掉一顆硬碟。</p>
<p>過了幾年外面又發生了槍戰，這次換你的硬碟陣列卡被打中，買不到相同型號的陣列卡，你的資料又報廢了。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-5-1">Level 5-1<a href="#level-5-1" class="hash-link" aria-label="Direct link to Level 5-1" title="Direct link to Level 5-1">​</a></h2>
<p>在 Level 5 陣列卡被打壞後，你意識到 RAID 不是備份 (RAID is not Backup)。你開始實行 3-2-1 原則：</p>
<ul>
<li>3 份資料拷貝。</li>
<li>2 種不同的存儲媒介。</li>
<li>1 個異地存放</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>本段落由 Gemini fast 補充。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-6">Level 6<a href="#level-6" class="hash-link" aria-label="Direct link to Level 6" title="Direct link to Level 6">​</a></h2>
<p>這次你決定安裝 ZFS 把多顆硬碟組成陣列，享受它帶來的冗餘與快照功能。</p>
<p>然後你發現你的硬碟數量受到主機板的 I/O 數量限制，雖然你可以用兩台電腦組合成更大的帳面容量，但是你面臨 Level 2 類似的情況，你有兩個檔案目錄不方便管理。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-6-1">Level 6-1<a href="#level-6-1" class="hash-link" aria-label="Direct link to Level 6-1" title="Direct link to Level 6-1">​</a></h2>
<p>在使用 ZFS 後，你發現了「靜態資料損壞」的可怕。你開始定期進行 <code>zpool scrub</code>，確保即便子彈沒打中，背景輻射或硬體老化也不會悄悄吃掉你的位元。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>本段落由 Gemini fast 補充。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-7">Level 7<a href="#level-7" class="hash-link" aria-label="Direct link to Level 7" title="Direct link to Level 7">​</a></h2>
<p>你決定使用 GlusterFS，現在多個節點的儲存空間可以被視作一個資源池使用了。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-8">Level 8<a href="#level-8" class="hash-link" aria-label="Direct link to Level 8" title="Direct link to Level 8">​</a></h2>
<p>你發現在 GlusterFS 的架構下還要為每個節點配置軟體陣列太麻煩了，SDS (Software-defined storage) 本身就有實作冗餘機制，於是你直接使用 JBOD (Just a Bunch Of Disks)。</p>
<p>但是你發現你依然需要管理「儲存空間」這個概念，為什麼我不能有一個「接近無限」的實體而無須在意有多少空間？</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-9">Level 9<a href="#level-9" class="hash-link" aria-label="Direct link to Level 9" title="Direct link to Level 9">​</a></h2>
<p>你配置了 MinIO，現在你要儲存資料不再關心磁區的概念，而是單純對檔案 CRUD。</p>
<p>你意識到你經歷三種儲存類型：</p>
<ul>
<li>File</li>
<li>Block</li>
<li>Object</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-9-1">Level 9-1<a href="#level-9-1" class="hash-link" aria-label="Direct link to Level 9-1" title="Direct link to Level 9-1">​</a></h2>
<p>在進入分散式存儲後，你發現資料不再是「寫進去就在那裡」。你開始研究 CAP 定理：在網路斷開時，你的系統要選擇「一致性 (Consistency)」還是「可用性 (Availability)」。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>本段落由 Gemini fast 補充。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-10">Level 10<a href="#level-10" class="hash-link" aria-label="Direct link to Level 10" title="Direct link to Level 10">​</a></h2>
<p>你配置了 Ceph 處理了所有分散式儲存的需求，但是你發現你需要在每一個節點維護 Ceph 實例有點麻煩。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="level-11">Level 11<a href="#level-11" class="hash-link" aria-label="Direct link to Level 11" title="Direct link to Level 11">​</a></h2>
<p>你使用了 Rook，現在透過 Kubernetes，不論是應用程式還是儲存都透過它管理，只需要維護並運行 K8s 節點/叢集即可。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="這篇筆記已經放在我的 CodiMD 很久了 (2024-11-02)，想說整理一下發一篇廢文。"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-25_anatomy-foot">解剖學 - 人體骨骼 - 學習筆記 - 足部</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-25T00:00:00.000Z" itemprop="datePublished">February 25, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p>這篇筆記已經放在我的 CodiMD 很久了 (2024-11-02)，想說整理一下發一篇廢文。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>關於我如何獲得模型檔案，請見稍早的文章：<a href="https://flyskypie.github.io/blog/2024-11-04_blender-anatomy/" target="_blank" rel="noopener noreferrer">從 Blender 開始的解剖學筆記 - 骨骼篇 - 啟程</a>。</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_a71W alert alert--warning"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_fKWC"><p>本人非醫學背景，以下不專業筆記如有錯誤歡迎指出。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="腳掌">腳掌<a href="#腳掌" class="hash-link" aria-label="Direct link to 腳掌" title="Direct link to 腳掌">​</a></h2>
<p><img decoding="async" loading="lazy" src="/assets/images/01_Ospied-en-108da50ec7a95cdcedfe44fbfdc6c7e7.svg" width="379" height="395" class="img_RpFt"></p>
<p>腳掌可以分成三個區塊<sup><a href="#user-content-fn-ospied-d23b4f" id="user-content-fnref-ospied-d23b4f" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>：</p>
<ul>
<li>趾骨骨群 (Phalanx)</li>
<li>蹠骨骨群 (Metatarsus)</li>
<li>跗骨骨群 (Tarsus)</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>留意用詞區分了兩種概念：</p><ul>
<li>某個骨群（單數）</li>
<li>某骨頭們（複數）</li>
</ul><p>例如：Tarsus 是指「腳跟那個骨群」和 Tarsals 是指「腳跟那些骨頭」。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="跗骨-tarsals">跗骨 (Tarsals)<a href="#跗骨-tarsals" class="hash-link" aria-label="Direct link to 跗骨 (Tarsals)" title="Direct link to 跗骨 (Tarsals)">​</a></h2>
<p><img decoding="async" loading="lazy" src="/assets/images/02_Tarsus2-91668c81a4c01acdf7ab0a001dbb4582.webp" width="400" height="400" class="img_RpFt"></p>
<p>跗骨 (Tarsals) 則由多個骨頭構成<sup><a href="#user-content-fn-tarsus-d23b4f" id="user-content-fnref-tarsus-d23b4f" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>：</p>
<ul>
<li>A: 跟骨 (Calcaneus)</li>
<li>B: 距骨 (Talus bone)</li>
<li>C: Cuboid bone</li>
<li>D: 足舟骨 (Navicular bone)</li>
<li>E, F, G: 楔形骨 (Cuneiform bones)<!-- -->
<ul>
<li>Medial</li>
<li>Intermediate</li>
<li>Lateral</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="距骨-talus">距骨 (Talus)<a href="#距骨-talus" class="hash-link" aria-label="Direct link to 距骨 (Talus)" title="Direct link to 距骨 (Talus)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/03_Talus-5a041e13926fc23d9cfc7501a4a39770.webp" width="702" height="583" class="img_RpFt"></p>
<blockquote>
<p>&quot;anklebone,&quot; 1690s, from Latin talus &quot;ankle, anklebone, knucklebone&quot; (plural tali), related to or a derivative of Latin taxillus &quot;a small die, cube&quot; (they originally were made from the knucklebones of animals), which is of obscure origin.<sup><a href="#user-content-fn-anklebone-d23b4f" id="user-content-fnref-anklebone-d23b4f" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup></p>
</blockquote>
<p>talus 在拉丁文中 有腳踝之意。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="跟骨-calcaneus">跟骨 (Calcaneus)<a href="#跟骨-calcaneus" class="hash-link" aria-label="Direct link to 跟骨 (Calcaneus)" title="Direct link to 跟骨 (Calcaneus)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/04_Calcaneus-faa0aa47c7c59f5541663d899fd320dd.webp" width="769" height="445" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="足舟骨-navicular-bone">足舟骨 (Navicular Bone)<a href="#足舟骨-navicular-bone" class="hash-link" aria-label="Direct link to 足舟骨 (Navicular Bone)" title="Direct link to 足舟骨 (Navicular Bone)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/05_Navicular-Bone-56139ef8d2218b700703bf047af11a66.webp" width="744" height="485" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="楔形骨-cuneiform">楔形骨 (Cuneiform)<a href="#楔形骨-cuneiform" class="hash-link" aria-label="Direct link to 楔形骨 (Cuneiform)" title="Direct link to 楔形骨 (Cuneiform)">​</a></h3>
<p>楔形骨從腳掌剖面看過去很像三角形的楔子：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/09_Cuneiform-9f6fa7c67686d30c5042608d4f8bb302.webp" width="545" height="441" class="img_RpFt"></p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,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" width="625" height="523" class="img_RpFt"></p>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="medial-cuneiform">Medial Cuneiform<a href="#medial-cuneiform" class="hash-link" aria-label="Direct link to Medial Cuneiform" title="Direct link to Medial Cuneiform">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/06_Medial-Cuneiform-ca618994f9ac8139c7a5f8ed08d36a84.webp" width="736" height="462" class="img_RpFt"></p>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="intermediate-cuneiform">Intermediate Cuneiform<a href="#intermediate-cuneiform" class="hash-link" aria-label="Direct link to Intermediate Cuneiform" title="Direct link to Intermediate Cuneiform">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/07_Intermediate-Cuneiform-150afdc6099e40ded33006c561353df0.webp" width="609" height="632" class="img_RpFt"></p>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="lateral-cuneiform">Lateral Cuneiform<a href="#lateral-cuneiform" class="hash-link" aria-label="Direct link to Lateral Cuneiform" title="Direct link to Lateral Cuneiform">​</a></h4>
<p><img decoding="async" loading="lazy" src="/assets/images/08_Lateral-Cuneiform-6106764f5fe078813998a2f6c0e4ae7c.webp" width="357" height="621" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="骰骨-cuboid-bone">骰骨 (Cuboid Bone)<a href="#骰骨-cuboid-bone" class="hash-link" aria-label="Direct link to 骰骨 (Cuboid Bone)" title="Direct link to 骰骨 (Cuboid Bone)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/31_Cuboid-Bone-ab9870c325b3451e97880ffe621cb2bf.webp" width="630" height="486" class="img_RpFt"></p>
<p>跟其他骨頭比起來，它的確蠻方的：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/32_Cuboid-Bone-50d46738cf6659983aa573aa9e35c839.webp" width="868" height="565" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="蹠骨metatarsus">蹠骨（Metatarsus）<a href="#蹠骨metatarsus" class="hash-link" aria-label="Direct link to 蹠骨（Metatarsus）" title="Direct link to 蹠骨（Metatarsus）">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="metatarsal-1">Metatarsal 1<a href="#metatarsal-1" class="hash-link" aria-label="Direct link to Metatarsal 1" title="Direct link to Metatarsal 1">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/11_Metatarsal-1-c5db7900cdb3476753e13e931f1ad8ff.webp" width="557" height="519" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="metatarsal-2">Metatarsal 2<a href="#metatarsal-2" class="hash-link" aria-label="Direct link to Metatarsal 2" title="Direct link to Metatarsal 2">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/12_Metatarsal-2-3244d474f38e3fef5d5c23599c516eef.webp" width="549" height="522" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="metatarsal-3">Metatarsal 3<a href="#metatarsal-3" class="hash-link" aria-label="Direct link to Metatarsal 3" title="Direct link to Metatarsal 3">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/13_Metatarsal-3-741523421e3a5a682763aa30cb11b6aa.webp" width="637" height="500" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="metatarsal-4">Metatarsal 4<a href="#metatarsal-4" class="hash-link" aria-label="Direct link to Metatarsal 4" title="Direct link to Metatarsal 4">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/14_Metatarsal-4-d9c0df1928101b581d989e1a3f90f965.webp" width="630" height="480" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="metatarsal-5">Metatarsal 5<a href="#metatarsal-5" class="hash-link" aria-label="Direct link to Metatarsal 5" title="Direct link to Metatarsal 5">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/15_Metatarsal-5-d2135ef116922142f3225f0efa804059.webp" width="627" height="474" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="近節趾骨-proximal-phalanx">  近節趾骨 (Proximal phalanx)<a href="#近節趾骨-proximal-phalanx" class="hash-link" aria-label="Direct link to 近節趾骨 (Proximal phalanx)" title="Direct link to 近節趾骨 (Proximal phalanx)">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="proximal-phalange-1">Proximal Phalange 1<a href="#proximal-phalange-1" class="hash-link" aria-label="Direct link to Proximal Phalange 1" title="Direct link to Proximal Phalange 1">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/17_Proximal-Phalange-1-b4fd6f7df74a5a1a19533d7e19197a82.webp" width="593" height="426" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="proximal-phalange-2">Proximal Phalange 2<a href="#proximal-phalange-2" class="hash-link" aria-label="Direct link to Proximal Phalange 2" title="Direct link to Proximal Phalange 2">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/18_Proximal-Phalange-2-e60fb3deee35b5403aa9eab533afc72e.webp" width="611" height="520" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="proximal-phalange-3">Proximal Phalange 3<a href="#proximal-phalange-3" class="hash-link" aria-label="Direct link to Proximal Phalange 3" title="Direct link to Proximal Phalange 3">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/19_Proximal-Phalange-3-cbc423fab1d1a0f63e98590a2534b12e.webp" width="696" height="469" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="proximal-phalange-4">Proximal Phalange 4<a href="#proximal-phalange-4" class="hash-link" aria-label="Direct link to Proximal Phalange 4" title="Direct link to Proximal Phalange 4">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/20_Proximal-Phalange-4-f6b63cf733995e29ac282f2d276c7778.webp" width="675" height="516" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="proximal-phalange-5">Proximal Phalange 5<a href="#proximal-phalange-5" class="hash-link" aria-label="Direct link to Proximal Phalange 5" title="Direct link to Proximal Phalange 5">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/21_Proximal-Phalange-5-56164a87aae82d9fddc4f6044842b3b0.webp" width="675" height="476" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="phalanx">Phalanx<a href="#phalanx" class="hash-link" aria-label="Direct link to Phalanx" title="Direct link to Phalanx">​</a></h3>
<p>有趣的是，英文 Phalanx 有方陣之意，趾骨排列的方式是不是很像方陣呢？</p>
<p><img decoding="async" loading="lazy" src="/assets/images/16_Phalanx-d73fe29bf083e6d70969b60fe9b0dee8.webp" width="736" height="515" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="middle-phalanx-intermediate-phalanx">Middle phalanx (Intermediate phalanx)<a href="#middle-phalanx-intermediate-phalanx" class="hash-link" aria-label="Direct link to Middle phalanx (Intermediate phalanx)" title="Direct link to Middle phalanx (Intermediate phalanx)">​</a></h2>
<p>拇指沒有中節趾骨，手指也是一樣的情況。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="intermediate-phalange-2">Intermediate Phalange 2<a href="#intermediate-phalange-2" class="hash-link" aria-label="Direct link to Intermediate Phalange 2" title="Direct link to Intermediate Phalange 2">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/22_Intermediate-Phalange-2-e08b329172d737ce9590321e1c0fdaf4.webp" width="677" height="424" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="intermediate-phalange-3">Intermediate Phalange 3<a href="#intermediate-phalange-3" class="hash-link" aria-label="Direct link to Intermediate Phalange 3" title="Direct link to Intermediate Phalange 3">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/23_Intermediate-Phalange-3-d6e10762a92eb5ecc691c5eb54f35af1.webp" width="681" height="442" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="intermediate-phalange-4">Intermediate Phalange 4<a href="#intermediate-phalange-4" class="hash-link" aria-label="Direct link to Intermediate Phalange 4" title="Direct link to Intermediate Phalange 4">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/24_Intermediate-Phalange-4-6e17b71d6054cdedf93dcc8af5820ba4.webp" width="687" height="468" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="intermediate-phalange-5">Intermediate Phalange 5<a href="#intermediate-phalange-5" class="hash-link" aria-label="Direct link to Intermediate Phalange 5" title="Direct link to Intermediate Phalange 5">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/25_Intermediate-Phalange-5-ca073641a01ab7ef895c689eeadef619.webp" width="671" height="450" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalanx">Distal phalanx<a href="#distal-phalanx" class="hash-link" aria-label="Direct link to Distal phalanx" title="Direct link to Distal phalanx">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalange-1">Distal Phalange 1<a href="#distal-phalange-1" class="hash-link" aria-label="Direct link to Distal Phalange 1" title="Direct link to Distal Phalange 1">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/26_Distal-Phalange-1-85fb84fe27624182e5f948ae50fe6f5f.webp" width="672" height="493" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalange-2">Distal Phalange 2<a href="#distal-phalange-2" class="hash-link" aria-label="Direct link to Distal Phalange 2" title="Direct link to Distal Phalange 2">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/27_Distal-Phalange-2-88904fd54122c43cc4b00ec5c907c623.webp" width="682" height="450" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalange-3">Distal Phalange 3<a href="#distal-phalange-3" class="hash-link" aria-label="Direct link to Distal Phalange 3" title="Direct link to Distal Phalange 3">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/28_Distal-Phalange-3-d84eed7e8f00b2faa0cb9914a440b4b6.webp" width="681" height="504" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalange-4">Distal Phalange 4<a href="#distal-phalange-4" class="hash-link" aria-label="Direct link to Distal Phalange 4" title="Direct link to Distal Phalange 4">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/29_Distal-Phalange-4-d6e596d4c83ca3b1547ed999b8007633.webp" width="672" height="513" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="distal-phalange-5">Distal Phalange 5<a href="#distal-phalange-5" class="hash-link" aria-label="Direct link to Distal Phalange 5" title="Direct link to Distal Phalange 5">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/30_Distal-Phalange-5-155bbb78a9e0aa5279fdad1c8b5dc3df.webp" width="675" height="462" class="img_RpFt"></p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-ospied-d23b4f">
<p>File<!-- -->:Ospied-en<!-- -->.svg - Wikipedia. Mario modesto. Retrieved 2026-02-25, from <a href="https://en.wikipedia.org/wiki/File:Ospied-en.svg" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/File:Ospied-en.svg</a> <a href="#user-content-fnref-ospied-d23b4f" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-tarsus-d23b4f">
<p>Tarsus (skeleton) - Wikipedia. Retrieved 2024-11-04, from <a href="https://en.wikipedia.org/wiki/Tarsus_(skeleton)" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Tarsus_(skeleton)</a> <a href="#user-content-fnref-tarsus-d23b4f" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-anklebone-d23b4f">
<p>talus | Etymology of talus by etymonline. Retrieved 2024-11-04, from <a href="https://www.etymonline.com/word/talus" target="_blank" rel="noopener noreferrer">https://www.etymonline.com/word/talus</a> <a href="#user-content-fnref-anklebone-d23b4f" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/anatomy">anatomy</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="最近在陸續把服務從運行在一台主機 Docker Swarm 遷移到另外一台主機的 Kubernetes 中，"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-25_homelabe-status">Homelab 遷移近況</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-25T00:00:00.000Z" itemprop="datePublished">February 25, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p><img decoding="async" loading="lazy" src="/assets/images/01_homepage-221ce612a05bede3af5015db92d75f6c.webp" width="1440" height="1098" class="img_RpFt"></p>
<p>最近在陸續把服務從運行在一台主機 Docker Swarm 遷移到另外一台主機的 Kubernetes 中，</p>
<p><img decoding="async" loading="lazy" src="/assets/images/02_monitor-ecdebabba7aff4746511fbb2b457f969.webp" width="1440" height="837" class="img_RpFt"></p>
<p>一直到回老家過年前 (2026-02-15) 已經完成大部分服務的遷移，這裡紀錄一下剩餘的服務以及還沒完成遷移的原因。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="簡單遷移流程">簡單遷移流程<a href="#簡單遷移流程" class="hash-link" aria-label="Direct link to 簡單遷移流程" title="Direct link to 簡單遷移流程">​</a></h2>
<p>因為我使用 Longhorn 作為 Volume Provider，資料並不是直接寫在 host 的檔案系統內的，而是寫在類似虛擬機硬碟映像檔的東西內，</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">$ ll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 14945644</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwx------  2 root root        4096 Feb 20 07:01 ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 22 root root        4096 Feb 24 12:16 ../</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r--  1 root root 21474836480 Feb 25 00:56 volume-head-000.img</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r--  1 root root         126 Jan 24 11:55 volume-head-000.img.meta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r--  1 root root         143 Feb 20 07:01 volume.meta</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>因此不能直接單純的把資料從一個主機的硬碟複製到另外一個主機硬碟，而是需要經過一層 K8s 把資料寫入 Volume 內。目前使用的遷移步驟大致如下。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="1-起草-k8s-yaml">1. 起草 K8s YAML<a href="#1-起草-k8s-yaml" class="hash-link" aria-label="Direct link to 1. 起草 K8s YAML" title="Direct link to 1. 起草 K8s YAML">​</a></h3>
<p>使用 Kompose 將 Docker Swarm 的 YAML 轉換成 K8s 資源，並且進行適當的修飾（例如：有狀態的服務從 Deployment 改成 StatefulSet）。</p>
<p>並且在目標 Pod 掛上臨時的 container，用於提供 PVC 寫入的 runtime，同時先註解掉真正的服務，如下：</p>
<details class="details_kzw7 alert alert--info details_D2hA" data-collapsed="true"><summary>K8s YAML</summary><div><div class="collapsibleContent_UYJG"><div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">updateStrategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RollingUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rollingUpdate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">partition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># - image: docker.io/getpinry/pinry:2.1.13</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   name: pinry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   ports:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#     - containerPort: 80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#       protocol: TCP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   volumeMounts:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#     - mountPath: /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#       name: pinry-data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Used to do data migration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/library/busybox</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sleep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3600&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">restartPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">persistentVolumeClaim</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">claimName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pinry</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="2-確認原始-volume-大小">2. 確認原始 Volume 大小<a href="#2-確認原始-volume-大小" class="hash-link" aria-label="Direct link to 2. 確認原始 Volume 大小" title="Direct link to 2. 確認原始 Volume 大小">​</a></h3>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">du -s -h</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="3-遷移">3. 遷移<a href="#3-遷移" class="hash-link" aria-label="Direct link to 3. 遷移" title="Direct link to 3. 遷移">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="31-直接-cp適用小量遷移">3.1 直接 <code>cp</code>，適用小量遷移<a href="#31-直接-cp適用小量遷移" class="hash-link" aria-label="Direct link to 31-直接-cp適用小量遷移" title="Direct link to 31-直接-cp適用小量遷移">​</a></h4>
<p>先遷移到本地：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">rsync -avh --info=progress2 --info=name0 --delete \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root@arachne-node-beta:/mnt/das-storage/volumes/pinry_data/ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./pinry_data/</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>之後上傳到 Pod：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cp -n pinry-stack ./pinry_data/ pinry-0:/pinry_data</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>移動檔案到 PV 掛載的路徑：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl exec -n pinry-stack --stdin --tty pinry-0 -- /bin/sh</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">cp -rf  /pinry_data/* /data/.</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>需要拆分兩個步驟是因為 <code>kubectl cp</code> 指令只能複製資料夾，不能在兩個資料夾之間直接同步內容。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="32-tar-打包後-cp適用小量遷移">3.2 tar 打包後 <code>cp</code>，適用小量遷移<a href="#32-tar-打包後-cp適用小量遷移" class="hash-link" aria-label="Direct link to 32-tar-打包後-cp適用小量遷移" title="Direct link to 32-tar-打包後-cp適用小量遷移">​</a></h4>
<p>步驟同上，只是多了一個打包/解包的步驟<sup><a href="#user-content-fn-kube-cp-bundle-bd911c" id="user-content-fnref-kube-cp-bundle-bd911c" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain"># 打包壓縮</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -czf gitea.tar.gz &lt;PATH&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解壓縮解包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tar -xzf gitea.tar.gz</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_mpuI" id="33-hostpath適用中量遷移">3.3 <code>hostPath</code>，適用中量遷移<a href="#33-hostpath適用中量遷移" class="hash-link" aria-label="Direct link to 33-hostpath適用中量遷移" title="Direct link to 33-hostpath適用中量遷移">​</a></h4>
<p>上述方法對於容量小的遷移尚可處理，但是我的 ArchiveBox 有 12 GB 的資料，<code>kubectl cp</code> 傳輸過程會遇到以下問題：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">error: unexpected EOF</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>於是我在 Deployment 上加掛一個 <code>hostPath</code> Volume：</p>
<details class="details_kzw7 alert alert--info details_D2hA" data-collapsed="true"><summary>K8s YAML</summary><div><div class="collapsibleContent_UYJG"><div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> StatefulSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">updateStrategy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RollingUpdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">rollingUpdate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">partition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">io.kompose.service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># - name: archivebox</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   image: docker.io/archivebox/archivebox:0.7.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   ports:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#     - containerPort: 8000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#       protocol: TCP</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#   volumeMounts:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#     - mountPath: /data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#       name: archivebox-data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Used to do data migration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/library/busybox</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> busybox</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> sleep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3600&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /archivebox_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tmp</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">archivebox</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">restartPolicy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">persistentVolumeClaim</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">claimName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> archivebox</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Used to do data migration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tmp</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">archivebox</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">hostPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /mnt/archivebox_data</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>先把資料從一台主機移到另外一台主機，再進入容器中把資料從  <code>hostPath</code> Volume 移到 Longhorn 去。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="4-切換-container">4. 切換 container<a href="#4-切換-container" class="hash-link" aria-label="Direct link to 4. 切換 container" title="Direct link to 4. 切換 container">​</a></h3>
<p>將遷移用暫時性的 container 註解並且把真實服務掛回。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="剩餘服務">剩餘服務<a href="#剩餘服務" class="hash-link" aria-label="Direct link to 剩餘服務" title="Direct link to 剩餘服務">​</a></h2>
<p>以下是過年前尚未完成遷移的服務，主要是因為有額外的雜務需要處理，不適用上述簡單遷移方法。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="minio">MinIO<a href="#minio" class="hash-link" aria-label="Direct link to MinIO" title="Direct link to MinIO">​</a></h3>
<p>MinIO 的遷移比較特別，一來是已經停止維護了<sup><a href="#user-content-fn-minio-dead-bd911c" id="user-content-fnref-minio-dead-bd911c" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>，雖然作為封閉的地端使用情況並不需要太過擔心安全性問題， 可以繼續使用已經存在的 OCI (Open Container Initiative) 映像檔，不過依然可能要物色一下其他替代方案。</p>
<p>二來是 MinIO 是一個 S3 (Simple Storage Service) 實例，本身就有 CRUD (Create, read, update and delete) 的 API，因此資料遷移時無須考慮 Volume 層級的問題，只要用 <code>mc</code> 指令同步兩個在不同實例上的 Bucket 即可。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="harbor">Harbor<a href="#harbor" class="hash-link" aria-label="Direct link to Harbor" title="Direct link to Harbor">​</a></h3>
<p>Harbor 本身就有 Helm 可以使用，但是因為我是客製化 <code>docker-compose.yaml</code> 的情況，考慮資料遷移的複雜性可  能不能直接使用 Helm。</p>
<p>加上 Harbor 的微服務結構跟我 selfhosted 的其他服務相比複雜得多，翻譯成 K8s 的過程會比較麻煩。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="jellyfin">Jellyfin<a href="#jellyfin" class="hash-link" aria-label="Direct link to Jellyfin" title="Direct link to Jellyfin">​</a></h3>
<p>資料比較多 (1.3TB)，即便是 <code>hostPath</code> 方案也必須在新的主機上消費兩倍的硬碟空間，因此 <code>hostPath</code> 不適合用來遷移這種規模的資料。</p>
<p>我腦海浮現兩種解決方法，第一個是直接在舊將資料封裝成 SDS (Software-defined storage)，然後在新節點上作為 Volume 掛載後進行資料轉移。</p>
<p>第二個方法是把 Volume 在新節點上掛給一個 SSH 容器，由 SSH 完成資料轉移。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="gitea">Gitea<a href="#gitea" class="hash-link" aria-label="Direct link to Gitea" title="Direct link to Gitea">​</a></h3>
<p>Gitea 因為需要使用 SSH (Git over SSH)，無法透過 Ingress 處理，而必須設定 Load Balancer。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>Ingress 是 L7 的 HTTP 反向代理，SSH 是建立在 L4 的 TCP 連線上，因此需要 L4 的 Gateway （即 Load Balancer） 處理。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="aptcacherng">AptCacherNg<a href="#aptcacherng" class="hash-link" aria-label="Direct link to AptCacherNg" title="Direct link to AptCacherNg">​</a></h3>
<p>AptCacherNg 雖然是使用 HTTP，但是 <code>apt</code> 指令的實做似乎  不會帶上 hostname 之類的資訊，因此服務不能運行在反向代理之後，在 Docker Swarm 的舊節點我是直接找個 port 暴露出去。</p>
<p>在 K8s 則是類似於 Gitea 的情況，必須要用 Load Balancer 額外設定。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="dashy">Dashy<a href="#dashy" class="hash-link" aria-label="Direct link to Dashy" title="Direct link to Dashy">​</a></h3>
<p>Dashy 的運作方式是每次容器啟動時，都會根據配置檔「編譯」一份靜態網站。我有點懷疑在 K8s 這種「容器是經濟動物；隨便新增隨便刪除」的哲學下，這種運作是否恰當，視情況可能需要找其他的 homepage 替代方案。</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-kube-cp-bundle-bd911c">
<p>Remco Kersten - Importing Data into Longhorn. aspberry Pi 5 for 4K Gaming - Jeff Geerling. Retrieved 2026-02-25, from <a href="https://www.remcokersten.nl/posts/import-data-into-longhorn/" target="_blank" rel="noopener noreferrer">https://www.remcokersten.nl/posts/import-data-into-longhorn/</a> <a href="#user-content-fnref-kube-cp-bundle-bd911c" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-minio-dead-bd911c">
<p>MinIO 已死，MinIO 復生 - 知乎. Retrieved 2026-02-25, from <a href="https://zhuanlan.zhihu.com/p/2008215929461445776" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/2008215929461445776</a> <a href="#user-content-fnref-minio-dead-bd911c" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/homelab">homelab</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="在 Homelab 的 S3 中我有幾個 Bucket："><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-25_s3-migration">S3 遷移筆記</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-25T00:00:00.000Z" itemprop="datePublished">February 25, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p><img decoding="async" loading="lazy" src="/assets/images/01_minio-25b88229937db48a8be3ecfd40f0fd3b.webp" width="1400" height="777" class="img_RpFt"></p>
<p>在 Homelab 的 S3 中我有幾個 Bucket：</p>
<p><strong>3D 模型</strong></p>
<p>理想上我是希望有一個「開源自架的 Sketchfab」，來儲存這類檔案，不過目前還沒找到合適的方案因此就先放在 S3 內，具體是哪種檔案呢？例如：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/02_lumine-tpose-34ef3df33e6a6b65ad224161d848a93d.webp" width="3840" height="2160" class="img_RpFt"></p>
<p><strong>素材</strong></p>
<p>跟 3D 模型類似，理想上我是希望有一個「開源自架的 <code>itch.io</code>/<code>opengameart.org</code>」但是因為目前沒有所以先找個地方塞。</p>
<p><strong>資料集</strong></p>
<p>可能跟機器學習有關的資料集，這種資料集通常動輒數 GB，為了節省網路流量，我收錄了幾個有興趣的在 homelab 裡，以備不時之需（例如：<code>COCO dataset val2014</code>、<code>cv-corpus-15.0-2023-09-08</code>...）。</p>
<p><strong>等距長方投影 (Equirectangular)</strong></p>
<p>之前經手過處理 Equirectangular 相關的專案，跟資料集的情況差不多，8K 影片的話動輒數 GB，手邊存幾份樣本方便日後處理類似題目的時候有檔案可以用。</p>
<p><strong>機器學習模型</strong></p>
<p>之前隨手開的 Bucket，目前已經有 Huggingface 的鏡像站 (Olah)了，之後用途可能不大了。或許可以用來儲存那種沒有被上傳到 Huggingface 的野雞模型。</p>
<p><strong>作業系統映像檔</strong></p>
<p>這應該不用解釋吧...？安裝 Linux 的時候手邊存一份備著。</p>
<p><strong>SDK</strong></p>
<p>不少軟體的 SDK 非常的肥大，為了避免日後需要花時間重複下載，手邊備一份。</p>
<p><strong>Windows 應用程式</strong></p>
<p>我開始使用 Linux 以前囤積的軟體。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="遷移過程">遷移過程<a href="#遷移過程" class="hash-link" aria-label="Direct link to 遷移過程" title="Direct link to 遷移過程">​</a></h2>
<p>整個 S3 的遷移過程大致如下：</p>
<ol>
<li>安裝 <a href="https://github.com/minio/mc" target="_blank" rel="noopener noreferrer">mc</a> 指令：</li>
</ol>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">curl https://dl.min.io/client/mc/release/linux-amd64/mc \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --create-dirs \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -o $HOME/.local/bin/mc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x $HOME/.local/bin/mc</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>分別設定新/舊的 S3 實例：</li>
</ol>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">$ mc config host add minio-server http://localhost:9000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter Access Key:               </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter Secret Key: </span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>搬遷檔案：</li>
</ol>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">mc mirror minio-server/3d-models rustfs-server/3d-models</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="rustfs">RustFS<a href="#rustfs" class="hash-link" aria-label="Direct link to RustFS" title="Direct link to RustFS">​</a></h2>
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>程式碼</td><td><a href="https://github.com/rustfs/rustfs" target="_blank" rel="noopener noreferrer">https://github.com/rustfs/rustfs</a></td></tr><tr><td>星數</td><td>22.3k</td></tr></tbody></table>
<p>因為 MinIO 官方不再維護<sup><a href="#user-content-fn-minio-dead-763a76" id="user-content-fnref-minio-dead-763a76" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>，RustFS 是一個倍受推崇的替代方案，於是我便嘗試了一下。</p>
<p>然後遷移過程遇到以下問題：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">mc: &lt;ERROR&gt; Failed to copy `http://s3.minio.arachne/sdk/cuda-repo-ubuntu2204-13-0-local_13.0.1-580.82.07-1_amd64.deb`. Put &quot;http://s3.apps.liquid.arachne/sdk/cuda-repo-ubuntu2204-13-0-local_13.0.1-580.82.07-1_amd64.deb?partNumber=6&amp;uploadId=YzRiMmE0YTgtN2JlOC00ZjY4LTlmZjUtYmVkYzY0NGI4NTg4LjZhNTMzZDU2LWZiZGMtNDk3OS05ZDI5LTY4ZjVhZDllMGNjYngxNzcxOTI2ODgzMDU2MzY3MTc3&quot;: http: ContentLength=16777216 with Body length 14680064</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: &lt;ERROR&gt; Failed to copy `http://s3.minio.arachne/sdk/cuda-repo-ubuntu2204-13-0-local_13.0.1-580.82.07-1_amd64.deb`. Put &quot;http://s3.apps.liquid.arachne/sdk/cuda-repo-ubuntu2204-13-0-local_13.0.1-580.82.07-1_amd64.deb?partNumber=6&amp;uploadId=YzRiMmE0YTgtN2JlOC00ZjY4LTlmZjUtYmVkYzY0NGI4NTg4LmM5MWU3NjMzLTk2ZTYtNDNkYy1iMDg0LWNlYzI5YjgyNzMzZHgxNzcxOTI3MzIwNjk0MjE5MjYy&quot;: http: ContentLength=16777216 with Body length 14680064</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: &lt;ERROR&gt; Unable to list comparison retrying.. context canceled</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>不過我對 CUDA SDK 沒什麼留念，刪除之後剩下的檔案都順利完成遷移了。</p>
<p>接著映入眼簾的是永遠在轉圈圈的 Bucket 大小：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/03_rustfs-4a1d0f2a9da314ff200438610395e78f.webp" width="1400" height="782" class="img_RpFt"></p>
<p>不過還好，這也只是錦上添花的功能，但是 Bucket 的設定頁面也一直在轉圈圈是怎麼回事？</p>
<p><img decoding="async" loading="lazy" src="/assets/images/04_rustfs-09a45c7ec8a1bad6c3d1a9959ccee7c4.webp" width="1400" height="771" class="img_RpFt"></p>
<p>後來近一步調查：</p>
<blockquote>
<p>Be ware of the recent RustFS CVE<sup><a href="#user-content-fn-rustfs-cve-763a76" id="user-content-fnref-rustfs-cve-763a76" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup> because a static key was vibe coded into the product… even though they mitigated the issue, my confidence dropped severely because of this. <sup><a href="#user-content-fn-rustfs-comment-1-763a76" id="user-content-fnref-rustfs-comment-1-763a76" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup></p>
</blockquote>
<blockquote>
<p>This project looks mostly vibecoded, after a quick review I have found a dozen of obvious problems<sup><a href="#user-content-fn-rustfs-comment-2-763a76" id="user-content-fnref-rustfs-comment-2-763a76" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup></p>
</blockquote>
<p>很好，RustFS 的嘗試到此為止，繼續使用 MinIO；推移更新 S3 實作 的計畫。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>我使用的 RustFS 是 <code>docker.io/rustfs/rustfs:1.0.0-alpha.83</code>，供參考。</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>另外我有評估過 <a href="https://git.deuxfleurs.fr/Deuxfleurs/garage" target="_blank" rel="noopener noreferrer">Garage</a>，不過它有兩個問題：</p><ul>
<li>設定稍微複雜一點，它需要設定 domain name，似乎難以在單純的環境 (localhost) 中測試。</li>
<li>不像 MinIO 有開箱即用 Web UI。</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="minio">MinIO<a href="#minio" class="hash-link" aria-label="Direct link to MinIO" title="Direct link to MinIO">​</a></h2>
<p>不幸的是即便我使用 <code>mc</code> 進行 MinIO 到 MinIO 的遷移依然遇到諸如以下的錯誤：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">mc: &lt;ERROR&gt; Failed to copy `http://s3.minio.arachne/os-image/lubuntu-24.04.4-desktop-amd64.iso`. You did not provide the number of bytes specified by the Content-Length HTTP header.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc: &lt;ERROR&gt; Failed to copy `http://s3.minio.arachne/os-image/2018-11-13-raspbian-stretch-full.img`. Resource requested is unreadable, please reduce your request rate</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>最後是使用 <a href="https://github.com/rclone/rclone" target="_blank" rel="noopener noreferrer">Rclone</a> 解決。</p>
<p><img decoding="async" loading="lazy" src="/assets/images/05_rclone-8cff7a9c7f992e11e6de399292c6a53a.webp" width="1400" height="900" class="img_RpFt"></p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-minio-dead-763a76">
<p>MinIO 已死，MinIO 復生 - 知乎. Retrieved 2026-02-25, from <a href="https://zhuanlan.zhihu.com/p/2008215929461445776" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/2008215929461445776</a> <a href="#user-content-fnref-minio-dead-763a76" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-rustfs-cve-763a76">
<p>Update your RustFS immediately - Hardcoded token with privileged access (CVE-2025-68926) : r/selfhosted. Retrieved 2026-02-25, from <a href="https://www.reddit.com/r/selfhosted/comments/1q432iz/update_your_rustfs_immediately_hardcoded_token/" target="_blank" rel="noopener noreferrer">https://www.reddit.com/r/selfhosted/comments/1q432iz/update_your_rustfs_immediately_hardcoded_token/</a> <a href="#user-content-fnref-rustfs-cve-763a76" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-rustfs-comment-1-763a76">
<p>What is the Best MiniO Alternative Right Now, RustFS, Garage or SeaweedFS ? : r/selfhosted. Retrieved 2026-02-25, from <a href="https://www.reddit.com/r/selfhosted/comments/1qcm5r5/comment/nzjbtcc/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" target="_blank" rel="noopener noreferrer">https://www.reddit.com/r/selfhosted/comments/1qcm5r5/comment/nzjbtcc/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button</a> <a href="#user-content-fnref-rustfs-comment-1-763a76" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-rustfs-comment-2-763a76">
<p>What is the Best MiniO Alternative Right Now, RustFS, Garage or SeaweedFS ? : r/selfhosted. Retrieved 2026-02-25, from <a href="https://www.reddit.com/r/selfhosted/comments/1qcm5r5/comment/nzo0ez8/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" target="_blank" rel="noopener noreferrer">https://www.reddit.com/r/selfhosted/comments/1qcm5r5/comment/nzo0ez8/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button</a> <a href="#user-content-fnref-rustfs-comment-2-763a76" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/homelab">homelab</a></li><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/s-3">S3</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="家庭、公司、政府...是常見構成國家的「最小協作單元」，當政府要買東西的時，往往受到預算法、採購法...等等法律的約制，以及制度構成的嚴謹紀錄；公司（大型企業）要買東西時的情況也差不多，受到內部的採購制度約束，以及透過 ERP、POS 等資通訊系統追蹤。"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-23_superman">不對稱的紀律</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-23T00:00:00.000Z" itemprop="datePublished">February 23, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p>家庭、公司、政府...是常見構成國家的「最小協作單元」，當政府要  買東西的時，往往受到預算法、採購法...等等法律的約制，以及制度構成的嚴謹紀錄；公司（大型企業）要買東西時的情況也差不多，受到內部的採購制度約束，以及透過 ERP、POS 等資通訊系統追蹤。</p>
<p>家庭或個人在「消費行為」這件事情上相較之下就顯得缺乏紀律，可能隨意購買路邊攤的小吃、短期承租店面的「出清小店」，缺乏審計制度。如果買了一個不合用的拖把，可能也不會特意去紀錄品牌跟製造商，避免下一次再購買它。換言之，企業會極力的紀錄、分析消費者，但是消費者往往不會追蹤企業的供應鍊、仔細比對不同廠商之間的差異。</p>
<p>這種不對稱性使得自然人在面對巨靈時，往往處於弱勢的地位。</p>
<hr>
<p>「舉證之所在，敗訴之所在」是一句法律圈的俗語，這點出了一個奇怪的現象，法律似乎假設了一種「超人」的存在，這個超人無所不知（不會出現記憶模糊）、無所不能（總是有證據），政府或企業透過嚴謹的制度與完善的基礎建設，能夠調閱報表、單據、POS、ERP 紀錄...作為證據，使其代表的法人能夠無限逼近這個「超人」，反觀憑感覺生活的家庭或個人在法律活動中往往處於弱勢。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/philosophy">Philosophy</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="背景知識"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-02-04_homelab-hardware-strategy">仰望群星 (Satellites) - 我的 Homelab 戰略</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-02-04T00:00:00.000Z" itemprop="datePublished">February 4, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="背景知識">背景知識<a href="#背景知識" class="hash-link" aria-label="Direct link to 背景知識" title="Direct link to 背景知識">​</a></h2>
<p>要明白我要表達什麼，需要具備一些先驗知識，包含：Dyason Swarm, Starlink 和 樹莓派叢集，我會先做一些簡單的解釋幫對這方面概念比較缺乏的讀者能夠搭上我的思路。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="戴森雲-dyason-swarm">戴森雲 (Dyason Swarm)<a href="#戴森雲-dyason-swarm" class="hash-link" aria-label="Direct link to 戴森雲 (Dyason Swarm)" title="Direct link to 戴森雲 (Dyason Swarm)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/01_dyson-swarm-13314a5dd3246851dcf0ccb807eab7a4.webp" width="1628" height="1152" class="img_RpFt"></p>
<p>戴森雲是一種科幻構想，簡單來說就是：</p>
<blockquote>
<p>用大量的人造衛星圍繞並運行在太陽附近來採集太陽能源。</p>
</blockquote>
<p>更具體的介紹可以觀看 Kurzgesagt 的影片，我就不在這邊細談了：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pP44EPBMb8A?si=82rJJfioS3e55D4W" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>Kurzgesagt 的影片算是高度簡化版本，例如有人指出「把人造衛星降到靠近太陽的軌道這件事本身就需要消費不少能源」<sup><a href="#user-content-fn-dyson-swarm-criticism-f2f00d" id="user-content-fnref-dyson-swarm-criticism-f2f00d" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>。</p></div></div>
<p>然後我的立場是：</p>
<blockquote>
<p>太酷了！我想蓋！</p>
</blockquote>
<p>不過我看完 Kurzgesagt 的第一個想法是，它一定需要有一個資料中心來遙測與控制這麼多的衛星。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="星鏈-starlink">星鏈 (Starlink)<a href="#星鏈-starlink" class="hash-link" aria-label="Direct link to 星鏈 (Starlink)" title="Direct link to 星鏈 (Starlink)">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/02_starlink-30bccc5ca1ecce97f0ad604c01dd429b.webp" width="640" height="789" class="img_RpFt"></p>
<p>星鏈是由接近一萬顆人造衛星構成的網路系統，讓消費者不用透過海底電纜就能使用高速的無線網路。尤其適合有線網路基礎設施不夠發達的國家，其他使用情境包含空運、海運等位於海洋中間或在深山之類缺乏基地台地方。</p>
<p>請特別留意 Starlink 佈署時堆疊在火箭內的樣子：</p>
<p><img decoding="async" loading="lazy" alt="https://www.space.com/spacex-starlink-falcon-9-rocket-fairing-video" src="/assets/images/04_starlink-5e2ef1ff6c17b9e5c7541072b6feb929.webp" width="970" height="546" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="樹莓派叢集">樹莓派叢集<a href="#樹莓派叢集" class="hash-link" aria-label="Direct link to 樹莓派叢集" title="Direct link to 樹莓派叢集">​</a></h3>
<p>樹莓派 (Raspberry Pi) 是原先出於教育目的而被設計出來的單板電腦，它就像一個手長大小的電路板，卻具備電腦的完整功能。</p>
<p>預留腳位的設計讓它能夠作為開發板被客製化裝上各種感測器或擴充電路。其中一個例子是把它跟獨立顯示卡裝在一起<sup><a href="#user-content-fn-pi-dgpu-f2f00d" id="user-content-fnref-pi-dgpu-f2f00d" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/05_amdgpu-rx-460-plugged-into-raspberry-pi-5-0432dd3fd4f5e8bace14c34d28be9b28.webp" width="1400" height="933" class="img_RpFt"></p>
<p>樹莓派叢集則是將多個樹莓派透過網路線連接在一起構成一個運算叢集：</p>
<p><img decoding="async" loading="lazy" alt="https://dev.to/fredinono/from-nas-to-kubernetes-setting-up-a-raspberry-pi-cluster-with-synology-nas-57f4" src="/assets/images/03_raspberry-pi-cluster-6ec5dca3af6289143463f47809a2872c.webp" width="1000" height="420" class="img_RpFt"></p>
<p>是不是跟堆疊的衛星有幾分神似？</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="現實">現實<a href="#現實" class="hash-link" aria-label="Direct link to 現實" title="Direct link to 現實">​</a></h2>
<p>現在讓我把眼光從戴森雲、星鏈拉回我那 4.3 坪的租屋處，身處於寸土寸金的大台北，五年網頁前端開發經驗，混雜一些 3D、後端、Docker...的經驗。</p>
<p>這是我手上有的牌，接下來我該如何玩這個名為現實的遊戲呢？</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Direct link to Kubernetes" title="Direct link to Kubernetes">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/06_containers-c2a5c23b9afb5acf1f3dfa5149182da6.webp" width="1536" height="1024" class="img_RpFt"></p>
<blockquote>
<p>操作著數以百計的容器</p>
</blockquote>
<p>閱讀 K8s (Kubernetes) 相關的文章很常會看到類似的描述。</p>
<blockquote>
<p>「它一定需要有一個資料中心來遙測與控制這麼多的衛星」</p>
</blockquote>
<p>它跟 Dyason Swarm 的影子在我面前重疊，「Dyason Swarm 的科技樹上必然有 K8s 的存在」我如此確信。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="longhorn">Longhorn<a href="#longhorn" class="hash-link" aria-label="Direct link to Longhorn" title="Direct link to Longhorn">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/07_how-longhorn-works-ce2d8662288fcfd69a7a58148d703030.svg" width="1366" height="820" class="img_RpFt"></p>
<p><a href="https://github.com/longhorn/longhorn" target="_blank" rel="noopener noreferrer">Longhorn</a> 是基於 K8s 的分散式儲存，它可以和 K8s 以類似共生的關係運作在一起：透過 K8s 的叢集架構 Longhorn 可以運作在每一個節點上實現多節點冗餘，而當 K8s 內佈署的服務請求儲存區 (Persistent Volumes) 時，則由 Longhorn 直接向應用程式提供儲存空間。</p>
<p>因此一顆硬碟只要掛上一個堪用的電腦（比如一塊樹莓派），丟進 K8s 內就能讓它成為儲存資源池的一部分，多餘的運算能力則可以「順便」運行一些服務分攤叢集的負載。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="基於筆電的-k8s-叢集">基於筆電的 K8s 叢集<a href="#基於筆電的-k8s-叢集" class="hash-link" aria-label="Direct link to 基於筆電的 K8s 叢集" title="Direct link to 基於筆電的 K8s 叢集">​</a></h3>
<p>筆電有一些工程特性是一般桌機以及伺服器運算不會考量的：省電，即能源效率以及體積和輕量化，為了方便攜帶，可靠性也不會做得太脆弱。我認為這在台灣這種地狹人綢以及寸土寸金的都市中是十分重要的因素，我最為租屋族不太可能負擔得起充足的空間建設伺服器機櫃，遷移的頻率也遠比居住在大陸上的歐美人士來得高。</p>
<p>並且根據我的主觀體驗，很容易低成本獲得二手筆電，加上 K8s 和 Longhorn 的架構下，數個無須十分強大的節點就能提供儲存冗餘，從而解決基於筆電的設備無法使用硬碟陣列卡的問題；又或是避免管理軟體陣列帶來額外的麻煩，只要是能夠安裝並運行 K8s 節點的設備都能對這個叢集進行水平拓展。拓展叢集的關鍵零件，交換器本身又不會太昂貴。</p>
<p>筆電或是單板電腦的尺寸較小，比起機架伺服器或是一般的桌機來得更有空間彈性，必要時甚至可以把叢集拆成數個不同大小的單元分散在空間之中。</p>
<p>當然，要把二手筆電當作一個儲存節點，可能需要透過 USB 外掛硬碟，二手筆電低階的 CPU、低階的 USB 埠口、低階的乙太網路埠口都會成為系統的瓶頸。不過這種事情等遇到再說吧，瓶頸就是用來感受的，畢竟我都經歷過直接把 OS 灌在 DAS (Direct-attached storage) 外部儲存、最後 I/O await 高到會讓 Docker 不穩定才把系統裝回 SSD 了。</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-dyson-swarm-criticism-f2f00d">
<p>The Dyson Swarm – A Personal Perspective - JMORE. Retrieved 2026-02-04, from <a href="https://jmoreliving.com/2020/06/08/the-dyson-swarm-a-personal-perspective/" target="_blank" rel="noopener noreferrer">https://jmoreliving.com/2020/06/08/the-dyson-swarm-a-personal-perspective/</a> <a href="#user-content-fnref-dyson-swarm-criticism-f2f00d" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-pi-dgpu-f2f00d">
<p>Use an External GPU on Raspberry Pi 5 for 4K Gaming - Jeff Geerling. Retrieved 2026-02-04, from <a href="https://www.jeffgeerling.com/blog/2024/use-external-gpu-on-raspberry-pi-5-4k-gaming/" target="_blank" rel="noopener noreferrer">https://www.jeffgeerling.com/blog/2024/use-external-gpu-on-raspberry-pi-5-4k-gaming/</a> <a href="#user-content-fnref-pi-dgpu-f2f00d" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/homelab">homelab</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="G 胖"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-01-29_evil-of-financial">股東 x 金融性產品 x 資本主義</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-01-29T00:00:00.000Z" itemprop="datePublished">January 29, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="g-胖">G 胖<a href="#g-胖" class="hash-link" aria-label="Direct link to G 胖" title="Direct link to G 胖">​</a></h2>
<p>G 胖 (Gabe Newell) 並且是 Valve 公司的擁有者，Valve 則是 Steam 這個最大的遊戲平台背後的開發與維護者。G 胖在玩家圈中有著很高的聲望，這裡挑幾個論點或例子。</p>
<p>G 胖曾經表達他對於盜版遊戲的看法：盜版源自於缺乏服務，玩家都會花錢買電腦，他們不會單純為了省那一點遊戲的錢而刻意去使用盜版軟體，盜版通常猖獗在遊戲軟體的服務觸及不到的地區，你只要把服務做好，盜版就會自然消失。那些針對盜版機制努力的公司根本搞錯重點，他們這樣做反而在降低玩家的消費體驗。</p>
<p>G 胖稱呼玩家為客戶 (Our Client) 而不是消費者 (Consumer)。</p>
<p>Valve 不是上市公司的特性，讓它能夠在 G 胖的領導下真正提高產品的品質，而無須迎合股東。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="資本主義下的王者">資本主義下的王者<a href="#資本主義下的王者" class="hash-link" aria-label="Direct link to 資本主義下的王者" title="Direct link to 資本主義下的王者">​</a></h2>
<p>關於上市公司與私人公司的比較我認為是一個很有趣的切入點，這也是很多人詬病的問題。在股份公司的架構下，權力集中在董事會上，但是股東通常不具備公司業務相關的知識背景，只是單純的出資者，並且要求金錢收益作為回報。結果就是造成「外行人領導內行人」的問題，經常讓公司推出一些「理論上有利於股東，但是不利於消費者」的策略。</p>
<p>反之，Valve 與 G 胖之間的關係是私人公司與唯一的資本持有者，G 胖本身又是具有遊戲相關背景的人，因此公司前進的方向通常是為了解決玩家（即消費者）的問題，而不是為了迎合股東的利益。</p>
<p>有趣的是，從權力結構上去觀察兩者，董事會反而是有分權的體系，私人公司則是完全獨裁的體系，G 胖的例子剛好成為「民主優於獨裁」的反向案例。不過有一點概念的人都知道，民主並沒有比獨裁才好，只是多了一些分散風險的機制，避免昏君帶領群體走向毀滅，而 G 胖剛好是「獨裁體制下的明君」。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="權利與義務的失衡">權利與義務的失衡<a href="#權利與義務的失衡" class="hash-link" aria-label="Direct link to 權利與義務的失衡" title="Direct link to 權利與義務的失衡">​</a></h2>
<p>一個權利背後往往伴隨著對應的義務，這是社會契約運作的基本原理。上市公司的結構反而呈現微妙的權責分配方式：股東有獲得公司收益的權利，卻沒有理解公司業務邏輯的義務。</p>
<p>我認為這個權利義務的不對稱、失衡正是造成上市公司在資本主義的遊戲規則下變成一種罪惡之源的根本性原因。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="巨靈尺度下的集體惡意">巨靈尺度下的集體惡意<a href="#巨靈尺度下的集體惡意" class="hash-link" aria-label="Direct link to 巨靈尺度下的集體惡意" title="Direct link to 巨靈尺度下的集體惡意">​</a></h2>
<p>霍布斯的巨靈論主要是一個論述透過匯集人民的權利義務到君主身上而構成君權合理性的理論，一個建立在人本上君權理論；而不是基於神學的君權神授。</p>
<p>我認為巨靈論可以描述一種集體惡意的狀態，例如：第一世界的公民購買巧克力這件事本身是非常中性的消費行為，但是無數的消費行為累積在巨靈尺 度很有可能變成壓榨第三世界巧克力勞工的一種集體惡意，就像是一個第一世界巨靈在欺壓另外一個第三世界巨靈。</p>
<p>當我們用相同的概念來看帶「買股票、買基金」這種購買金融性產品的行為，會發現它在巨靈尺度同樣構成了一種惡意：無數人持有獲利的權利卻沒有理解基本底層邏輯（公司業務邏輯）的義務，其結果就是資本的代理人往往會做出很多傷害終端消費者的決策，完全有違資本運作最原始的目的：一個人幫助另外一個人，並用金錢衡量這個幫助。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/philosophy">Philosophy</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="前情提要"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-01-25_dequadtree-puzzle-game">一種有限像素影像辨識謎題</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-01-25T00:00:00.000Z" itemprop="datePublished">January 25, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,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" width="1024" height="1024" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="前情提要">前情提要<a href="#前情提要" class="hash-link" aria-label="Direct link to 前情提要" title="Direct link to 前情提要">​</a></h2>
<p>前一陣子和人聊天，剛好提到了一個我六年前 (2020) 寫的一個小玩具，我似乎沒有把跟它相關的想法寫下來，於是試著在這邊文章做個整理。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="有限像素影像辨識謎題">有限像素影像辨識謎題<a href="#有限像素影像辨識謎題" class="hash-link" aria-label="Direct link to 有限像素影像辨識謎題" title="Direct link to 有限像素影像辨識謎題">​</a></h2>
<p>謎題規則如下：</p>
<ul>
<li>謎題本身為一張點陣圖</li>
<li>初始狀態為 1 pixel</li>
<li>點擊一次 1 pixel 會被切割成四等分</li>
<li>換句話說每點一次（探勘）就會多揭露 3px 的資訊</li>
<li>玩家必須用最少的探勘次數獲得的「馬賽克圖像」辨識出謎題</li>
</ul>
<p>舉例來說，這是初始狀態：</p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,UklGRs4FAABXRUJQVlA4IMIFAAAwnwCdASrSAkcDPpFIoUylpKMiIVfIULASCWlu4XdhG0AdmhEQoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoVCoU7OLCRS54LniBQZBc8QKDILniBQZBc8QJ/8HRBc8QKDILniBQZBc8QKDILniBQW3ym1FBkFzxAoMgueIFBkFzxAoMguc1MRiZi9kE8zMXsgnmZi9kE8zMXsgmrkQYmYvZBPMzF7IJ5mYvZBPMzF7IJq3X8r2QTzMxeyCeZmL2QTzMxeyCeZcjpxBc8QKDILniBQZBc8QKDILniBQW4BqxMxeyCeZmL2QTzMxeyCeZmL2QTVuv5XsgnmZi9kE8zMXsgnmZi9kE8y5HTiC54gUGQXPECgyC54gUGQXPECgtwDViZi9kE8zMXsgnmZi9kE8zMXsgmrdfyvZBPMzF7IJ5mYvZBPMzF7IJ5lyOnEFzxAoMgueIFBkFzxAoMgueIFBbgGrEzF7IJ5mYvZBPMzF7IJ5mYvZBNW6/leyCeZmL2QTzMxeyCeZmL2QTzLkdOILniBQZBc8QKDILniBQZBc8QKC3ANWJmL2QTzMxeyCeZmL2QTzMxeyCat1/K9kE8zMXsgnmZi9kE8zMXsgnmXI6cQXPECgyC54gUGQXPECgyC54gUFuAasTMXsgnmZi9kE8zMXsgnmZi9kE1br+V7IJ5mYvZBPMzF7IJ5mYvZBPMuR04gueIFBkFzxAoMgueIFBkFzxAoLcA1YmYvZBPMzF7IJ5mYvZBPMzF7IJq3X8r2QTzMxeyCeZmL2QTzMxeyCeZcjpxBc8QKDILniBQZBc8QKDILniBQW4BqxMxeyCeZmL2QTzMxeyCeZmL2QTVuv5XsgnmZi9kE8zMXsgnmZi9kE8y5HTiC54gUGQXPECgyC54gUGQXPECgtwDViZi9kE8zMXsgnmZi9kE8zMXsgmrdfyvZBPMzF7IJ5mYvZBPMzF7IJ5lyOnEFzxAoMgueIFBkFzxAoMgueIFBbgGrEzF7IJ5mYvZBPMzF7IJ5mYvZBNW6/leyCeZmL2QTzMxeyCeZmL2QTzLkdOILniBQZBc8QKDILniBQZBc8QKC3ANWJmL2QTzMxeyCeZmL2QTzMxeyCat1/K9kE8zMXsgnmZi9kE8zMXsgnmXI6cQXPECgyC54gUGQXPECgyC54gUFuAasTMXsgnmZi9kE8zMXsgnmZi9kE1br+V7IJ5mYvZBPMzF7IJ5mYvZBPMuR04gueIFBkFzxAoMgueIFBkFzxAoLcA1YmYvZBPMzF7IJ5mYvZBPMzF7IJq3X8r2QTzMxeyCeZmL2QTzMxeyCeZcjpxBc8QKDILniBQZBc8QKDILniBQW4BqxMxeyCeZmL2QTzMxeyCeZmL2QTVuv5XsgnmZi9kE8zMXsgnmZi9kE8y5HTiC54gUGQXPECgyC54gUGQXPECgtwDViZi9kE8zMXsgnmZi9kE8zMXsgmrdfyvZBPMzF7IJ5mYvZBPMzF7IJ5lyOnEFzxAoMgueIFBkFzxAoMgueIFBbgGrEzF7IJ5mYvZBPMzF7IJ5mYvZBNW6/leyCeZmL2QTzMxeyCeZmL2QTzLkdBHD+soxlsWrAkbYtWBI2xasCRti1YEjbFqwJG2LVgSNsWrAkbYtWBI2xasCRti1YEjbFqwJG2LVgSNsWrAkbYtWBI2xGRJAAAAP70qjz0gec3hNBfoPjK703rvAB+bBUBTGOj+LYjqqu8ADrp0FB1nuFDKCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCCi1AAQQUWoACCM5W3rLcrVof6yG+nvChXuCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwWCwUzkVQYkWovgA" width="722" height="839" class="img_RpFt"></p>
<p>這是第一次點擊：</p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,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" width="722" height="839" class="img_RpFt"></p>
<p>這是點擊了 55 次之後：</p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,UklGRr4jAABXRUJQVlA4ILIjAAAQZgGdASrSAkcDPpFGnUk/ryYhKhcZi/ASCU3e/QEGHsPge/5yAbZIYHMP+Z+qPjqyLzqenIdr5q/O+XT8P+3ef3/if83+/f2v41f5/0lf7D4pPv8/sX/e9Sf8l/vX6u+8p/u/1494H9z9QD+tf3b1r/WL/rXqM/wz+r+tj/3f3H+JL/Af9j90vho/bT//6075c/5XrK+l8DDt6Yd59+ez+K8K5dENNlNycueqeXFLwmXdMU6gSqPQqFQqFQnu7i34jweDwbrB0xiGT0uKw+HrBR9lxMoGIMzFVwfKZ/4ioqhxhxoaEOGOkXsiLVeprPVH9FuORyORxfKLCxDO0AWgbgEec9PMyRmWDkyoDfx7XvAW8T1VGM52gBtLPGmBnmWe7noszBkksIG6LHqhTT8VMFHx0zx1aENl6dEZloG4OY+Tg8jHo+DPQS+Dx9wDsdIbcMHX9FwIrMytQuB0YTsPGh5RsVTP2rQhsvTojMtA3BzHycHkY9HeDb5q2W5VLGhR4G1d4JoFt+TrJzMvsCAYObQhoxtzcjcJU8sHKI7GdRJ1rgQKrdVU2rNAG3vvcwc2hDZQt44ZxLdwZ4A/7Rmqv5Mw600/fpFAutU/UVVdhICN/GRbf9nwnocRnChJf1/vYNyIkKNTIXwM1ghHG8nKFUuGrsoYT1A1Fg+bQhs9LQhSP6DEWhDOzPIueP7zifzrp0wabLcMp0tXn8CzLPQHqqjhQDi0IBgETHQcweofcHvdIaYtbhjJImsbNDTpKV4ngoDBzY0zUdAKqzP/Q+h9N/wa+3p0pQdYR2U8XV0cCM8IDZzVP5WL4ROOZF5A8Weq9hYDB038Zs4xhPIFeJ4KAwc2NM1HQCqsz/1krhdqVafyQU78UYTU2E+wGhEu04IwOC/qdlUWGBugARYttRwoBzFbcwbe6A+bFqSfQpadHBrpg40kbooxZ9qOtXbN6DA7r5q9CBtsZ2gC0Db+boQ0YZkxPDAV9zFBeWUHP4AFu9oJE2Y/C2/JhuBQ8M8Hg8Hg8Hg8Hg8DwfFgBv0sW6b8nfnCarCj5p+A78rtmjNMJUldj2ogSYB/8KV6MPw0/b0RESZJkyHJb9px7CQe7uT4uJ94jayvypWkugTd6JcNUeDT3ujAzzLQLTrQ2R6Kjx/q5Vw8AkAa217hJXofhHmmhqOpImahgMHNoQNz6ivefR8HqeN2yG0WaF24AUH1ZJCth4ObI/d6MDPMtAoQ1GExGVM8irTQeW5stv6F4/yKI071VgBygghwgvI9PdqCXAXQbyTxje6mXhMCtxZj8YYmMK9Gl5Fs5HJUJ/PcYA5EeDUeJYzmWv6s55jaWeNMDPMs93NMs/HJ5yc2kgTC4/SO/oHhMcjRFmyvENJ7Au9y6NFpNPTAXiFuAwc2gSQscPxyecnNRTRgeNRGSkcrQjBmtkyN5fqU4asMSJJMV1WceDMdj6h91reFkWkhMTWNr8nJEzUMBg5tB/IsKtRhnE8xsVbrFEGDvMlDmQejiA11nMe4dH9akCAv2LhRhcCXISbyDM3n8xEpbcwsu1kUd+tE3EK80VtvBqJl23rX3qYQ8dnGeDweDwYPZNR1NAFnnGtvc/AJcLkZCQVQBFg6kuQ8f4g393ehEAr37YaDbXfu6IzLQNwcweodOom1a5kpldiWT7o1V8ImjG1VKuYKLi3UEFMkw2o/NJ3CboN5TOtugacvX2TGTzUdOGzMIu5g5tCGyhb/wJeBV7ehKnLFUPwRnsvEX1ju5DNb/5RfgldYkNJdXq8jvewGJHvFVLvfz+eZ7iWtX9ZwUIqY4fcbcl03CWdC8+lZ8Kvh/juJ+o4DuYg8y0DcGuLzaPpoV03ojYgAqy4xWJHZiQPC5lHom23qp55gDoUvjpzTRvRERa3c/KRbMJw7HmS3y13XTATPT3J8Xc/0Te2ozZvDM8y0Db+boH4YixaRQwnLlrXDO145CU3a7nQhoxCIL4Qjwp7fmg3fVhvT24ohR5U2pH+NJITIta5g3tE0HmWgbg2FsUltsJ0rjp4Mgi/cKpBKFbD11WaxjrSmMkppqM0AJTwb0h+OPB4PBDEauuDPMXOjMopfyk6JnZi6zb975zQZcQKtVIVbSIsUlxJsxrRdQfRy/5Vdwge/77HiJOhVY0TkdF08x8gTNCCytXdooVo02nhQRDWCXAeXxJGPnqZrQrB4PB4MHsmo7VM9FnkD7uR2vwkxk81GtvmNmT4PfZK8+DQD3NtRv7fe5g2+Y8ywcmBjeFWrzHYJBeSBOe/HPg01Gw+bJAngn5NLUNC07MaXqWXX8aIllffhQbJBz3vAC8GwC30SB5TN2RwJSnfNqRgLPBeg/SUDZ7lVRYbImkdzvoShCRXnMhM9WyGlrfltWSAsHJiemAvELb8nZjS9wJ9h/4ldHwdsLDY9XarLV6GOoXGajoB1zaBIkHAZsyhobLddTR8Fw9kQBrcnhHmmhduABbvazZermDmPbUkQXBY7Y/3ogkHy9s4iVSqVMycMZgXYPkOOJuPx/1W+QwZCz+ckuWSPTdZKHmvvGpqyUP8+LAIdoy6qN7GWeGwOFGHEa2Sd0uKULdOeD8u+wMKw2GwyI36Jdr90C7CPgiIM5pPTMFnR5/zGigKKdhyleqDr/+/CjuH8QMb5CDz2/J+oyc6OgaOiGJiO1oDDqPlNy1XHDFB6E3chiCmbMqeWe7mrQbTUur0EzSX82wwZgUzzbhlxcZJNizzjtQ0LTrJzMvsCWfQDrm0AS/LQXEzm4lB1fNrKi9H5lEs1PSzXfD4W32FtoQ0Y21G/t974Z8KzQBrHdHWFxPs6cPF+/ffS1C5moYwafy1RDdLPCZJSr+1qY4M+/xu8cOxoJtgNK0q7mIAVuT3NkgTwT8mlqnlg5MT0wHW3/SaUXRt6KE8MOfYFjGLHzWRh8Y5nZ+aGfBzHyQFnu17dHmPkgLPdzStcawva+OLz6vGGSMWhAL+b02J5A6DmyPk9RtuR10k/fpUJqYmvXVOLMT2bh/ntaWEHhNgLp2S14u/zg4t7LrHynQr6U0qRIKUSFs/mOdq9/+Kn7OwZcmWKLQxzwCtNP36U36WdDv6QI//mFGhw8xPB6/JW6eSkcmpa7mDYW3VVMXYAxkLaLDfxnGxoAwPRgWDttCBufyrAYhh0AK2+Gf/N5afYQ2d6UjxzTNAMD1+39zHmWDkxPTAXiJ2xCS6/Jx9SiASAuq/6Aj4Is1HQX5/5gnyl/K2ZYtRXoEkLcBQrNAG3vvfGBlMPrQArcnuYO6XgP09WmSaLBoAS0mnkDoObJAngn5NLVQcs/OD8BLd7WZ2OO+eSdZoPMsWor0CSFuAoVmgDb2Lt7BNHRflDlvLDyvSZfjomvyhNBgxAnPS1zjaOQqpAma7/t+Y2sOXd18kAmOH3glweORyOLlwXJKpcNXXtPYiJXWv8jFmJ9RU0N+Qxoq6NClqF6bkjPJbe7cOPcbjoS/GJ86ToSV+X1izJXoWOBvT5sjDn7hmtyzL9TLeuGS0ZYsB1iRm7bORlFyDzG3414JCH1n7Uy3MGwtjCeQOg5g9dWTlEmo6lESHrYsMcH4CW7LCwcCB82NM1HUkVqAUWtcwb2s0Ab2ejvgY7mr0IAXX5MBeIW32FggCwcmJ4jgQtv3xPBP3uEog87dFp6WhE2Y2lnjS9wLFmy9XMGwuM1HRWmJ6ZV0svcZTsxpe4FizRiGHQArb4aABHnPFoZ8HMy3MHMypShIzmGyrsoUIs05I0P1TizE9n1XP7eiXDTfwG1fC7xWHw9WfvjvCtHGeYp2zrW94cp+v2nLctajweDwdjplVQjlQqFQqFNBR1GAD+2HBrckG0HoDG65hjA53puY42Qq/8eM4isZ/K2VEykIh5ozDLdJuI2PatGfF9vUsrDhYaes8hvwbCA8/7nA31UXixFDRI8huF2PbD6uDFwYA0+nmxT3A30+4oYai/yKXDGEsBcHSypRiyRiADalkkBgHZX5o0FEDkUTLDnKAuD0KzFkD5PBY4TK5kmveW/HXSJbpkNbAoeO4TcSyleqS2LVneQ7uUpYmuPwMrKB58qnoyT5k99tMj7PG4NLgML158hCz/X8gKqhG6DzKM0fWKhzZt+df67MUj+ZmYveU/mbHWZTOY/64BsqRRoS0TJ0ECY7G/YHU68ptMsUd6s85VpVJDxCWzj87T36QuveV/H996GRwbkbvjC+Rtw1jWvVZVDdlaKAMSBe/3PBIQ123D2L/WeEkXhj/6l2RK8cMUbDQ7ypdXQhp038WTfMQ35TwU+GNwYg7AWbQ7IsCjXxMTRbPeXapsAcRBxvcNbNdoGMv2mXFcAADgkVuKYAIVwEM1FceACJCQnslZS0BgQfAIc+bkcEtIn7rVXJiuUKP0fao1sl7dq+17GgCJdXZb8B2e5dcg1C1ylJkEZS17xMECAJfohEsTrJ7rKhVCKoDEDDO83p5QlXX2Of8zmZReC65DdYBH9rADp+VPbHd+ACKABRfSVm9eaC0/A6DKkNYmJGXUGz/WPHpZhMrCZwiWcopUAAA7LnQBVvK9RIWSsAHk6VGwABrUag/cTVAN0W76f3r2UDPKlZhEdbotZjz1J2O+VxwQ/jiA41kXJLdldN/rhkrmnciCxqAf4BjpEpQ3CbcvFjdMMtOcYZD/FQtr2DQtrmk1V3LpVWbq7mnl2MLCCvTbRxatzNlV8N2bpwwEJaG/no9SvgrBZk/7cMNb8zu5jVpYPtuYqyZrcoHhzfUvPh/pYJUGg4nmJ5s14FuagWcUA4CGM1As1fywmuvHhQaAC9XB/ZUG/YT+97gp0PQVV0QQXqjLO3+L2EqkuZaSzFBD9FZfnVRrz0xpvzYemInFzuZo5Shie6AtvF2EINcIVJG3KoFHcSTXgEjwNswjiQAK8CKSM3PFqVh9EkLxyajeNV4buCzuQaAB0OJ1L71jsteNhFXw5DmPFO/SLJd1NJ5wJ8dn+ytDGpHa0LKQR98maFLhcdHtVexXNHmpRI9hJloxS3S0uaidFvKI6e2omvkmcNtSCfNxFKS2f9x+acJ9y6+Ya3TGNeqmJ477l1RHw5KzdDu7088FDXw/pdgJlxcoiv/Is6vBc+DMiOhwAofSUEqRB9H7Icvfr+75nUKfQh7pMPrsx7Of9rWo5W/jriahxjV7IWitkAtym83vk/CHSyhRGAj+AXbF3398ZJoHB+twz7TWucXkc98atfI5gM+id9uLqN7xwsBinahk22mgGF0+U5acaaf6IcygPPdAzixQVZDmhX+QIwaFvswKcfx9fIGBgBkbA/cy+ZTnNqFwA6HDW2sE1pHFbR6pW9sC30vHpB717ZKLg3+8c5BSICqyIS9BM51bKVHm2FjauP489i3g/PAZ73izT3sUVoDdyCiWOd/w/t4LvA4PSsjvwAjqKQEqBBXOY0MZ0jJEu454hr7U956+Oc8xE+1xbZ5911UQGnll5lBQQ6XWN0PfiCW1TirqrQ4blRk/rhdhaovGODeOL5cZL9gQJ2WZVU/teYsMs6r3dZeF+WPQTCUf1BSFfsVH79H1/KZA1wA/cVl0uRKS4ojibwvGhRyS61vqKJ+acPu+Niy1nHK78nMMZR5FOxO0QmghXqoO0WGaQo3wWqAHvQDNV/P9m6eOgAyX7D6hMKq+8xte55lE+9ejFmnteV8F+8Oxj5vYdA78OwycJFdt29ncA3ls3WugUstY+Gh2mT3q2T+r49yQ/TOIVMcqMIR+Cx9dDbGJhmVDK3bJBITBVtyoy2RIkug3DNYt0tKqMhSRFt4peJbEECwO86ZLccOcOgaYpVylmFx3Cowe30+h7mtr4GOlYiiPZ2gQu4H/3Xu1J9T5DP28E+Hp0SK7p3Q708XWJwGR/BmtHYDo3D2+N02lny92nPYABAyb7VCE0Q8NozUCWRDxakcHgc9uMFx0+bmyeXJiKbYVOZ+Bunx+oO7iyZuSisQgtGoMqhJtAoNAJYqbHQWcLU4wSostcbt3ZUDLMCgZu14AJYvO0u+XNccsxVNJ2sSV+L4v8O7aJFS99hGjbweH1OlGipNq5nBSnUn7Qyli/KhqK5xUNjrdQusum08aLhQu43lyiq1XJg2MS4xg7CVtaYTip3TAQHEGMBb66LTQxVq+20LKt8ldJ6nKpcl5BK7cSRRPfQz5R685qGm4rEerEFcN9uNIYp2uoR4A/Hy/l4XHG+DgN8Fvik2aUtQp74JnCG7QETRdtKNXJTr9xJFL+43cSzEoTiXSRSVnqlYreZdYhU4Wj1uNxXLbN/46F/cyGEDJ91P5cQlwehLWJiFIpWXwbeKsBpdkk7semymtQBue7QB0vZ9pmKOUr9wymZKLWWNSRCHQLBjfUtj3WJDh2nDfXP3dMWBqUde/5r+yJulP1YBBIaZcoPttZNFo8/ooLzAyNYmwd6fGY7Yf8kOkFH4JN7Gwa+kipqQoGcjr1CEUYezkj39WOm8AFg+nAdT+fkQw0dx9P0v19p1bV20jwNGNrR03Vx9YH5rKwmvZjedSldUIbqdMYyKj0l9i27fWtkFby5mKZLi4G1nJJd/hfsJjXNXVlpGtJuAdmq6M6ro1GQkiF1J0ZrxydIgJ5FcrJzz3ToMA7gm/BTmr5f3ORqkehNUW9bqIjH0yeoAmfaC+YeQ+YJ0espvjhLe86JALJTyxsRwcyccjfN0Nd4v8eTiJh8GeeM8Cu2gOoaqzcCSgi9dLqkl0EnKjJpwFnJZAmeT9WhXm5YNRC6od/1H1Lu84mR5uYYRroXVA1wjU9rT65N2JtvgijvwHVLHY/7RxQ8BGhCjW9ksfqX/ale3YXO8gHSAEmpBSvWu66jMFumnE0ml3l6kN7f++QAEqkNEu3Rcl8nc5g4Vej20J/7miWBf3doT9+ZwGzZ5K6tdIiMyJ0z+CUdlA0ASsvNbCHmY4sdpU3AaO6JhU0hDvoMRaUYkfv73BYnA6+tJdejm/hFQRt1f2Ofvu2KO/f2uiFh00reBprwpxI6da612VseAlVh+sve9OBXJ5f4hvLM6JjVScJMMX1CYGhWPHMgyVx+BSNBBdpBI2J8bvACzDhMyAnJT3XI6HN7HK4brajakET+89fHV92x6rCE9dBwg9QZZcjdLNam1prcld399CvmCiL7H4uGBXEafhSS7d8DWOW1yHjJd/GlARCR16HCCAAiqe9r9aTQbtfEFNjHchkitUDqsJ2WlEW9h+fD56AmKs+FJlxMzd2gNLeAiCM/ZzixB9iAasOT1iJ45G+Uajl88VkVpm1vjsPsY3g5409/mZA59ABvCcxaIVXvAmcbN5+QfizaG+Em3pD2QsLYmk0W7I0TwdeVfe/ZJpDURZV4B1+UalmMzEZQ+lW6cLBF3tu810judjHwNXf6ejzU7+Ualb/hfFAcT/+2eqwwuVRGCaG2w6kc9l93AgqGaa14CigC8hj3oWXo/TQA6KDloXhUFv9swGRHUbvVHFZ7kaEUGnm+Nn4JYQdhGIAfCw4Q91CgODblVzYlpkSUq6Kt30qswbRSUbGUtkNAD4xhxra9DqR4vxIIZWVPrfUQLLwCggtDwij8S5VEu0dtdVuE79pj8in36acUcPj8M52nB0RUMSHEi6I8EFWUWzt743Zz1mMce5o25EZjkfZbRYr/X8XrLK+73JVrWZjdXFHk+VJ4ccPGwz2l5tKAZWBThvBs2FEet4ex27Fn+Tc2tIljLhoV43rgJwXVWe0Aj9j4RBIklAIXkRqYGl2YKLdaLnGrcoi/u6YWeE/m3na1ksPlVptGsKDDYA42YCQ1QpCCROPCgk1laDZqRT4nnjL4En8cvvafnB+I2wrZnIEEEIbN6//n6k8v69czGUjN7OWWKkduUN7mlP/yM3dcMeMXdcWEJt6UwP2U+vj/5hS/J1TUazCKJUpC198MKoxfa6G8PC0CH5h/ruyjQbmLnT3tgSp0DFyYx3caajI0l5gFpqPRkY0G5IFWhgs87U2KtEkROO+LfmlIxtVNEqhf95lwxkKGw0kRbQG2XgbISA+nGvrd9ZtBcvq/ojJj2cIHmgjGKE52tND+O5cpD/0O6E6ElnSjgBe8tl91yXdJ1pPzQWL47BZkB0iq4LSWfh21RxfDnHP/fnMvSEv65C1pNAL4R+D8dv1W3eqZJBLHlnlYH39y5790k769k1/aol4HHrF5q60RVBOaIlLBZTNkiTgsTrW6yKrTbdUM8fOylCZ6aGT7bVqvlxqNK/7xhdPLuZ3ee2Z3OVW54FfoeoNl3bmmhS3Y3hyk/Ikd1ZMkOux6hViE67hda9X1NTR6s5hnm08AiGVQxXIXHvnveuGxwDBaCrstoElg2LPLXif9JR5rPRzGeFy7LHBRSNsySv4gynErbcz2hqhL02xAW6ftjzhiVBBrR/RlAHcky4JULANw4pS6am+dYkig723K8c009VbzqpoZApMjdGqkqRMeHW6ZFWMwFmGmgy4Da90jmRzOakdLnz7uRdIXH6WXJqVFOGxl86IkYc7yq/hw38L4/2CYU20u9tNH9S9Ec+SgDNBy+uYCOZRZGDz1eRBCYT1ejfU8uatIpYmQpT62Y078nPEnjU+Waflo5ocPnzuSsItGer/mgLmcq4m35oqxS5UpISuLuQHWrw5V+Fis7EebbdVHHzsrQMWRfrYccQN7GSp4bo8A29LuYScmf/lYhq6RtEhsgbEUXvx1AjNRRcRQDSfgsYhawmzRLH+yxH3frNYGYoRAjQDPiWdRMSnf/tE+d1p/lDTBOym6XmbfmF2aiczrPYhAo0n190lkXiThw/P8NzfWckJeU1O5tAbb4PYgk/ObdAQUOSGWXn6US7SAtUQ64NbJFO9N/TNpCYQVHI5VaMwuK93tKTkOMXf3A+Mc+p64T2Uwqyb2aflXOcO4sc78C574BwYX/sqIL+JpsxJrVYmI16OP9cR36H8JqGmjXxymF97GOah4L3ocMhVUssKty2+tkkPufHg/QyOVLMG306oA1oeRqAy18bG6XeLnUNzCVOAO/kJfztgjXIFVln6mPK2hpT0+onEH/rYjNuQqmxP4OZq9rS3nLkUDlsUbGlNpRiDAAHNtP+XUygGsNfDHcTYs/vC6Ot/8v9xdMeACIWqqC3VyLDTe/lS+iwcqHljE73AR5Jbb27C/2MLKlAFEGyVAzgHqHuq7CUS3/Y/O+rn1W1v/Z9E/ug+MaStARaosuJISQtb0AzoOIUE7peCwwlk9RvNLLpdjYDRJt674uimVi1bGt8Cznu27HG56uNZmoAZY8fmtl7NUyJkV3J6W5SrBRis3aXP1jG9w+dmfbDywm4+DxVE04nrVHV0Jgi/90huzgNTwH9f9rg+9I0aBhHrg/d4hTI5RCFTIt6YYBB0sko2GyJA8jozXPd2T9ZwuudA4jnPt3SxQ+OvxH77UF3Imn6YYOXdfivWeK0LpF4adXuMVle3IBr4V5+g16V6krJNx0AAEXce4v25BqbPymwBp7GWgdrQE+ARIsfJgiSTZRZUPhHD4hnX5Yt4gZZ35G5Qb0pu1hdcOoDpogn7fwVrbvGARdx7i/SltrYlAxQHF3q25rNrROGe41qgAHr/F7KODl6DSum93uUhSqPMiXec4yPJJDvtOTM33jZhLCcxHRbkqgKw88OVQ8UXsSdDUYPujzEERruRbBrTgHdo1avbP3PIZIeQFJ91VpFLytXmzecyOCnaMTQvXhmNxH2jfT4WA8bl8rk8d/MwHcXL9MzhOtjM3kCJgG4Zw9c/j6WRYToZLDQvJF03oU1po7fXk34hXASQ9uOO2Jg0jeUVzGljKHjMyOWtm6NRiuf2lA6WoPt5Zb/fC1MvW8diEOSUolrhkQJU6HlUoQlw50F7KaLpMGaATUfwtgehzTc/voZ8HEiW4uiub6tBFY6wU195P9o16J8sppE3ARHK+VgC9CuePqSPsORlasHb12FjonbtjN41GKKhHuwCOt8mdfvGmG9tCd/uewDcWP23nZReZ63yMBvL10jzbC1SDgB4PnAIrwbziuM0/tl+3hZ9iZtjOax4j/N5C9A5KOX2aRExN39RQABK4l0DH8A9GIWF64FS8+wWEv9u8QRzg6qiXSmdfMQ068eQX9EAFaQu9FCoVbmF7Irbxr3Bt8fs5qNNNjVZn0ZrKR/mM3wOpKiDPJRm7ypyBwFIJnShy7WsOgBrb+6r2nM0/TXjCWIC9oRSALWCauEKydBqMyHjFPz9UIFzwjzajBR0SuKv+T2r7mnr8EitcOgM0rmYrFMExq7B+CBrhAdenMCYAAbKB66LCeQADj2imJz/nMWimuQO1mJ0gD7j3E5BhVgCytC7gkztkF8G2tsnbta8F09Fent1+RhDeHGI3kzraU1qX5IUanbDYngbInHWmLMudqHzw9ABq7KleLoli7FKIgsOs5WAlZ8E4BEXvyC5hUml/dYhi6ZdrLElkDsCF5c78WM1CageQOjkJogIxmYHm25udoFyN89rZu+nnJHzLI8bTmLxqv3um+NNI86RdRC6wGsd0qgtwxdgU0nAuBIimTMXfVTO22SYOhhpclNYXJk74v+6LKcpK6n9RZQj09siGEbage8nAp2Yy9ipW7uKbAl/Jhzng3UN+csACmk5ERD69puvfWn1loSnORXG7nVYV4lVDEREa8aaB74qKrtBgUTVitvvRPwsz40v0S/I6GeCvJ8ediePQHN2IVCMa/XZJ5LO0PQ9cWgJ0kXcDiQrJ1u4u5zl/IW7OE/5/81vkqyIfS8ABQDxAtbqjBAv9ZkiFRBT9yMxn4OjXVYJUd9WCzwOP88FEuXT0yQ/IcQCj1AOB7iMuhJTb9LrFsFR9pNH+fHHQ78/Enxz02Z+45G+UXX+NJGvRoSqh9cCkKI4GjjqjWOMh02KD/4lb9N4RljuBiyfCohEdfakAsZsQSsXTCnJ2CrnIoi7FVQ1O+n/jdIK/XVENheUf4hSRHRNM1vXRiAUFyENHWXVjnbCsbDvZu+2fUYANJMehR0mV22kzjWtP+hk7ISYXqKOnsi/fPz9UClw8A6V6gtfC7idp49gowsP0IfmXQ/AKyuht8EtAqOuP3wXM1BdddyubCNZQ5dSUtLEKe6n03hlIWMtsG0PKEivKL6xCp69wFNIC2xLYuLVEonXXw8v02COeBP31ILp2lo9J/SHVzk1dIv0QehA9rSZvlAv9DKPZT8s0Ho3a/0GRWRproMyhpE+J1oTxVf29SwZAlYFqsm6B5J+rX2QWj4PMg3t5BYl+/RgYeuKx3ZydWJJEcIfF6lce/J7vxBxkrAB7Rdg1poWZHN979GBhqeowhq+brdvV+F/UdEXCPFcoEZkVda0rjEiiUSRkaRTk5soAEWCP8ujAHd1rqQgpoW58SSKTwDWiHQF8swGvdqfJWMwbco0d18GipH2FCN3yTd7WhojgvJMduemtkNg5gatw8H54mSINhG5ywEc3riZ3azAQn4OAHy6KfvmaZcAofIkZTwMPj0v+RplXzGTOfKWaOnmTAYN0T0j5VEbzkk16fjM82E4ZgW6KACUxtOY7ZlbAydWg7riTmVDsQWHdxFBYUlTR/GnOCI1K7jxPlhp3I0YRjL788xXpyRpFUp/oOv/pxxxmYdvhg7zjElM9/3hN4DuEspD5AdpKYaekM0ygkTRTehdx0R4c4YWPDcZuFGVlM5ULlhVABdY+RUCADoTHQ7SHxn8ovs9jFVZk4P4YyJG5Dm3LOVlfjLBLHuX7gXvYij9hbEvXlz/t9l2v8rYozQk0ywAKMGhAvkVAHgKK49QHSW4qFYQL7acjygLS9PEPnNTYIpGlL69ZWAtaFKXWQEJDT6ufyMOdxEW6HQ4JYFTti6A1p0ECzyhvjH7GgNS8QHiOasMBWD/1DcpFMoXyPt1KoGO9EZ3LH5njdwvHzBXodyffz99RIoFBdjdfJvfJ+poW4kWTAZbznVu+LKSVqexRaSNwPkifzCTuLVmDzblMIRK8YY2nf5G7fSU8F3zBda6dgDkf2SOqDp26CBmTtd9UPtwZssNMPOBin8Nf13/qfzVH/KDgs2l8j+92gaHXuin6pX0v102Ae+uPHSegHyLk59OgdhS/HA9WaBPYJ7GxEaNZPASYXQLqB7MiFw4PWa8Dy3Gh/lyN3aCDSiE1MWM2pqBz3Y/MulZ4V7jl8DhUnWCGNj2jzey4X3bD15WdZtRzpygAA=" width="722" height="839" class="img_RpFt"></p>
<p>經過 453 次之後，玩家可以辨識出這是「貓」：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/04_puzzle-6e9ca65dbb0f5a45603285054d5226ef.webp" width="722" height="839" class="img_RpFt"></p>
<p>453 就是這個玩家的量化成績，數字越小越好。</p>
<p>這個謎題的程式碼在此：</p>
<p><a href="https://github.com/FlySkyPie/dequadtree-puzzle-game" target="_blank" rel="noopener noreferrer">https://github.com/FlySkyPie/dequadtree-puzzle-game</a></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="cnn-問題">CNN 問題<a href="#cnn-問題" class="hash-link" aria-label="Direct link to CNN 問題" title="Direct link to CNN 問題">​</a></h2>
<p>這個謎題啟發自卷積類神經網路 (CNN, Convolution Neural Network) 的問題。</p>
<p>CNN 會掃描整張圖片，並且偵測諸如邊界之類的微小特徵<sup><a href="#user-content-fn-cnn-explained-1a8114" id="user-content-fnref-cnn-explained-1a8114" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/05_features-1b63840f85db67ca481c873eccbfd1ab.webp" width="830" height="387" class="img_RpFt"></p>
<p>接著再透過這些微小特徵組合成比較高級的特徵，例如：臉、手...之類的。</p>
<p>這個特性為 CNN 帶來了一些問題：</p>
<ul>
<li>高頻下毒</li>
<li>重組可辨識性</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="高頻下毒">高頻下毒<a href="#高頻下毒" class="hash-link" aria-label="Direct link to 高頻下毒" title="Direct link to 高頻下毒">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/06_cnn-attack-b2fd1b7d38a142131f93936d1a3c3fc6.webp" width="3000" height="1687" class="img_RpFt"></p>
<p>攻擊者可以在影像內參入人類肉眼不可見的資訊，讓圖片無法被 CNN 正確的識別<sup><a href="#user-content-fn-cnn-attack-1a8114" id="user-content-fnref-cnn-attack-1a8114" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="重組可辨識性">重組可辨識性<a href="#重組可辨識性" class="hash-link" aria-label="Direct link to 重組可辨識性" title="Direct link to 重組可辨識性">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/07_cnn-52e62f2f9c658af5485505cc4d3d23b7.webp" width="1100" height="203" class="img_RpFt"></p>
<p>當圖片被重組打亂，人類將會難以辨識，但是 CNN 仍然能夠維持辨識能力<sup><a href="#user-content-fn-cnn-puzzlingly-1a8114" id="user-content-fnref-cnn-puzzlingly-1a8114" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="模擬注意力">模擬注意力<a href="#模擬注意力" class="hash-link" aria-label="Direct link to 模擬注意力" title="Direct link to 模擬注意力">​</a></h2>
<p>人類的視覺成像其實並不是均勻的，受到視網膜視錐細胞分佈的影響，實際上只有中間的區域具有比較多的成像資訊。另一方面任意瞬間視網膜接受的資訊其實是模糊的，是透過大腦在時間序上累積的資訊腦補成一個比較清晰的影像。</p>
<p>前面的謎題就是為了模擬這種特性而設計的，人類會將注意力放在最可疑、最有價值的區域去提高解析度，其他地方就算不管也沒關係。經過探索圖片本質上是一個四元樹 (Quadtree) 結構。</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-cnn-explained-1a8114">
<p>Convolutional Neural Networks Explained. Retrieved 2026-01-25, from <a href="https://tvirdi.github.io/2017-10-29/cnn/" target="_blank" rel="noopener noreferrer">https://tvirdi.github.io/2017-10-29/cnn/</a> <a href="#user-content-fnref-cnn-explained-1a8114" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-cnn-attack-1a8114">
<p>How we might protect ourselves from malicious AI | MIT Technology Review. Retrieved 2026-01-25, from <a href="https://www.technologyreview.com/2019/05/19/135299/how-we-might-protect-ourselves-from-malicious-ai/" target="_blank" rel="noopener noreferrer">https://www.technologyreview.com/2019/05/19/135299/how-we-might-protect-ourselves-from-malicious-ai/</a> <a href="#user-content-fnref-cnn-attack-1a8114" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-cnn-puzzlingly-1a8114">
<p>Neural Networks seem to follow a puzzlingly simple strategy to classify images | by Wieland Brendel | Bethgelab | Medium. Retrieved 2026-01-25, from <a href="https://medium.com/bethgelab/neural-networks-seem-to-follow-a-puzzlingly-simple-strategy-to-classify-images-f4229317261f" target="_blank" rel="noopener noreferrer">https://medium.com/bethgelab/neural-networks-seem-to-follow-a-puzzlingly-simple-strategy-to-classify-images-f4229317261f</a> <a href="#user-content-fnref-cnn-puzzlingly-1a8114" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="背景"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-01-25_marsh-screw-quadruped-mech">一種機甲構想與 Nano Banana 使用筆記</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-01-25T00:00:00.000Z" itemprop="datePublished">January 25, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="背景">背景<a href="#背景" class="hash-link" aria-label="Direct link to 背景" title="Direct link to 背景">​</a></h2>
<p>機戰傭兵 (Armored Core) 是一款我沒玩過的遊戲，但是很享受於它的衍生作品，包含遊戲預告、實機影片之類的。其中一個讓我感興趣的是機甲在遊戲中機動的方式：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/yFLYs8UzVVc?si=yRfRiO2BdN3A_bb4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<p>撇除誇張的瞬間噴射以及懸浮飛行以外，麥卡納姆輪 (Mecanum wheel) 在可控的室內平地同樣可以做出炫泡的機動：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/I-tPQtsd-ls?si=M627JPSJSn4Rzoea" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<p>因為很炫泡，所以我想做，於是一個構想就在我腦海成型：</p>
<ul>
<li>以 50cm 的迷你尺度實現。</li>
<li>運行在草皮上，比室內平地粗曠，但是又保留考量可行性的平面。</li>
<li>  四足機甲造型，四足設計用來作為主動式懸吊系統。</li>
<li>使用類似 ZIL-29061 螺旋輪結構，實現一般輪型或履帶型載具無法達成的漂移機動。</li>
<li>使用 360 攝影機實時進行 3D 點雲掃描與場景重建，因此可以在一個渲染的 3D 空間實現第三人稱操作（近似遊戲本身的體驗）。</li>
</ul>
<p>最近隨便用 Nano Banana 搓了一張概念圖，順便把這個想法做個筆記：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/01_mecha-b6b02bc26e5049e633b6de9cd62debed.webp" width="1014" height="686" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="nano-banana-使用筆記">Nano Banana 使用筆記<a href="#nano-banana-使用筆記" class="hash-link" aria-label="Direct link to Nano Banana 使用筆記" title="Direct link to Nano Banana 使用筆記">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>過程我省略原圖，所有使用過得原圖我放在文章最後面。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="第一次合成嘗試">第一次合成嘗試<a href="#第一次合成嘗試" class="hash-link" aria-label="Direct link to 第一次合成嘗試" title="Direct link to 第一次合成嘗試">​</a></h3>
<p>提示詞：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">將第一章圖（水道橋重工機甲）的底盤改成第二張圖（ZiL-2906）的螺旋輪。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">保持原本的四足設計、將原本的兩個螺旋輪設計改成四個較小的尺寸的螺旋輪、對應原本的四足位置。 </span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>結果：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/02_mecha-2878e1b548bb9c5dcb965eace3977ae5.webp" width="1344" height="784" class="img_RpFt"></p>
<p>左邊的東西很明顯是這個上下文讓模型推論出 bug 了，不能期望它 one shot 搞定了，於是後面採用不同的策略。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="提高解析度">提高解析度<a href="#提高解析度" class="hash-link" aria-label="Direct link to 提高解析度" title="Direct link to 提高解析度">​</a></h3>
<p>第一次嘗試除了組裝失敗以外，底圖的解析度明顯太低，但是因為這張圖的角度剛剛好，所以我沒有再去尋找其他解析度比較高的圖片。</p>
<p>提示詞：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">提高畫質、提高解析度 </span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="第一次預組裝">第一次預組裝<a href="#第一次預組裝" class="hash-link" aria-label="Direct link to 第一次預組裝" title="Direct link to 第一次預組裝">​</a></h3>
<p>將提昇過解析度的圖與第一次生成的螺旋輪做簡單的合成：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/03_gimp-edit-f14d83fda587afababe86816202e128f.webp" width="1440" height="920" class="img_RpFt"></p>
<p>之後再用 Nano Banana 進行揉合，提示詞：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">這是一個簡易合成的圖片，內容為四足人形機甲配上螺旋輪 (marsh screw)，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">有以下缺陷：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 不完整的去背</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 缺乏正確透視</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 機甲與螺旋輪缺乏真實的機械連接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">你必須修復上述缺陷。 </span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>結果：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/04_mecha-b9f7146327d1007bf4dacddd72afed25.webp" width="1152" height="912" class="img_RpFt"></p>
<p>提示詞：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">移除機甲的左右手，保留上半身與頭部</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>結果：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/05_mecha-444a45242e61db6bf7a3f231bdde4024.webp" width="1168" height="912" class="img_RpFt"></p>
<p>這個步驟是因為我不太喜歡人形這種高重心的設計，但是手部有部份遮擋到一些腿部，自行移除再修復有失敗的風險，乾脆一開始就用比較明確的語意讓 Banana 移除手部。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>我知道最後的圖還是重心偏高，但是我也說了：「隨便搓的」=3=</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="第二次預組裝">第二次預組裝<a href="#第二次預組裝" class="hash-link" aria-label="Direct link to 第二次預組裝" title="Direct link to 第二次預組裝">​</a></h3>
<p><img decoding="async" loading="lazy" src="/assets/images/06_edit-0a2ad22feec763d72b85dc3c432ce3ac.webp" width="1440" height="921" class="img_RpFt"></p>
<p>提示詞：</p>
<div class="codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-text codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">這是一個 簡易合成的圖片，內容為四足機甲配上螺旋輪 (marsh screw)，配上砲塔以及格林機關槍，，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">有以下缺陷：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 機甲、砲塔、機關槍色彩不一致，將砲塔改成與機甲相同的德軍灰。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 缺乏正確透視</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 機甲-砲塔、砲塔-機關槍，兩個連接處缺乏真實的機械連接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">你必須修復上述缺陷。</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>結果：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/07_mecha-283b4b1e36dc1bb5d8e7b59d0b1e70b3.webp" width="1248" height="832" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="使用素材">使用素材<a href="#使用素材" class="hash-link" aria-label="Direct link to 使用素材" title="Direct link to 使用素材">​</a></h3>
<p>水道橋重工機甲<sup><a href="#user-content-fn-kuratasrobot-9ba084" id="user-content-fnref-kuratasrobot-9ba084" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/08_kuratasrobot-5eec4b3398c58d2cdf5ae6c3bdf3af0c.webp" width="580" height="435" class="img_RpFt"></p>
<p>ZiL-2906<sup><a href="#user-content-fn-zil-2906-9ba084" id="user-content-fnref-zil-2906-9ba084" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/09_ZiL-2906-43272980c7fc5762c5fe50f0fc99a250.webp" width="670" height="396" class="img_RpFt"></p>
<p>科幻戰車<sup><a href="#user-content-fn-scifi-tank-9ba084" id="user-content-fnref-scifi-tank-9ba084" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/10_scifi-tank-15b9c96a055a5207a8f881f3c8513f01.webp" width="992" height="544" class="img_RpFt"></p>
<p>格林機關槍<sup><a href="#user-content-fn-gatling-9ba084" id="user-content-fnref-gatling-9ba084" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/11_GAU8_A10-efeafba3ee5bb4b0dde805d0016ef2ce.webp" width="800" height="646" class="img_RpFt"></p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="後記">後記<a href="#後記" class="hash-link" aria-label="Direct link to 後記" title="Direct link to 後記">​</a></h2>
<p>後來稍微搜尋一下，發現 ZIL-29061 遙控車已經有人做了：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wf4PqVhCTJA?si=SYqzQiLwQxDQE_VE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
<p>所以除了四足機甲以外，其他部份的可行性算是已經被驗證過了（？）</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-kuratasrobot-9ba084">
<p>Suidobashi Heavy Industry – KURATAS – Retrenders. Retrieved 2026-01-25, from <a href="https://retrenders.com/2012/07/31/suidobashi-heavy-industry-kuratas/" target="_blank" rel="noopener noreferrer">https://retrenders.com/2012/07/31/suidobashi-heavy-industry-kuratas/</a> <a href="#user-content-fnref-kuratasrobot-9ba084" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-zil-2906-9ba084">
<p>ZIL Amphibious Screw Vehicles: a Cool Soviet Era Invention - autoevolution. Retrieved 2026-01-25, from <a href="https://www.autoevolution.com/news/zil-amphibious-screw-vehicles-a-cool-soviet-era-invention-79250.html" target="_blank" rel="noopener noreferrer">https://www.autoevolution.com/news/zil-amphibious-screw-vehicles-a-cool-soviet-era-invention-79250.html</a> <a href="#user-content-fnref-zil-2906-9ba084" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-scifi-tank-9ba084">
<p>Sci-fi Art: Mountain Urban Tank V07 | Coolvibe – Digital Art. Retrieved 2026-01-25, from <a href="https://coolvibe.com/2013/sci-fi-art-mountain-urban-tank-v07/" target="_blank" rel="noopener noreferrer">https://coolvibe.com/2013/sci-fi-art-mountain-urban-tank-v07/</a> <a href="#user-content-fnref-scifi-tank-9ba084" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-gatling-9ba084">
<p>GAU-8/A 30mm Gatling Gun.  Retrieved 2026-01-25, from <a href="https://www.gdots.com/armaments/aircraft-guns-gun-systems/gau8a/" target="_blank" rel="noopener noreferrer">https://www.gdots.com/armaments/aircraft-guns-gun-systems/gau8a/</a> <a href="#user-content-fnref-gatling-9ba084" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="前情提要"><header><h2 class="title_BVkY" itemprop="headline"><a itemprop="url" href="/posts/2026-01-22_tensorzero">TensorZero 筆記</a></h2><div class="container_sDB1 margin-vert--md"><time datetime="2026-01-22T00:00:00.000Z" itemprop="datePublished">January 22, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="前情提要">前情提要<a href="#前情提要" class="hash-link" aria-label="Direct link to 前情提要" title="Direct link to 前情提要">​</a></h2>
<p>嘗試過 LiteLLM 和 Langfuse 的組合，LiteLLM 本身被我遇到錯誤實作的加密造成沒辦法設定 Langfuse Callback 的問題，Langfuse 則是仰賴的 ClickHouse 在缺乏設定的情況下在低端設備運作不太穩定，不只造成 CPU Lock，更在當機之後產生資料庫損毀無法正常運作的情況。</p>
<p>後來使用  Maxim AI 的 Bifrost，確有很高的代理失敗率（~6%），我用 Local Deep Research 跑一次搜尋要 4 次 LLM 請求，失敗一次就會造成整個研究  失敗，換句話說有 22% 的機率會研究失敗，這蠻惱人的。</p>
<p>Bifrost 另外一個小問題是裡面埋了很多付費功能，主要是多租戶/多使用者管理一類的，雖然自架用不太到但是看著 UI 提醒你要買授權還是挺礙眼的。</p>
<p>最後決定再換一個 LLM 可觀測方案。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="tensorzero">TensorZero<a href="#tensorzero" class="hash-link" aria-label="Direct link to TensorZero" title="Direct link to TensorZero">​</a></h2>
<ul>
<li><a href="https://github.com/tensorzero/tensorzero" target="_blank" rel="noopener noreferrer">https://github.com/tensorzero/tensorzero</a>
<ul>
<li>10.8k ⭐</li>
</ul>
</li>
</ul>
<p>它使用前後端分離的架構，有 <code>gateway</code> 本體就能進行 LLM Gateway 了，如果需要使用可觀測 (LLM Observability) 的部份則必須設定 ClickHouse。</p>
<div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">gateway</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/tensorzero/gateway</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">2026.1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">file /app/config/tensorzero.toml </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">format json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> OPENROUTER_API_KEY=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># - TENSORZERO_CLICKHOUSE_URL=http://clickhouse:clickhouse@clickhouse:8123/tensorzero</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">source</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> gateway</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">target</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /app/config/tensorzero.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3000:3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ui</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/tensorzero/ui</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">2026.1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> TENSORZERO_GATEWAY_URL=http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//gateway</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;4000:4000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="clickhouse">ClickHouse<a href="#clickhouse" class="hash-link" aria-label="Direct link to ClickHouse" title="Direct link to ClickHouse">​</a></h2>
<p>TensorZero 依然仰賴 ClickHouse 作為可觀測資料庫，不過既然有了前車之鑒，這次稍微在設定上做點功課。</p>
<blockquote>
<p>As an example, when using M-type CPUs, we recommend provisioning 100GB of memory per 25 CPU cores. <sup><a href="#user-content-fn-clickhouse-hardware-604dec" id="user-content-fnref-clickhouse-hardware-604dec" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
</blockquote>
<blockquote>
<p><strong>Fortune 500 B2B SaaS</strong> <sup><a href="#user-content-fn-clickhouse-hardware-604dec" id="user-content-fnref-clickhouse-hardware-604dec-2" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
<table><thead><tr><th><em><strong>Storage</strong></em></th><th></th></tr></thead><tbody><tr><td><strong>Monthly new data volume</strong></td><td>30TB</td></tr><tr><td><strong>Total Storage (compressed)</strong></td><td>540TB</td></tr><tr><td><strong>Data retention</strong></td><td>18 months</td></tr><tr><td><strong>Disk per node</strong></td><td>25TB</td></tr><tr><td><em><strong>CPU</strong></em></td><td></td></tr><tr><td><strong>Concurrency</strong></td><td>200+ concurrent queries</td></tr><tr><td><strong># of replicas (including HA pair)</strong></td><td>44</td></tr><tr><td><strong>vCPU per node</strong></td><td>62</td></tr><tr><td><strong>Total vCPU</strong></td><td>2700</td></tr><tr><td><em><strong>Memory</strong></em></td><td></td></tr><tr><td><strong>Total RAM</strong></td><td>11TB</td></tr><tr><td><strong>RAM per replica</strong></td><td>256GB</td></tr><tr><td><strong>RAM-to-vCPU ratio</strong></td><td>4 GB:1</td></tr><tr><td><strong>RAM-to-disk ratio</strong></td><td>1:50</td></tr></tbody></table>
</blockquote>
<blockquote>
<p>For small amounts of data (up to ~200 GB compressed), it is best to use as much memory as the volume of data.<sup><a href="#user-content-fn-clickhouse-tips-604dec" id="user-content-fnref-clickhouse-tips-604dec" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup></p>
</blockquote>
<blockquote>
<p>The recommended amount of RAM is 32 GB or more.<sup><a href="#user-content-fn-clickhouse-tips-604dec" id="user-content-fnref-clickhouse-tips-604dec-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup></p>
</blockquote>
<p>種種跡象都顯示 ClickHouse 是為了大型業務需求設計的，對於 Homelab 這種小型使用者確實需要額外的設定。</p>
<p>於是我直接從網路上檢了別人的設定來用<sup><a href="#user-content-fn-clickhouse-low-604dec" id="user-content-fnref-clickhouse-low-604dec" data-footnote-ref="true" aria-describedby="footnote-label">3</a></sup>：</p>
<details class="details_kzw7 alert alert--info details_D2hA" data-collapsed="true"><summary><code>config.xml</code> 和 <code>users.xml</code></summary><div><div class="collapsibleContent_UYJG"><div class="language-xml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-xml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- config.xml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- These settinsg should allow to run clickhouse in nodes with 4GB/8GB RAM --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">clickhouse</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- disable some optional components/tables --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mysql_port</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">remove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">postgresql_port</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">remove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">query_thread_log</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">remove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">opentelemetry_span_log</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">remove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">processors_profile_log</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">remove</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- disable mlock, allowing binary pages to be unloaded from RAM, relying on Linux defaults --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mlock_executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mlock_executable</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- decrease the cache sizes --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">mark_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">268435456</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">mark_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 256 MB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">index_mark_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">67108864</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">index_mark_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 64 MB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uncompressed_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">16777216</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">uncompressed_cache_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 16 MB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- control the concurrency --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_thread_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2000</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_thread_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_connections</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">64</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_connections</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_concurrent_queries</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_concurrent_queries</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_server_memory_usage_to_ram_ratio</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0.75</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_server_memory_usage_to_ram_ratio</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 75% of the RAM, leave more for the system --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_server_memory_usage</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_server_memory_usage</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- We leave the overcommiter to manage available ram for queries--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- reconfigure the main pool to limit the merges (those can create problems if the insert pressure is high) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_merges_mutations_concurrency_ratio</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_merges_mutations_concurrency_ratio</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">merge_tree</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">merge_max_block_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1024</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">merge_max_block_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_bytes_to_merge_at_max_space_in_pool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1073741824</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_bytes_to_merge_at_max_space_in_pool</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 1 GB max part--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_lower_max_size_of_merge</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_lower_max_size_of_merge</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_execute_mutation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_execute_mutation</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_execute_optimize_entire_partition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">number_of_free_entries_in_pool_to_execute_optimize_entire_partition</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Reduces memory usage during merges in system.metric_log table (enabled by default) by setting min_bytes_for_wide_part and vertical_merge_algorithm_min_bytes_to_activate to 128MB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">min_bytes_for_wide_part</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">134217728</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">min_bytes_for_wide_part</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">vertical_merge_algorithm_min_bytes_to_activate</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">134217728</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">vertical_merge_algorithm_min_bytes_to_activate</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">merge_tree</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- shrink all pools to minimum--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_buffer_flush_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_buffer_flush_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_merges_mutations_scheduling_policy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">round_robin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_merges_mutations_scheduling_policy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_move_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_move_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_fetches_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_fetches_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_common_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_common_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_message_broker_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_message_broker_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">background_distributed_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">background_distributed_schedule_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tables_loader_foreground_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tables_loader_foreground_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">tables_loader_background_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">tables_loader_background_pool_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">clickhouse</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-xml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-xml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- users.xml --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">clickhouse</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">default</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_threads</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_threads</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_block_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">8192</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_block_size</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">queue_max_wait_ms</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1000</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">queue_max_wait_ms</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_execution_time</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">600</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_execution_time</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">input_format_parallel_parsing</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">input_format_parallel_parsing</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">output_format_parallel_formatting</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">output_format_parallel_formatting</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_bytes_before_external_group_by</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3221225472</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_bytes_before_external_group_by</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 3 GB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">max_bytes_before_external_sort</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">3221225472</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">max_bytes_before_external_sort</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- 3 GB --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">default</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">profiles</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">clickhouse</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<p>不過 <code>max_concurrent_queries</code> 設成 8 在我的用例有點太少了，TensorZero 那邊會噴錯誤，所以我稍微調高到 100。（預設值是 0，沒有限制）</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="基本使用">基本使用<a href="#基本使用" class="hash-link" aria-label="Direct link to 基本使用" title="Direct link to 基本使用">​</a></h2>
<p>TensorZero 比較討厭的是它的官方文件會一直找機會推銷自己設計的 API：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:3000/inference&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;function_name&quot;: &quot;generate_haiku&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;input&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;messages&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;role&quot;: &quot;user&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;content&quot;: &quot;Write a haiku about TensorZero.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }&#x27;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>不然就是使用自己特殊的 <code>function_name</code> 設計（等等會解釋這個東西）：</p>
<div class="language-typescript codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-typescript codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> OpenAI </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;openai&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">OpenAI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  baseURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:3000/openai/v1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chat</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">completions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tensorzero::function_name::generate_haiku&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  messages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      role</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Write a haiku about TensorZero.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>但是 TensorZero 本身是 OpenAI API 兼容的：</p>
<div class="language-typescript codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-typescript codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://awesome-tensorzero-service:8123/openai/v1/chat/completions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> headers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string-property property" style="color:#36acaa">&quot;Authorization&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Bearer ANY</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;Content-Type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;application/json&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> payload </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;model&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tensorzero::model_name::openrouter::openai/gpt-oss-20b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;messages&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;role&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;system&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;You are a helpful assistant.&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;role&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;content&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Hi&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string-property property" style="color:#36acaa">&quot;modalities&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;text&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;POST&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  headers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>只要在環境變數針對特定的供應商 (Provider) 設定好 API key （例如：<code>OPENROUTER_API_KEY</code>），使用以下格式就可以直接調用對應的模型：</p>
<div class="language-plaintext codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-plaintext codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">tensorzero::model_name::&lt;PROVIDER&gt;::&lt;MODEL_NAME&gt;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>PROVIDER</code> 是 TensorZero 有實作支援的部份，具體清單請見官方文件<sup><a href="#user-content-fn-provider-604dec" id="user-content-fnref-provider-604dec" data-footnote-ref="true" aria-describedby="footnote-label">4</a></sup>。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="缺乏-reasoning">缺乏 Reasoning<a href="#缺乏-reasoning" class="hash-link" aria-label="Direct link to 缺乏 Reasoning" title="Direct link to 缺乏 Reasoning">​</a></h2>
<p>使用一陣子之後第一個觀察到的問題是缺少 Reasoning，不論是可觀測紀錄本身，或是 client 的 request 有帶上 Reasoning 的參數，都沒辦法獲得。</p>
<p>發現問題的當下，剛好被開發人員標記沒多久：</p>
<p><a href="https://github.com/tensorzero/tensorzero/issues/5703" target="_blank" rel="noopener noreferrer">Add reasoning support to OpenRouter model provider · Issue #5703 · tensorzero/tensorzero</a></p>
<p>幾天後撰寫本文的時候(2026-01-22)，再次查看似乎已經被解決了。</p>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="進階使用">進階使用<a href="#進階使用" class="hash-link" aria-label="Direct link to 進階使用" title="Direct link to 進階使用">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>除了基本使用，其他功能我並沒有親自實測（使用），單純是根據我閱讀文件的理解整理的。</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>以下皆以 OpenAI API 舉例，畢竟已經是實質產業標準了。TensorZero 自己的 API 格式我完全沒興趣研究。</p></div></div>
<p>第一種是剛剛提過得，使用內建的 Provider 直接呼叫模型：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/01_tensorzero-eb290cd113bc05dd8508735fda6ba853.webp" width="674" height="530" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="自定義模型">自定義模型<a href="#自定義模型" class="hash-link" aria-label="Direct link to 自定義模型" title="Direct link to 自定義模型">​</a></h3>
<p>第二種是在組態檔裡配置自定義的模型：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/02_tensorzero-64e1bb4be1f8f283f4910b4a4e542f12.webp" width="657" height="701" class="img_RpFt"></p>
<p>一個自訂模型可以有多個 Provider/Routing，用來當作備援 (Fallbacks)，當一個 Provider 失敗會自動使用其他設定的 Routing，例如：</p>
<div class="language-toml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-toml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">[models.my_gpt_5]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">routing = [&quot;my_openai_provider&quot;, &quot;my_azure_provider&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[models.my_gpt_5.providers.my_openai_provider]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type = &quot;openai&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model_name = &quot;gpt-5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[models.my_gpt_5.providers.my_azure_provider]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type = &quot;azure&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deployment_id = &quot;gpt-5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endpoint = &quot;https://your-resource.openai.azure.com&quot;</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="自定義函數">自定義函數<a href="#自定義函數" class="hash-link" aria-label="Direct link to 自定義函數" title="Direct link to 自定義函數">​</a></h3>
<p>第三種是在組態檔裡配置自定義的函數：</p>
<p><img decoding="async" loading="lazy" src="/assets/images/03_tensorzero-8e41d13eb9e9f5048809ae33bec79aa1.webp" width="726" height="646" class="img_RpFt"></p>
<p>可以使用標準的 Provider 和 Model；或是前一種自定義模型。另外除了備援之外，函數可以用來建立實驗 (Experimentation) 來進行 A/B 測試。</p>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-clickhouse-hardware-604dec">
<p>Sizing and hardware recommendations | ClickHouse Docs. Retrieved 2026-01-22, from <a href="https://clickhouse.com/docs/guides/sizing-and-hardware-recommendations" target="_blank" rel="noopener noreferrer">https://clickhouse.com/docs/guides/sizing-and-hardware-recommendations</a> <a href="#user-content-fnref-clickhouse-hardware-604dec" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-clickhouse-hardware-604dec-2" data-footnote-backref="" aria-label="Back to reference 1-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-clickhouse-tips-604dec">
<p>OSS usage recommendations | ClickHouse Docs. Retrieved 2026-01-22, from <a href="https://clickhouse.com/docs/operations/tips" target="_blank" rel="noopener noreferrer">https://clickhouse.com/docs/operations/tips</a> <a href="#user-content-fnref-clickhouse-tips-604dec" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a> <a href="#user-content-fnref-clickhouse-tips-604dec-2" data-footnote-backref="" aria-label="Back to reference 2-2" class="data-footnote-backref">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-clickhouse-low-604dec">
<p>Configure ClickHouse® for low memory environments | Altinity® Knowledge Base for ClickHouse®. Retrieved 2026-01-22, from <a href="https://kb.altinity.com/altinity-kb-setup-and-maintenance/configure_clickhouse_for_low_mem_envs/" target="_blank" rel="noopener noreferrer">https://kb.altinity.com/altinity-kb-setup-and-maintenance/configure_clickhouse_for_low_mem_envs/</a> <a href="#user-content-fnref-clickhouse-low-604dec" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-provider-604dec">
<p>Overview - TensorZero Docs. Retrieved 2026-01-22, from  <a href="https://www.tensorzero.com/docs/integrations/model-providers" target="_blank" rel="noopener noreferrer">https://www.tensorzero.com/docs/integrations/model-providers</a> <a href="#user-content-fnref-provider-604dec" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/llm-observability">LLM Observability</a></li><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/llm-gateway">LLM Gateway</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/posts/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 FlyPie (Wei Ji)</div></div></div></footer></div>
</body>
</html>