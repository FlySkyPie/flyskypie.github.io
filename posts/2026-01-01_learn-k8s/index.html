<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-post" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">K8s 學習筆記 - Pod 和它快樂的小夥伴們 | 工程屍 FlyPie 的異想世界</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://flyskypie.github.io/posts/2026-01-01_learn-k8s"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:locale" content="zh_tw"><meta data-rh="true" property="og:title" content="K8s 學習筆記 - Pod 和它快樂的小夥伴們 | 工程屍 FlyPie 的異想世界"><meta data-rh="true" name="description" content="Pod"><meta data-rh="true" property="og:description" content="Pod"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2026-01-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/FlySkyPie"><meta data-rh="true" property="article:tag" content="k8s"><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/FlySkyPie/flyskypie.github.io/main/post/2026-01-01_learn-k8s/02_k8s-pod-shocker.webp"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://flyskypie.github.io/posts/2026-01-01_learn-k8s"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/posts/2026-01-01_learn-k8s" hreflang="en"><link data-rh="true" rel="alternate" href="https://flyskypie.github.io/posts/2026-01-01_learn-k8s" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="工程屍 FlyPie 的異想世界 JSON Feed">




<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="工程屍 FlyPie 的異想世界 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="工程屍 FlyPie 的異想世界 Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.4a9022c6.css">
<script src="/assets/js/runtime~main.00f2b490.js" defer="defer"></script>
<script src="/assets/js/main.6710aec6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_LBgp" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--light_RyNI"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_RjML themedComponent--dark_ntqO"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/docs/the-key-of-huanche/">專案文件</a><a class="navbar__item navbar__link" href="/blogs">數位手記</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/posts">廢文雜談</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_s2nU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_DonJ colorModeToggle_KBLq"><button class="clean-btn toggleButton_qwn5 toggleButtonDisabled_tRn_" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bYdl"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_D9Q4"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Cbrq"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_GUBX"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_UgN6 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_PkUw margin-bottom--md">Recent posts</div><ul class="sidebarItemList_HFnO clean-list"><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-01-12_search-engine">自架搜尋引擎套餐 (YaCy + SearXNG + Local Deep Research)</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-01-08_llm-observability">LLM 可觀測筆記</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-01-07_emoji">工作哲學 - 已讀 Emoji</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-01-07_observability-outage">Homelab 可觀測重建進度</a></li><li class="sidebarItem_NmoJ"><a class="sidebarItemLink_GF4N" href="/posts/2026-01-05_k8s-is-framework">K8s 學習筆記 - K8s 只是框架</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Pod"><header><h1 class="title_BVkY" itemprop="headline">K8s 學習筆記 - Pod 和它快樂的小夥伴們</h1><div class="container_sDB1 margin-vert--md"><time datetime="2026-01-01T00:00:00.000Z" itemprop="datePublished">January 1, 2026</time></div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_SrKl"><div class="avatar margin-bottom--sm"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/9475660" alt="Wei Ji" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/FlySkyPie" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Wei Ji</span></a></div><small class="avatar__subtitle" itemprop="description">閃亮症候群工程屍</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody">
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="pod">Pod<a href="#pod" class="hash-link" aria-label="Direct link to Pod" title="Direct link to Pod">​</a></h2>
<p>聲明一個 Pod：</p>
<div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mendhak/http</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">echo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">38</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>根據聲明建立資源（在這個例子中是建立 Pod）：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f sample.yaml</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接著使用這個指令建立隧道 (tunnel)：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward awesome-pod 3001:8080</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接著就可以透過這個連結訪問剛剛建立的 Pod 了： <code>http://localhost:3001</code></p>
<p><img decoding="async" loading="lazy" src="/assets/images/01_k8s-pod-4679ba59c8b21a01407dcb07e0b49e7d.webp" width="1074" height="620" class="img_RpFt"></p>
<p>這個通道是臨時的，中止指令就會消滅通道，使用過 ngrok 的人或許會對這種感覺不陌生，它就像是「反向的 ngrok」，暫時將 Cluster 內特定的資源暴露到本機上。</p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>玩耍結束後不要忘記銷毀資源：</p><div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl delete -f sample.yaml</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="service">Service<a href="#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">​</a></h2>
<p><img decoding="async" loading="lazy" src="/assets/images/02_k8s-pod-shocker-4a62540489c49f70c2306cd43a2bd76e.webp" width="819" height="394" class="img_RpFt"></p>
<p>Pod 在 K8s 的世界裡其實是雜魚、消耗品，可能會故障然後被清除掉之後被新建的 Pod 取代，又或是為了負載需求而被複製成一堆一樣參數的 Pod，Pod 的 IP 也因此是浮動的，實際使用你不會直接連線到特定的 Pod，而是透過一層抽象找到「在運行這種服務的 Pod」，那個抽象就是 Service。這個抽象不只是用於外部訪問，也包含 Pod 對 Pod 的內部連線。</p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="clusterip">ClusterIP<a href="#clusterip" class="hash-link" aria-label="Direct link to ClusterIP" title="Direct link to ClusterIP">​</a></h3>
<p>一個 Service 大概長得像這樣：</p>
<div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_kzw7 alert alert--info details_D2hA" data-collapsed="true"><summary>完整的檔案如下： sample.yaml</summary><div><div class="collapsibleContent_UYJG"><div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mendhak/http</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">echo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">38</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ClusterIP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain"># 用一樣的指令把服務帶起來：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f sample.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 開 tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl port-forward service/awesome-service 3002:3001</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>只是這次我們連線的目標不是 Pod 而是 Service： <code>http://localhost:3002</code></p>
<p><img decoding="async" loading="lazy" src="/assets/images/03_k8s-service-b23941a8e7ef1812bb5f291b8c14f23d.webp" width="1053" height="685" class="img_RpFt"></p>
<p>ClusterIP 尚未真正對外暴露我們的服務，這個模式主要給 Pod 內部訪問用（路徑3→2）<sup><a href="#user-content-fn-k8s-clusterip-22292d" id="user-content-fnref-k8s-clusterip-22292d" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>：</p>
<p><img decoding="async" loading="lazy" src="data:image/webp;base64,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" width="415" height="156" class="img_RpFt"></p>
<h3 class="anchor anchorWithStickyNavbar_mpuI" id="nodeport">NodePort<a href="#nodeport" class="hash-link" aria-label="Direct link to NodePort" title="Direct link to NodePort">​</a></h3>
<div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mendhak/http</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">echo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">38</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nodePort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30390</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接著用一樣的指令把服務帶起來：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl create -f sample.yaml</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>這次從 Node 的 IP 訪問（例 如： <code>http://192.168.0.123:30390</code>）</p>
<p><img decoding="async" loading="lazy" src="/assets/images/05_k8s-nodeport-733b0e81bbfd709e4f47b3a762c5c38f.webp" width="699" height="572" class="img_RpFt"></p>
<div class="theme-admonition theme-admonition-info admonition_a71W alert alert--info"><div class="admonitionHeading_ZphC"><span class="admonitionIcon_vqjX"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_fKWC"><p>Service 除了 ClusterIP 和 NodePort 以外，還有其他種類，不過在此不做過多的解釋，因為不是本文重點。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_mpuI" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">​</a></h2>
<p><img decoding="async" loading="lazy" src="/assets/images/06_k8s-deployment-fa13c0794e54fff3e6c7ad95333b9d96.webp" width="838" height="460" class="img_RpFt"></p>
<blockquote>
<p>Pod 在 K8s 的世界裡其實是雜魚、消耗品</p>
</blockquote>
<p>是的，在 K8s 我們一般不會直接佈署 Pod，而是透過 Deployment 組件（或是其他類似功能的組件）來間接的佈署 Pod：</p>
<div class="language-yaml codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-yaml codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">deployment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kubernetes</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">demo</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mendhak/http</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">https</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">echo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">38</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">containerPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> awesomeApp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodePort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">protocol</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">targetPort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nodePort</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30390</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你可以用瀏覽器打開它（例如： <code>http://192.168.0.123:30390</code>）， 不過你可能只會看到相同的 <code>os.hostname</code>，試試多執行幾次 <code>curl</code>：</p>
<div class="language-shell codeBlockContainer_HtHN theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_XzDj"><pre tabindex="0" class="prism-code language-shell codeBlock_Kgad thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xOgw"><span class="token-line" style="color:#393A34"><span class="token plain">curl http://192.168.0.123:30390/ | jq .os.hostname</span><br></span></code></pre><div class="buttonGroup_PN__"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lePV" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mz7K"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_aySJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_mpuI sr-only" id="footnote-label">Footnotes<a href="#footnote-label" class="hash-link" aria-label="Direct link to Footnotes" title="Direct link to Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-k8s-clusterip-22292d">
<p>Kubernetes Service 概念詳解 | Kubernetes. Retrieved 2026-01-01, from <a href="https://tachingchen.com/tw/blog/kubernetes-service/" target="_blank" rel="noopener noreferrer">https://tachingchen.com/tw/blog/kubernetes-service/</a> <a href="#user-content-fnref-k8s-clusterip-22292d" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_Dvxa"><div class="col"><b>Tags:</b><ul class="tags_Wp5O padding--none margin-left--sm"><li class="tag_UXKs"><a class="tag_lXMw tagRegular_c460" href="/posts/tags/k-8-s">k8s</a></li></ul></div></footer></article><div id="disqus_thread"></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/posts/2026-01-02_learn-k8s"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">安裝 K3s 與遠端連線</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/posts/2025-12-31_learn-k8s"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">K8s 學習筆記 - Cluster 和它快樂的小夥伴們</div></a></nav></main><div class="col col--2"><div class="tableOfContents_OfXd thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pod" class="table-of-contents__link toc-highlight">Pod</a></li><li><a href="#service" class="table-of-contents__link toc-highlight">Service</a><ul><li><a href="#clusterip" class="table-of-contents__link toc-highlight">ClusterIP</a></li><li><a href="#nodeport" class="table-of-contents__link toc-highlight">NodePort</a></li></ul></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 FlyPie (Wei Ji)</div></div></div></footer></div>
</body>
</html>